(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const b of m.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&u(b)}).observe(document,{childList:!0,subtree:!0});function d(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(f){if(f.ep)return;f.ep=!0;const m=d(f);fetch(f.href,m)}})();function Mh(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Wu={exports:{}},si={};var rh;function Jy(){if(rh)return si;rh=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function d(u,f,m){var b=null;if(m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),"key"in f){m={};for(var S in f)S!=="key"&&(m[S]=f[S])}else m=f;return f=m.ref,{$$typeof:c,type:u,key:b,ref:f!==void 0?f:null,props:m}}return si.Fragment=r,si.jsx=d,si.jsxs=d,si}var fh;function Wy(){return fh||(fh=1,Wu.exports=Jy()),Wu.exports}var s=Wy(),Fu={exports:{}},De={};var dh;function Fy(){if(dh)return De;dh=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),p=Symbol.iterator;function T(y){return y===null||typeof y!="object"?null:(y=p&&y[p]||y["@@iterator"],typeof y=="function"?y:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,A={};function I(y,w,_){this.props=y,this.context=w,this.refs=A,this.updater=_||O}I.prototype.isReactComponent={},I.prototype.setState=function(y,w){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,w,"setState")},I.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function V(){}V.prototype=I.prototype;function ee(y,w,_){this.props=y,this.context=w,this.refs=A,this.updater=_||O}var L=ee.prototype=new V;L.constructor=ee,U(L,I.prototype),L.isPureReactComponent=!0;var E=Array.isArray;function J(){}var Z={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function de(y,w,_){var W=_.ref;return{$$typeof:c,type:y,key:w,ref:W!==void 0?W:null,props:_}}function ve(y,w){return de(y.type,w,y.props)}function ce(y){return typeof y=="object"&&y!==null&&y.$$typeof===c}function ne(y){var w={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(_){return w[_]})}var G=/\/+/g;function ie(y,w){return typeof y=="object"&&y!==null&&y.key!=null?ne(""+y.key):w.toString(36)}function P(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(J,J):(y.status="pending",y.then(function(w){y.status==="pending"&&(y.status="fulfilled",y.value=w)},function(w){y.status==="pending"&&(y.status="rejected",y.reason=w)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function M(y,w,_,W,fe){var he=typeof y;(he==="undefined"||he==="boolean")&&(y=null);var Te=!1;if(y===null)Te=!0;else switch(he){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(y.$$typeof){case c:case r:Te=!0;break;case C:return Te=y._init,M(Te(y._payload),w,_,W,fe)}}if(Te)return fe=fe(y),Te=W===""?"."+ie(y,0):W,E(fe)?(_="",Te!=null&&(_=Te.replace(G,"$&/")+"/"),M(fe,w,_,"",function(we){return we})):fe!=null&&(ce(fe)&&(fe=ve(fe,_+(fe.key==null||y&&y.key===fe.key?"":(""+fe.key).replace(G,"$&/")+"/")+Te)),w.push(fe)),1;Te=0;var se=W===""?".":W+":";if(E(y))for(var me=0;me<y.length;me++)W=y[me],he=se+ie(W,me),Te+=M(W,w,_,he,fe);else if(me=T(y),typeof me=="function")for(y=me.call(y),me=0;!(W=y.next()).done;)W=W.value,he=se+ie(W,me++),Te+=M(W,w,_,he,fe);else if(he==="object"){if(typeof y.then=="function")return M(P(y),w,_,W,fe);throw w=String(y),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return Te}function q(y,w,_){if(y==null)return y;var W=[],fe=0;return M(y,W,"","",function(he){return w.call(_,he,fe++)}),W}function F(y){if(y._status===-1){var w=y._result;w=w(),w.then(function(_){(y._status===0||y._status===-1)&&(y._status=1,y._result=_)},function(_){(y._status===0||y._status===-1)&&(y._status=2,y._result=_)}),y._status===-1&&(y._status=0,y._result=w)}if(y._status===1)return y._result.default;throw y._result}var re=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},oe={map:q,forEach:function(y,w,_){q(y,function(){w.apply(this,arguments)},_)},count:function(y){var w=0;return q(y,function(){w++}),w},toArray:function(y){return q(y,function(w){return w})||[]},only:function(y){if(!ce(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return De.Activity=v,De.Children=oe,De.Component=I,De.Fragment=d,De.Profiler=f,De.PureComponent=ee,De.StrictMode=u,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,De.__COMPILER_RUNTIME={__proto__:null,c:function(y){return Z.H.useMemoCache(y)}},De.cache=function(y){return function(){return y.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(y,w,_){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var W=U({},y.props),fe=y.key;if(w!=null)for(he in w.key!==void 0&&(fe=""+w.key),w)!Q.call(w,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&w.ref===void 0||(W[he]=w[he]);var he=arguments.length-2;if(he===1)W.children=_;else if(1<he){for(var Te=Array(he),se=0;se<he;se++)Te[se]=arguments[se+2];W.children=Te}return de(y.type,fe,W)},De.createContext=function(y){return y={$$typeof:b,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:m,_context:y},y},De.createElement=function(y,w,_){var W,fe={},he=null;if(w!=null)for(W in w.key!==void 0&&(he=""+w.key),w)Q.call(w,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(fe[W]=w[W]);var Te=arguments.length-2;if(Te===1)fe.children=_;else if(1<Te){for(var se=Array(Te),me=0;me<Te;me++)se[me]=arguments[me+2];fe.children=se}if(y&&y.defaultProps)for(W in Te=y.defaultProps,Te)fe[W]===void 0&&(fe[W]=Te[W]);return de(y,he,fe)},De.createRef=function(){return{current:null}},De.forwardRef=function(y){return{$$typeof:S,render:y}},De.isValidElement=ce,De.lazy=function(y){return{$$typeof:C,_payload:{_status:-1,_result:y},_init:F}},De.memo=function(y,w){return{$$typeof:x,type:y,compare:w===void 0?null:w}},De.startTransition=function(y){var w=Z.T,_={};Z.T=_;try{var W=y(),fe=Z.S;fe!==null&&fe(_,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(J,re)}catch(he){re(he)}finally{w!==null&&_.types!==null&&(w.types=_.types),Z.T=w}},De.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},De.use=function(y){return Z.H.use(y)},De.useActionState=function(y,w,_){return Z.H.useActionState(y,w,_)},De.useCallback=function(y,w){return Z.H.useCallback(y,w)},De.useContext=function(y){return Z.H.useContext(y)},De.useDebugValue=function(){},De.useDeferredValue=function(y,w){return Z.H.useDeferredValue(y,w)},De.useEffect=function(y,w){return Z.H.useEffect(y,w)},De.useEffectEvent=function(y){return Z.H.useEffectEvent(y)},De.useId=function(){return Z.H.useId()},De.useImperativeHandle=function(y,w,_){return Z.H.useImperativeHandle(y,w,_)},De.useInsertionEffect=function(y,w){return Z.H.useInsertionEffect(y,w)},De.useLayoutEffect=function(y,w){return Z.H.useLayoutEffect(y,w)},De.useMemo=function(y,w){return Z.H.useMemo(y,w)},De.useOptimistic=function(y,w){return Z.H.useOptimistic(y,w)},De.useReducer=function(y,w,_){return Z.H.useReducer(y,w,_)},De.useRef=function(y){return Z.H.useRef(y)},De.useState=function(y){return Z.H.useState(y)},De.useSyncExternalStore=function(y,w,_){return Z.H.useSyncExternalStore(y,w,_)},De.useTransition=function(){return Z.H.useTransition()},De.version="19.2.1",De}var hh;function uo(){return hh||(hh=1,Fu.exports=Fy()),Fu.exports}var te=uo();const ui=Mh(te);var Iu={exports:{}},ci={},Pu={exports:{}},eo={};var mh;function Iy(){return mh||(mh=1,(function(c){function r(M,q){var F=M.length;M.push(q);e:for(;0<F;){var re=F-1>>>1,oe=M[re];if(0<f(oe,q))M[re]=q,M[F]=oe,F=re;else break e}}function d(M){return M.length===0?null:M[0]}function u(M){if(M.length===0)return null;var q=M[0],F=M.pop();if(F!==q){M[0]=F;e:for(var re=0,oe=M.length,y=oe>>>1;re<y;){var w=2*(re+1)-1,_=M[w],W=w+1,fe=M[W];if(0>f(_,F))W<oe&&0>f(fe,_)?(M[re]=fe,M[W]=F,re=W):(M[re]=_,M[w]=F,re=w);else if(W<oe&&0>f(fe,F))M[re]=fe,M[W]=F,re=W;else break e}}return q}function f(M,q){var F=M.sortIndex-q.sortIndex;return F!==0?F:M.id-q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;c.unstable_now=function(){return m.now()}}else{var b=Date,S=b.now();c.unstable_now=function(){return b.now()-S}}var g=[],x=[],C=1,v=null,p=3,T=!1,O=!1,U=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function L(M){for(var q=d(x);q!==null;){if(q.callback===null)u(x);else if(q.startTime<=M)u(x),q.sortIndex=q.expirationTime,r(g,q);else break;q=d(x)}}function E(M){if(U=!1,L(M),!O)if(d(g)!==null)O=!0,J||(J=!0,ne());else{var q=d(x);q!==null&&P(E,q.startTime-M)}}var J=!1,Z=-1,Q=5,de=-1;function ve(){return A?!0:!(c.unstable_now()-de<Q)}function ce(){if(A=!1,J){var M=c.unstable_now();de=M;var q=!0;try{e:{O=!1,U&&(U=!1,V(Z),Z=-1),T=!0;var F=p;try{t:{for(L(M),v=d(g);v!==null&&!(v.expirationTime>M&&ve());){var re=v.callback;if(typeof re=="function"){v.callback=null,p=v.priorityLevel;var oe=re(v.expirationTime<=M);if(M=c.unstable_now(),typeof oe=="function"){v.callback=oe,L(M),q=!0;break t}v===d(g)&&u(g),L(M)}else u(g);v=d(g)}if(v!==null)q=!0;else{var y=d(x);y!==null&&P(E,y.startTime-M),q=!1}}break e}finally{v=null,p=F,T=!1}q=void 0}}finally{q?ne():J=!1}}}var ne;if(typeof ee=="function")ne=function(){ee(ce)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=ce,ne=function(){ie.postMessage(null)}}else ne=function(){I(ce,0)};function P(M,q){Z=I(function(){M(c.unstable_now())},q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return p},c.unstable_next=function(M){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var F=p;p=q;try{return M()}finally{p=F}},c.unstable_requestPaint=function(){A=!0},c.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=p;p=M;try{return q()}finally{p=F}},c.unstable_scheduleCallback=function(M,q,F){var re=c.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?re+F:re):F=re,M){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=F+oe,M={id:C++,callback:q,priorityLevel:M,startTime:F,expirationTime:oe,sortIndex:-1},F>re?(M.sortIndex=F,r(x,M),d(g)===null&&M===d(x)&&(U?(V(Z),Z=-1):U=!0,P(E,F-re))):(M.sortIndex=oe,r(g,M),O||T||(O=!0,J||(J=!0,ne()))),M},c.unstable_shouldYield=ve,c.unstable_wrapCallback=function(M){var q=p;return function(){var F=p;p=q;try{return M.apply(this,arguments)}finally{p=F}}}})(eo)),eo}var yh;function Py(){return yh||(yh=1,Pu.exports=Iy()),Pu.exports}var to={exports:{}},vt={};var gh;function eg(){if(gh)return vt;gh=1;var c=uo();function r(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)x+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(r(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},f=Symbol.for("react.portal");function m(g,x,C){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:v==null?null:""+v,children:g,containerInfo:x,implementation:C}}var b=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,vt.createPortal=function(g,x){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return m(g,x,null,C)},vt.flushSync=function(g){var x=b.T,C=u.p;try{if(b.T=null,u.p=2,g)return g()}finally{b.T=x,u.p=C,u.d.f()}},vt.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(g,x))},vt.prefetchDNS=function(g){typeof g=="string"&&u.d.D(g)},vt.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var C=x.as,v=S(C,x.crossOrigin),p=typeof x.integrity=="string"?x.integrity:void 0,T=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;C==="style"?u.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:v,integrity:p,fetchPriority:T}):C==="script"&&u.d.X(g,{crossOrigin:v,integrity:p,fetchPriority:T,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},vt.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var C=S(x.as,x.crossOrigin);u.d.M(g,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(g)},vt.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var C=x.as,v=S(C,x.crossOrigin);u.d.L(g,C,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},vt.preloadModule=function(g,x){if(typeof g=="string")if(x){var C=S(x.as,x.crossOrigin);u.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(g)},vt.requestFormReset=function(g){u.d.r(g)},vt.unstable_batchedUpdates=function(g,x){return g(x)},vt.useFormState=function(g,x,C){return b.H.useFormState(g,x,C)},vt.useFormStatus=function(){return b.H.useHostTransitionStatus()},vt.version="19.2.1",vt}var ph;function tg(){if(ph)return to.exports;ph=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),to.exports=eg(),to.exports}var vh;function ag(){if(vh)return ci;vh=1;var c=Py(),r=uo(),d=tg();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(m(e)!==e)throw Error(u(188))}function x(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return g(n),e;if(i===l)return g(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var o=!1,h=n.child;h;){if(h===a){o=!0,a=n,l=i;break}if(h===l){o=!0,l=n,a=i;break}h=h.sibling}if(!o){for(h=i.child;h;){if(h===a){o=!0,a=i,l=n;break}if(h===l){o=!0,l=i,a=n;break}h=h.sibling}if(!o)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,p=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case E:return"Suspense";case J:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case ee:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var P=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},re=[],oe=-1;function y(e){return{current:e}}function w(e){0>oe||(e.current=re[oe],re[oe]=null,oe--)}function _(e,t){oe++,re[oe]=e.current,e.current=t}var W=y(null),fe=y(null),he=y(null),Te=y(null);function se(e,t){switch(_(he,t),_(fe,e),_(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_d(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_d(t),e=kd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}w(W),_(W,e)}function me(){w(W),w(fe),w(he)}function we(e){e.memoizedState!==null&&_(Te,e);var t=W.current,a=kd(t,e.type);t!==a&&(_(fe,e),_(W,a))}function Se(e){fe.current===e&&(w(W),w(fe)),Te.current===e&&(w(Te),ai._currentValue=F)}var Ae,at;function dt(e){if(Ae===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ae=t&&t[1]||"",at=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+e+at}var xt=!1;function ea(e,t){if(!e||xt)return"";xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var Y=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){Y=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){Y=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&Y&&typeof B.stack=="string")return[B.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],h=i[1];if(o&&h){var j=o.split(`
`),H=h.split(`
`);for(n=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;n<H.length&&!H[n].includes("DetermineComponentFrameRoot");)n++;if(l===j.length||n===H.length)for(l=j.length-1,n=H.length-1;1<=l&&0<=n&&j[l]!==H[n];)n--;for(;1<=l&&0<=n;l--,n--)if(j[l]!==H[n]){if(l!==1||n!==1)do if(l--,n--,0>n||j[l]!==H[n]){var X=`
`+j[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=n);break}}}finally{xt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?dt(a):""}function Ea(e,t){switch(e.tag){case 26:case 27:case 5:return dt(e.type);case 16:return dt("Lazy");case 13:return e.child!==t&&t!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return ea(e.type,!1);case 11:return ea(e.type.render,!1);case 1:return ea(e.type,!0);case 31:return dt("Activity");default:return""}}function nl(e){try{var t="",a=null;do t+=Ea(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var il=Object.prototype.hasOwnProperty,sl=c.unstable_scheduleCallback,ua=c.unstable_cancelCallback,cl=c.unstable_shouldYield,k=c.unstable_requestPaint,ae=c.unstable_now,xe=c.unstable_getCurrentPriorityLevel,Oe=c.unstable_ImmediatePriority,_e=c.unstable_UserBlockingPriority,Ne=c.unstable_NormalPriority,be=c.unstable_LowPriority,Ke=c.unstable_IdlePriority,bt=c.log,oa=c.unstable_setDisableYieldValue,Kt=null,D=null;function ue(e){if(typeof bt=="function"&&oa(e),D&&typeof D.setStrictMode=="function")try{D.setStrictMode(Kt,e)}catch{}}var ye=Math.clz32?Math.clz32:ta,Ee=Math.log,We=Math.LN2;function ta(e){return e>>>=0,e===0?32:31-(Ee(e)/We|0)|0}var Ca=256,mi=262144,yi=4194304;function ul(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var h=l&134217727;return h!==0?(l=h&~i,l!==0?n=ul(l):(o&=h,o!==0?n=ul(o):a||(a=h&~e,a!==0&&(n=ul(a))))):(h=l&~i,h!==0?n=ul(h):o!==0?n=ul(o):a||(a=l&~e,a!==0&&(n=ul(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function yn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Uh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),e}function Ys(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,t,a,l,n,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var h=e.entanglements,j=e.expirationTimes,H=e.hiddenUpdates;for(a=o&~a;0<a;){var X=31-ye(a),K=1<<X;h[X]=0,j[X]=-1;var Y=H[X];if(Y!==null)for(H[X]=null,X=0;X<Y.length;X++){var B=Y[X];B!==null&&(B.lane&=-536870913)}a&=~K}l!==0&&mo(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function mo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function yo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ye(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function go(e,t){var a=t&-t;return a=(a&42)!==0?1:qs(a),(a&(e.suspendedLanes|t))!==0?0:a}function qs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function po(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:lh(e.type))}function vo(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var Aa=Math.random().toString(36).slice(2),ht="__reactFiber$"+Aa,Tt="__reactProps$"+Aa,Dl="__reactContainer$"+Aa,Gs="__reactEvents$"+Aa,Yh="__reactListeners$"+Aa,qh="__reactHandles$"+Aa,xo="__reactResources$"+Aa,pn="__reactMarker$"+Aa;function Ls(e){delete e[ht],delete e[Tt],delete e[Gs],delete e[Yh],delete e[qh]}function wl(e){var t=e[ht];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Dl]||a[ht]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gd(e);e!==null;){if(a=e[ht])return a;e=Gd(e)}return t}e=a,a=e.parentNode}return null}function El(e){if(e=e[ht]||e[Dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Cl(e){var t=e[xo];return t||(t=e[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[pn]=!0}var bo=new Set,So={};function ol(e,t){Al(e,t),Al(e+"Capture",t)}function Al(e,t){for(So[e]=t,e=0;e<t.length;e++)bo.add(t[e])}var Bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},To={};function Gh(e){return il.call(To,e)?!0:il.call(jo,e)?!1:Bh.test(e)?To[e]=!0:(jo[e]=!0,!1)}function pi(e,t,a){if(Gh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function vi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ra(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function No(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){if(!e._valueTracker){var t=No(e)?"checked":"value";e._valueTracker=Lh(e,t,""+e[t])}}function Mo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=No(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xh=/[\n"\\]/g;function Yt(e){return e.replace(Xh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qs(e,t,a,l,n,i,o,h){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Zs(e,o,Ht(t)):a!=null?Zs(e,o,Ht(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+Ht(h):e.removeAttribute("name")}function Do(e,t,a,l,n,i,o,h){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Xs(e);return}a=a!=null?""+Ht(a):"",t=t!=null?""+Ht(t):a,h||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=h?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Xs(e)}function Zs(e,t,a){t==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ol(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function wo(e,t,a){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ht(a):""}function Eo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(P(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ht(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xs(e)}function zl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Qh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ao(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Co(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Co(e,i,t[i])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(e){return $h.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fa(){}var Vs=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,kl=null;function Oo(e){var t=El(e);if(t&&(e=t.stateNode)){var a=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[Tt]||null;if(!n)throw Error(u(90));Qs(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Mo(l)}break e;case"textarea":wo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ol(e,!!a.multiple,t,!1)}}}var Js=!1;function zo(e,t,a){if(Js)return e(t,a);Js=!0;try{var l=e(t);return l}finally{if(Js=!1,(_l!==null||kl!==null)&&(cs(),_l&&(t=_l,e=kl,kl=_l=null,Oo(t),e)))for(t=0;t<e.length;t++)Oo(e[t])}}function xn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(da)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Ws=!1}var Oa=null,Fs=null,Si=null;function _o(){if(Si)return Si;var e,t=Fs,a=t.length,l,n="value"in Oa?Oa.value:Oa.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===n[i-l];l++);return Si=n.slice(e,1<l?1-l:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function ko(){return!1}function Nt(e){function t(a,l,n,i,o){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(a=e[h],this[h]=a?a(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ti:ko,this.isPropagationStopped=ko,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Nt(rl),Sn=v({},rl,{view:0,detail:0}),Vh=Nt(Sn),Is,Ps,jn,Mi=v({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(Is=e.screenX-jn.screenX,Ps=e.screenY-jn.screenY):Ps=Is=0,jn=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:Ps}}),Ro=Nt(Mi),Kh=v({},Mi,{dataTransfer:0}),Jh=Nt(Kh),Wh=v({},Sn,{relatedTarget:0}),ec=Nt(Wh),Fh=v({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=Nt(Fh),Ph=v({},rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),em=Nt(Ph),tm=v({},rl,{data:0}),Uo=Nt(tm),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nm[e])?!!t[e]:!1}function tc(){return im}var sm=v({},Sn,{key:function(e){if(e.key){var t=am[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cm=Nt(sm),um=v({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Nt(um),om=v({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),rm=Nt(om),fm=v({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dm=Nt(fm),hm=v({},Mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=Nt(hm),ym=v({},rl,{newState:0,oldState:0}),gm=Nt(ym),pm=[9,13,27,32],ac=da&&"CompositionEvent"in window,Tn=null;da&&"documentMode"in document&&(Tn=document.documentMode);var vm=da&&"TextEvent"in window&&!Tn,Yo=da&&(!ac||Tn&&8<Tn&&11>=Tn),qo=" ",Bo=!1;function Go(e,t){switch(e){case"keyup":return pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function xm(e,t){switch(e){case"compositionend":return Lo(t);case"keypress":return t.which!==32?null:(Bo=!0,qo);case"textInput":return e=t.data,e===qo&&Bo?null:e;default:return null}}function bm(e,t){if(Rl)return e==="compositionend"||!ac&&Go(e,t)?(e=_o(),Si=Fs=Oa=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yo&&t.locale!=="ko"?null:t.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sm[e.type]:t==="textarea"}function Qo(e,t,a,l){_l?kl?kl.push(l):kl=[l]:_l=l,t=ms(t,"onChange"),0<t.length&&(a=new Ni("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Nn=null,Mn=null;function jm(e){wd(e,0)}function Di(e){var t=vn(e);if(Mo(t))return e}function Zo(e,t){if(e==="change")return t}var $o=!1;if(da){var lc;if(da){var nc="oninput"in document;if(!nc){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),nc=typeof Vo.oninput=="function"}lc=nc}else lc=!1;$o=lc&&(!document.documentMode||9<document.documentMode)}function Ko(){Nn&&(Nn.detachEvent("onpropertychange",Jo),Mn=Nn=null)}function Jo(e){if(e.propertyName==="value"&&Di(Mn)){var t=[];Qo(t,Mn,e,Ks(e)),zo(jm,t)}}function Tm(e,t,a){e==="focusin"?(Ko(),Nn=t,Mn=a,Nn.attachEvent("onpropertychange",Jo)):e==="focusout"&&Ko()}function Nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(Mn)}function Mm(e,t){if(e==="click")return Di(t)}function Dm(e,t){if(e==="input"||e==="change")return Di(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:wm;function Dn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!il.call(t,n)||!At(e[n],t[n]))return!1}return!0}function Wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fo(e,t){var a=Wo(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wo(a)}}function Io(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Io(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Po(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=xi(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Em=da&&"documentMode"in document&&11>=document.documentMode,Ul=null,sc=null,wn=null,cc=!1;function er(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||Ul==null||Ul!==xi(l)||(l=Ul,"selectionStart"in l&&ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wn&&Dn(wn,l)||(wn=l,l=ms(sc,"onSelect"),0<l.length&&(t=new Ni("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Ul)))}function fl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hl={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionrun:fl("Transition","TransitionRun"),transitionstart:fl("Transition","TransitionStart"),transitioncancel:fl("Transition","TransitionCancel"),transitionend:fl("Transition","TransitionEnd")},uc={},tr={};da&&(tr=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function dl(e){if(uc[e])return uc[e];if(!Hl[e])return e;var t=Hl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in tr)return uc[e]=t[a];return e}var ar=dl("animationend"),lr=dl("animationiteration"),nr=dl("animationstart"),Cm=dl("transitionrun"),Am=dl("transitionstart"),Om=dl("transitioncancel"),ir=dl("transitionend"),sr=new Map,oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oc.push("scrollEnd");function Jt(e,t){sr.set(e,t),ol(t,[e])}var wi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Yl=0,rc=0;function Ei(){for(var e=Yl,t=rc=Yl=0;t<e;){var a=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var i=qt[t];if(qt[t++]=null,l!==null&&n!==null){var o=l.pending;o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n}i!==0&&cr(a,n,i)}}function Ci(e,t,a,l){qt[Yl++]=e,qt[Yl++]=t,qt[Yl++]=a,qt[Yl++]=l,rc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fc(e,t,a,l){return Ci(e,t,a,l),Ai(e)}function hl(e,t){return Ci(e,null,null,t),Ai(e)}function cr(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ye(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Ai(e){if(50<Jn)throw Jn=0,bu=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ql={};function zm(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,l){return new zm(e,t,a,l)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ur(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Oi(e,t,a,l,n,i){var o=0;if(l=e,typeof e=="function")dc(e)&&(o=1);else if(typeof e=="string")o=Hy(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Ot(31,a,t,n),e.elementType=de,e.lanes=i,e;case U:return ml(a.children,n,i,t);case A:o=8,n|=24;break;case I:return e=Ot(12,a,t,n|2),e.elementType=I,e.lanes=i,e;case E:return e=Ot(13,a,t,n),e.elementType=E,e.lanes=i,e;case J:return e=Ot(19,a,t,n),e.elementType=J,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:o=10;break e;case V:o=9;break e;case L:o=11;break e;case Z:o=14;break e;case Q:o=16,l=null;break e}o=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Ot(o,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function ml(e,t,a,l){return e=Ot(7,e,l,t),e.lanes=a,e}function hc(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function or(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function mc(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rr=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=rr.get(e);return a!==void 0?a:(t={value:e,source:t,stack:nl(t)},rr.set(e,t),t)}return{value:e,source:t,stack:nl(t)}}var Bl=[],Gl=0,zi=null,En=0,Gt=[],Lt=0,za=null,aa=1,la="";function ma(e,t){Bl[Gl++]=En,Bl[Gl++]=zi,zi=e,En=t}function fr(e,t,a){Gt[Lt++]=aa,Gt[Lt++]=la,Gt[Lt++]=za,za=e;var l=aa;e=la;var n=32-ye(l)-1;l&=~(1<<n),a+=1;var i=32-ye(t)+n;if(30<i){var o=n-n%5;i=(l&(1<<o)-1).toString(32),l>>=o,n-=o,aa=1<<32-ye(t)+n|a<<n|l,la=i+e}else aa=1<<i|a<<n|l,la=e}function yc(e){e.return!==null&&(ma(e,1),fr(e,1,0))}function gc(e){for(;e===zi;)zi=Bl[--Gl],Bl[Gl]=null,En=Bl[--Gl],Bl[Gl]=null;for(;e===za;)za=Gt[--Lt],Gt[Lt]=null,la=Gt[--Lt],Gt[Lt]=null,aa=Gt[--Lt],Gt[Lt]=null}function dr(e,t){Gt[Lt++]=aa,Gt[Lt++]=la,Gt[Lt++]=za,aa=t.id,la=t.overflow,za=e}var mt=null,Fe=null,qe=!1,_a=null,Xt=!1,pc=Error(u(519));function ka(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cn(Bt(t,e)),pc}function hr(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ht]=e,t[Tt]=l,a){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(a=0;a<Fn.length;a++)Ue(Fn[a],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Do(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Eo(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Od(t.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),l.onScroll!=null&&Ue("scroll",t),l.onScrollEnd!=null&&Ue("scrollend",t),l.onClick!=null&&(t.onclick=fa),t=!0):t=!1,t||ka(e,!0)}function mr(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:mt=mt.return}}function Ll(e){if(e!==mt)return!1;if(!qe)return mr(e),qe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&Fe&&ka(e),mr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=Bd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=Bd(e)}else t===27?(t=Fe,Ka(e.type)?(e=Bu,Bu=null,Fe=e):Fe=t):Fe=mt?Zt(e.stateNode.nextSibling):null;return!0}function yl(){Fe=mt=null,qe=!1}function vc(){var e=_a;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),_a=null),e}function Cn(e){_a===null?_a=[e]:_a.push(e)}var xc=y(null),gl=null,ya=null;function Ra(e,t,a){_(xc,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=xc.current,w(xc)}function bc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Sc(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var h=i;i=n;for(var j=0;j<t.length;j++)if(h.context===t[j]){i.lanes|=a,h=i.alternate,h!==null&&(h.lanes|=a),bc(i.return,a,e),l||(o=null);break e}i=h.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(u(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),bc(o,a,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Xl(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(u(387));if(o=o.memoizedProps,o!==null){var h=n.type;At(n.pendingProps.value,o.value)||(e!==null?e.push(h):e=[h])}}else if(n===Te.current){if(o=n.alternate,o===null)throw Error(u(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(ai):e=[ai])}n=n.return}e!==null&&Sc(t,e,a,l),t.flags|=262144}function _i(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pl(e){gl=e,ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return yr(gl,e)}function ki(e,t){return gl===null&&pl(e),yr(e,t)}function yr(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ya===null){if(e===null)throw Error(u(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return a}var _m=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},km=c.unstable_scheduleCallback,Rm=c.unstable_NormalPriority,it={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new _m,data:new Map,refCount:0}}function An(e){e.refCount--,e.refCount===0&&km(Rm,function(){e.controller.abort()})}var On=null,Tc=0,Ql=0,Zl=null;function Um(e,t){if(On===null){var a=On=[];Tc=0,Ql=Du(),Zl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tc++,t.then(gr,gr),t}function gr(){if(--Tc===0&&On!==null){Zl!==null&&(Zl.status="fulfilled");var e=On;On=null,Ql=0,Zl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var pr=M.S;M.S=function(e,t){td=ae(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Um(e,t),pr!==null&&pr(e,t)};var vl=y(null);function Nc(){var e=vl.current;return e!==null?e:Je.pooledCache}function Ri(e,t){t===null?_(vl,vl.current):_(vl,t.pool)}function vr(){var e=Nc();return e===null?null:{parent:it._currentValue,pool:e}}var $l=Error(u(460)),Mc=Error(u(474)),Ui=Error(u(542)),Hi={then:function(){}};function xr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function br(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fa,fa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jr(e),e;default:if(typeof t.status=="string")t.then(fa,fa);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jr(e),e}throw bl=t,$l}}function xl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(bl=a,$l):a}}var bl=null;function Sr(){if(bl===null)throw Error(u(459));var e=bl;return bl=null,e}function jr(e){if(e===$l||e===Ui)throw Error(u(483))}var Vl=null,zn=0;function Yi(e){var t=zn;return zn+=1,Vl===null&&(Vl=[]),br(Vl,e,t)}function _n(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qi(e,t){throw t.$$typeof===p?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Tr(e){function t(z,N){if(e){var R=z.deletions;R===null?(z.deletions=[N],z.flags|=16):R.push(N)}}function a(z,N){if(!e)return null;for(;N!==null;)t(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function n(z,N){return z=ha(z,N),z.index=0,z.sibling=null,z}function i(z,N,R){return z.index=R,e?(R=z.alternate,R!==null?(R=R.index,R<N?(z.flags|=67108866,N):R):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function o(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function h(z,N,R,$){return N===null||N.tag!==6?(N=hc(R,z.mode,$),N.return=z,N):(N=n(N,R),N.return=z,N)}function j(z,N,R,$){var je=R.type;return je===U?X(z,N,R.props.children,$,R.key):N!==null&&(N.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Q&&xl(je)===N.type)?(N=n(N,R.props),_n(N,R),N.return=z,N):(N=Oi(R.type,R.key,R.props,null,z.mode,$),_n(N,R),N.return=z,N)}function H(z,N,R,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==R.containerInfo||N.stateNode.implementation!==R.implementation?(N=mc(R,z.mode,$),N.return=z,N):(N=n(N,R.children||[]),N.return=z,N)}function X(z,N,R,$,je){return N===null||N.tag!==7?(N=ml(R,z.mode,$,je),N.return=z,N):(N=n(N,R),N.return=z,N)}function K(z,N,R){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=hc(""+N,z.mode,R),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return R=Oi(N.type,N.key,N.props,null,z.mode,R),_n(R,N),R.return=z,R;case O:return N=mc(N,z.mode,R),N.return=z,N;case Q:return N=xl(N),K(z,N,R)}if(P(N)||ne(N))return N=ml(N,z.mode,R,null),N.return=z,N;if(typeof N.then=="function")return K(z,Yi(N),R);if(N.$$typeof===ee)return K(z,ki(z,N),R);qi(z,N)}return null}function Y(z,N,R,$){var je=N!==null?N.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return je!==null?null:h(z,N,""+R,$);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return R.key===je?j(z,N,R,$):null;case O:return R.key===je?H(z,N,R,$):null;case Q:return R=xl(R),Y(z,N,R,$)}if(P(R)||ne(R))return je!==null?null:X(z,N,R,$,null);if(typeof R.then=="function")return Y(z,N,Yi(R),$);if(R.$$typeof===ee)return Y(z,N,ki(z,R),$);qi(z,R)}return null}function B(z,N,R,$,je){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(R)||null,h(N,z,""+$,je);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return z=z.get($.key===null?R:$.key)||null,j(N,z,$,je);case O:return z=z.get($.key===null?R:$.key)||null,H(N,z,$,je);case Q:return $=xl($),B(z,N,R,$,je)}if(P($)||ne($))return z=z.get(R)||null,X(N,z,$,je,null);if(typeof $.then=="function")return B(z,N,R,Yi($),je);if($.$$typeof===ee)return B(z,N,R,ki(N,$),je);qi(N,$)}return null}function ge(z,N,R,$){for(var je=null,Be=null,pe=N,ke=N=0,Ye=null;pe!==null&&ke<R.length;ke++){pe.index>ke?(Ye=pe,pe=null):Ye=pe.sibling;var Ge=Y(z,pe,R[ke],$);if(Ge===null){pe===null&&(pe=Ye);break}e&&pe&&Ge.alternate===null&&t(z,pe),N=i(Ge,N,ke),Be===null?je=Ge:Be.sibling=Ge,Be=Ge,pe=Ye}if(ke===R.length)return a(z,pe),qe&&ma(z,ke),je;if(pe===null){for(;ke<R.length;ke++)pe=K(z,R[ke],$),pe!==null&&(N=i(pe,N,ke),Be===null?je=pe:Be.sibling=pe,Be=pe);return qe&&ma(z,ke),je}for(pe=l(pe);ke<R.length;ke++)Ye=B(pe,z,ke,R[ke],$),Ye!==null&&(e&&Ye.alternate!==null&&pe.delete(Ye.key===null?ke:Ye.key),N=i(Ye,N,ke),Be===null?je=Ye:Be.sibling=Ye,Be=Ye);return e&&pe.forEach(function(Pa){return t(z,Pa)}),qe&&ma(z,ke),je}function Me(z,N,R,$){if(R==null)throw Error(u(151));for(var je=null,Be=null,pe=N,ke=N=0,Ye=null,Ge=R.next();pe!==null&&!Ge.done;ke++,Ge=R.next()){pe.index>ke?(Ye=pe,pe=null):Ye=pe.sibling;var Pa=Y(z,pe,Ge.value,$);if(Pa===null){pe===null&&(pe=Ye);break}e&&pe&&Pa.alternate===null&&t(z,pe),N=i(Pa,N,ke),Be===null?je=Pa:Be.sibling=Pa,Be=Pa,pe=Ye}if(Ge.done)return a(z,pe),qe&&ma(z,ke),je;if(pe===null){for(;!Ge.done;ke++,Ge=R.next())Ge=K(z,Ge.value,$),Ge!==null&&(N=i(Ge,N,ke),Be===null?je=Ge:Be.sibling=Ge,Be=Ge);return qe&&ma(z,ke),je}for(pe=l(pe);!Ge.done;ke++,Ge=R.next())Ge=B(pe,z,ke,Ge.value,$),Ge!==null&&(e&&Ge.alternate!==null&&pe.delete(Ge.key===null?ke:Ge.key),N=i(Ge,N,ke),Be===null?je=Ge:Be.sibling=Ge,Be=Ge);return e&&pe.forEach(function(Ky){return t(z,Ky)}),qe&&ma(z,ke),je}function Ve(z,N,R,$){if(typeof R=="object"&&R!==null&&R.type===U&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case T:e:{for(var je=R.key;N!==null;){if(N.key===je){if(je=R.type,je===U){if(N.tag===7){a(z,N.sibling),$=n(N,R.props.children),$.return=z,z=$;break e}}else if(N.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Q&&xl(je)===N.type){a(z,N.sibling),$=n(N,R.props),_n($,R),$.return=z,z=$;break e}a(z,N);break}else t(z,N);N=N.sibling}R.type===U?($=ml(R.props.children,z.mode,$,R.key),$.return=z,z=$):($=Oi(R.type,R.key,R.props,null,z.mode,$),_n($,R),$.return=z,z=$)}return o(z);case O:e:{for(je=R.key;N!==null;){if(N.key===je)if(N.tag===4&&N.stateNode.containerInfo===R.containerInfo&&N.stateNode.implementation===R.implementation){a(z,N.sibling),$=n(N,R.children||[]),$.return=z,z=$;break e}else{a(z,N);break}else t(z,N);N=N.sibling}$=mc(R,z.mode,$),$.return=z,z=$}return o(z);case Q:return R=xl(R),Ve(z,N,R,$)}if(P(R))return ge(z,N,R,$);if(ne(R)){if(je=ne(R),typeof je!="function")throw Error(u(150));return R=je.call(R),Me(z,N,R,$)}if(typeof R.then=="function")return Ve(z,N,Yi(R),$);if(R.$$typeof===ee)return Ve(z,N,ki(z,R),$);qi(z,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,N!==null&&N.tag===6?(a(z,N.sibling),$=n(N,R),$.return=z,z=$):(a(z,N),$=hc(R,z.mode,$),$.return=z,z=$),o(z)):a(z,N)}return function(z,N,R,$){try{zn=0;var je=Ve(z,N,R,$);return Vl=null,je}catch(pe){if(pe===$l||pe===Ui)throw pe;var Be=Ot(29,pe,null,z.mode);return Be.lanes=$,Be.return=z,Be}finally{}}}var Sl=Tr(!0),Nr=Tr(!1),Ua=!1;function Dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Ai(e),cr(e,null,a),t}return Ci(e,l,t,a),Ai(e)}function kn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,yo(e,a)}}function Ec(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Cc=!1;function Rn(){if(Cc){var e=Zl;if(e!==null)throw e}}function Un(e,t,a,l){Cc=!1;var n=e.updateQueue;Ua=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,h=n.shared.pending;if(h!==null){n.shared.pending=null;var j=h,H=j.next;j.next=null,o===null?i=H:o.next=H,o=j;var X=e.alternate;X!==null&&(X=X.updateQueue,h=X.lastBaseUpdate,h!==o&&(h===null?X.firstBaseUpdate=H:h.next=H,X.lastBaseUpdate=j))}if(i!==null){var K=n.baseState;o=0,X=H=j=null,h=i;do{var Y=h.lane&-536870913,B=Y!==h.lane;if(B?(He&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ql&&(Cc=!0),X!==null&&(X=X.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var ge=e,Me=h;Y=t;var Ve=a;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){K=ge.call(Ve,K,Y);break e}K=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,Y=typeof ge=="function"?ge.call(Ve,K,Y):ge,Y==null)break e;K=v({},K,Y);break e;case 2:Ua=!0}}Y=h.callback,Y!==null&&(e.flags|=64,B&&(e.flags|=8192),B=n.callbacks,B===null?n.callbacks=[Y]:B.push(Y))}else B={lane:Y,tag:h.tag,payload:h.payload,callback:h.callback,next:null},X===null?(H=X=B,j=K):X=X.next=B,o|=Y;if(h=h.next,h===null){if(h=n.shared.pending,h===null)break;B=h,h=B.next,B.next=null,n.lastBaseUpdate=B,n.shared.pending=null}}while(!0);X===null&&(j=K),n.baseState=j,n.firstBaseUpdate=H,n.lastBaseUpdate=X,i===null&&(n.shared.lanes=0),Xa|=o,e.lanes=o,e.memoizedState=K}}function Mr(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Dr(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mr(a[e],t)}var Kl=y(null),Bi=y(0);function wr(e,t){e=Ma,_(Bi,e),_(Kl,t),Ma=e|t.baseLanes}function Ac(){_(Bi,Ma),_(Kl,Kl.current)}function Oc(){Ma=Bi.current,w(Kl),w(Bi)}var zt=y(null),Qt=null;function qa(e){var t=e.alternate;_(lt,lt.current&1),_(zt,e),Qt===null&&(t===null||Kl.current!==null||t.memoizedState!==null)&&(Qt=e)}function zc(e){_(lt,lt.current),_(zt,e),Qt===null&&(Qt=e)}function Er(e){e.tag===22?(_(lt,lt.current),_(zt,e),Qt===null&&(Qt=e)):Ba()}function Ba(){_(lt,lt.current),_(zt,zt.current)}function _t(e){w(zt),Qt===e&&(Qt=null),w(lt)}var lt=y(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yu(a)||qu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,ze=null,Ze=null,st=null,Li=!1,Jl=!1,jl=!1,Xi=0,Hn=0,Wl=null,Ym=0;function et(){throw Error(u(321))}function _c(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function kc(e,t,a,l,n,i){return pa=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?df:Jc,jl=!1,i=a(l,n),jl=!1,Jl&&(i=Ar(t,a,l,n)),Cr(e),i}function Cr(e){M.H=Bn;var t=Ze!==null&&Ze.next!==null;if(pa=0,st=Ze=ze=null,Li=!1,Hn=0,Wl=null,t)throw Error(u(300));e===null||ct||(e=e.dependencies,e!==null&&_i(e)&&(ct=!0))}function Ar(e,t,a,l){ze=e;var n=0;do{if(Jl&&(Wl=null),Hn=0,Jl=!1,25<=n)throw Error(u(301));if(n+=1,st=Ze=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}M.H=hf,i=t(a,l)}while(Jl);return i}function qm(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Yn(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(ze.flags|=1024),t}function Rc(){var e=Xi!==0;return Xi=0,e}function Uc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Hc(e){if(Li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Li=!1}pa=0,st=Ze=ze=null,Jl=!1,Hn=Xi=0,Wl=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ze.memoizedState=st=e:st=st.next=e,st}function nt(){if(Ze===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=st===null?ze.memoizedState:st.next;if(t!==null)st=t,Ze=e;else{if(e===null)throw ze.alternate===null?Error(u(467)):Error(u(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?ze.memoizedState=st=e:st=st.next=e}return st}function Qi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yn(e){var t=Hn;return Hn+=1,Wl===null&&(Wl=[]),e=br(Wl,e,t),t=ze,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?df:Jc),e}function Zi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yn(e);if(e.$$typeof===ee)return yt(e)}throw Error(u(438,String(e)))}function Yc(e){var t=null,a=ze.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Qi(),ze.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ve;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function $i(e){var t=nt();return qc(t,Ze,e)}function qc(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var h=o=null,j=null,H=t,X=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(He&K)===K:(pa&K)===K){var Y=H.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===Ql&&(X=!0);else if((pa&Y)===Y){H=H.next,Y===Ql&&(X=!0);continue}else K={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(h=j=K,o=i):j=j.next=K,ze.lanes|=Y,Xa|=Y;K=H.action,jl&&a(i,K),i=H.hasEagerState?H.eagerState:a(i,K)}else Y={lane:K,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(h=j=Y,o=i):j=j.next=Y,ze.lanes|=K,Xa|=K;H=H.next}while(H!==null&&H!==t);if(j===null?o=i:j.next=h,!At(i,e.memoizedState)&&(ct=!0,X&&(a=Zl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=j,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bc(e){var t=nt(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);At(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Or(e,t,a){var l=ze,n=nt(),i=qe;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var o=!At((Ze||n).memoizedState,a);if(o&&(n.memoizedState=a,ct=!0),n=n.queue,Xc(kr.bind(null,l,n,e),[e]),n.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,Fl(9,{destroy:void 0},_r.bind(null,l,n,a,t),null),Je===null)throw Error(u(349));i||(pa&127)!==0||zr(l,t,a)}return a}function zr(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ze.updateQueue,t===null?(t=Qi(),ze.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _r(e,t,a,l){t.value=a,t.getSnapshot=l,Rr(t)&&Ur(e)}function kr(e,t,a){return a(function(){Rr(t)&&Ur(e)})}function Rr(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Ur(e){var t=hl(e,2);t!==null&&Ct(t,e,2)}function Gc(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),jl){ue(!0);try{a()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function Hr(e,t,a,l){return e.baseState=a,qc(e,Ze,typeof l=="function"?l:va)}function Bm(e,t,a,l,n){if(Ji(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};M.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Yr(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Yr(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=M.T,o={};M.T=o;try{var h=a(n,l),j=M.S;j!==null&&j(o,h),qr(e,t,h)}catch(H){Lc(e,t,H)}finally{i!==null&&o.types!==null&&(i.types=o.types),M.T=i}}else try{i=a(n,l),qr(e,t,i)}catch(H){Lc(e,t,H)}}function qr(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Br(e,t,l)},function(l){return Lc(e,t,l)}):Br(e,t,a)}function Br(e,t,a){t.status="fulfilled",t.value=a,Gr(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Yr(e,a)))}function Lc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Gr(t),t=t.next;while(t!==l)}e.action=null}function Gr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lr(e,t){return t}function Xr(e,t){if(qe){var a=Je.formState;if(a!==null){e:{var l=ze;if(qe){if(Fe){t:{for(var n=Fe,i=Xt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Zt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Fe=Zt(n.nextSibling),l=n.data==="F!";break e}}ka(l)}l=!1}l&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},a.queue=l,a=of.bind(null,ze,l),l.dispatch=a,l=Gc(!1),i=Kc.bind(null,ze,!1,l.queue),l=St(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Bm.bind(null,ze,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Qr(e){var t=nt();return Zr(t,Ze,e)}function Zr(e,t,a){if(t=qc(e,t,Lr)[0],e=$i(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Yn(t)}catch(o){throw o===$l?Ui:o}else l=t;t=nt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(ze.flags|=2048,Fl(9,{destroy:void 0},Gm.bind(null,n,a),null)),[l,i,e]}function Gm(e,t){e.action=t}function $r(e){var t=nt(),a=Ze;if(a!==null)return Zr(t,a,e);nt(),t=t.memoizedState,a=nt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Fl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ze.updateQueue,t===null&&(t=Qi(),ze.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Vr(){return nt().memoizedState}function Vi(e,t,a,l){var n=St();ze.flags|=e,n.memoizedState=Fl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ki(e,t,a,l){var n=nt();l=l===void 0?null:l;var i=n.memoizedState.inst;Ze!==null&&l!==null&&_c(l,Ze.memoizedState.deps)?n.memoizedState=Fl(t,i,a,l):(ze.flags|=e,n.memoizedState=Fl(1|t,i,a,l))}function Kr(e,t){Vi(8390656,8,e,t)}function Xc(e,t){Ki(2048,8,e,t)}function Lm(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=Qi(),ze.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Jr(e){var t=nt().memoizedState;return Lm({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Wr(e,t){return Ki(4,2,e,t)}function Fr(e,t){return Ki(4,4,e,t)}function Ir(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pr(e,t,a){a=a!=null?a.concat([e]):null,Ki(4,4,Ir.bind(null,t,e),a)}function Qc(){}function ef(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&_c(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function tf(e,t){var a=nt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&_c(t,l[1]))return l[0];if(l=e(),jl){ue(!0);try{e()}finally{ue(!1)}}return a.memoizedState=[l,t],l}function Zc(e,t,a){return a===void 0||(pa&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=ld(),ze.lanes|=e,Xa|=e,a)}function af(e,t,a,l){return At(a,t)?a:Kl.current!==null?(e=Zc(e,a,l),At(e,t)||(ct=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(He&261930)===0?(ct=!0,e.memoizedState=a):(e=ld(),ze.lanes|=e,Xa|=e,t)}function lf(e,t,a,l,n){var i=q.p;q.p=i!==0&&8>i?i:8;var o=M.T,h={};M.T=h,Kc(e,!1,t,a);try{var j=n(),H=M.S;if(H!==null&&H(h,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=Hm(j,l);qn(e,t,X,Ut(e))}else qn(e,t,l,Ut(e))}catch(K){qn(e,t,{then:function(){},status:"rejected",reason:K},Ut())}finally{q.p=i,o!==null&&h.types!==null&&(o.types=h.types),M.T=o}}function Xm(){}function $c(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=nf(e).queue;lf(e,n,t,F,a===null?Xm:function(){return sf(e),a(l)})}function nf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:F},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sf(e){var t=nf(e);t.next===null&&(t=e.alternate.memoizedState),qn(e,t.next.queue,{},Ut())}function Vc(){return yt(ai)}function cf(){return nt().memoizedState}function uf(){return nt().memoizedState}function Qm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=Ha(a);var l=Ya(t,e,a);l!==null&&(Ct(l,t,a),kn(l,t,a)),t={cache:jc()},e.payload=t;return}t=t.return}}function Zm(e,t,a){var l=Ut();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ji(e)?rf(t,a):(a=fc(e,t,a,l),a!==null&&(Ct(a,e,l),ff(a,t,l)))}function of(e,t,a){var l=Ut();qn(e,t,a,l)}function qn(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))rf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,h=i(o,a);if(n.hasEagerState=!0,n.eagerState=h,At(h,o))return Ci(e,t,n,0),Je===null&&Ei(),!1}catch{}finally{}if(a=fc(e,t,n,l),a!==null)return Ct(a,e,l),ff(a,t,l),!0}return!1}function Kc(e,t,a,l){if(l={lane:2,revertLane:Du(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(u(479))}else t=fc(e,a,l,2),t!==null&&Ct(t,e,2)}function Ji(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function rf(e,t){Jl=Li=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ff(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,yo(e,a)}}var Bn={readContext:yt,use:Zi,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Bn.useEffectEvent=et;var df={readContext:yt,use:Zi,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Kr,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Vi(4194308,4,Ir.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Vi(4194308,4,e,t)},useInsertionEffect:function(e,t){Vi(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var l=e();if(jl){ue(!0);try{e()}finally{ue(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=St();if(a!==void 0){var n=a(t);if(jl){ue(!0);try{a(t)}finally{ue(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Zm.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Gc(e);var t=e.queue,a=of.bind(null,ze,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Qc,useDeferredValue:function(e,t){var a=St();return Zc(a,e,t)},useTransition:function(){var e=Gc(!1);return e=lf.bind(null,ze,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ze,n=St();if(qe){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Je===null)throw Error(u(349));(He&127)!==0||zr(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,Kr(kr.bind(null,l,i,e),[e]),l.flags|=2048,Fl(9,{destroy:void 0},_r.bind(null,l,i,a,t),null),a},useId:function(){var e=St(),t=Je.identifierPrefix;if(qe){var a=la,l=aa;a=(l&~(1<<32-ye(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Xi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ym++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vc,useFormState:Xr,useActionState:Xr,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Kc.bind(null,ze,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yc,useCacheRefresh:function(){return St().memoizedState=Qm.bind(null,ze)},useEffectEvent:function(e){var t=St(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},Jc={readContext:yt,use:Zi,useCallback:ef,useContext:yt,useEffect:Xc,useImperativeHandle:Pr,useInsertionEffect:Wr,useLayoutEffect:Fr,useMemo:tf,useReducer:$i,useRef:Vr,useState:function(){return $i(va)},useDebugValue:Qc,useDeferredValue:function(e,t){var a=nt();return af(a,Ze.memoizedState,e,t)},useTransition:function(){var e=$i(va)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:Or,useId:cf,useHostTransitionStatus:Vc,useFormState:Qr,useActionState:Qr,useOptimistic:function(e,t){var a=nt();return Hr(a,Ze,e,t)},useMemoCache:Yc,useCacheRefresh:uf};Jc.useEffectEvent=Jr;var hf={readContext:yt,use:Zi,useCallback:ef,useContext:yt,useEffect:Xc,useImperativeHandle:Pr,useInsertionEffect:Wr,useLayoutEffect:Fr,useMemo:tf,useReducer:Bc,useRef:Vr,useState:function(){return Bc(va)},useDebugValue:Qc,useDeferredValue:function(e,t){var a=nt();return Ze===null?Zc(a,e,t):af(a,Ze.memoizedState,e,t)},useTransition:function(){var e=Bc(va)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:Or,useId:cf,useHostTransitionStatus:Vc,useFormState:$r,useActionState:$r,useOptimistic:function(e,t){var a=nt();return Ze!==null?Hr(a,Ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:uf};hf.useEffectEvent=Jr;function Wc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Fc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ut(),n=Ha(l);n.payload=t,a!=null&&(n.callback=a),t=Ya(e,n,l),t!==null&&(Ct(t,e,l),kn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ut(),n=Ha(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ya(e,n,l),t!==null&&(Ct(t,e,l),kn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),l=Ha(a);l.tag=2,t!=null&&(l.callback=t),t=Ya(e,l,a),t!==null&&(Ct(t,e,a),kn(t,e,a))}};function mf(e,t,a,l,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!Dn(a,l)||!Dn(n,i):!0}function yf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Fc.enqueueReplaceState(t,t.state,null)}function Tl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function gf(e){wi(e)}function pf(e){console.error(e)}function vf(e){wi(e)}function Wi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function xf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ic(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){Wi(e,t)},a}function bf(e){return e=Ha(e),e.tag=3,e}function Sf(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){xf(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){xf(t,a,l),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var h=l.stack;this.componentDidCatch(l.value,{componentStack:h!==null?h:""})})}function $m(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Xl(t,a,n,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?us():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Hi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Tu(e,l,n)),!1;case 22:return a.flags|=65536,l===Hi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Tu(e,l,n)),!1}throw Error(u(435,a.tag))}return Tu(e,l,n),us(),!1}if(qe)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==pc&&(e=Error(u(422),{cause:l}),Cn(Bt(e,a)))):(l!==pc&&(t=Error(u(423),{cause:l}),Cn(Bt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Bt(l,a),n=Ic(e.stateNode,l,n),Ec(e,n),tt!==4&&(tt=2)),!1;var i=Error(u(520),{cause:l});if(i=Bt(i,a),Kn===null?Kn=[i]:Kn.push(i),tt!==4&&(tt=2),t===null)return!0;l=Bt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Ic(a.stateNode,l,e),Ec(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Qa===null||!Qa.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=bf(n),Sf(n,e,a,l),Ec(a,n),!1}a=a.return}while(a!==null);return!1}var Pc=Error(u(461)),ct=!1;function gt(e,t,a,l){t.child=e===null?Nr(t,null,a,l):Sl(t,e.child,a,l)}function jf(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var h in l)h!=="ref"&&(o[h]=l[h])}else o=l;return pl(t),l=kc(e,t,a,o,i,n),h=Rc(),e!==null&&!ct?(Uc(e,t,n),xa(e,t,n)):(qe&&h&&yc(t),t.flags|=1,gt(e,t,l,n),t.child)}function Tf(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!dc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Nf(e,t,i,l,n)):(e=Oi(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!cu(e,n)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:Dn,a(o,l)&&e.ref===t.ref)return xa(e,t,n)}return t.flags|=1,e=ha(i,l),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Dn(i,l)&&e.ref===t.ref)if(ct=!1,t.pendingProps=l=i,cu(e,n))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,xa(e,t,n)}return eu(e,t,a,l,n)}function Mf(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Df(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ri(t,i!==null?i.cachePool:null),i!==null?wr(t,i):Ac(),Er(t);else return l=t.lanes=536870912,Df(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Ri(t,i.cachePool),wr(t,i),Ba(),t.memoizedState=null):(e!==null&&Ri(t,null),Ac(),Ba());return gt(e,t,n,a),t.child}function Gn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Df(e,t,a,l,n){var i=Nc();return i=i===null?null:{parent:it._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ri(t,null),Ac(),Er(t),e!==null&&Xl(e,t,l,!0),t.childLanes=n,null}function Fi(e,t){return t=Pi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wf(e,t,a){return Sl(t,e.child,null,a),e=Fi(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function Vm(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(l.mode==="hidden")return e=Fi(t,l),t.lanes=536870912,Gn(null,e);if(zc(t),(e=Fe)?(e=qd(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=or(e),a.return=t,t.child=a,mt=t,Fe=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return Fi(t,l)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(zc(t),n)if(t.flags&256)t.flags&=-257,t=wf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(ct||Xl(e,t,a,!1),n=(a&e.childLanes)!==0,ct||n){if(l=Je,l!==null&&(o=go(l,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,hl(e,o),Ct(l,e,o),Pc;us(),t=wf(e,t,a)}else e=i.treeContext,Fe=Zt(o.nextSibling),mt=t,qe=!0,_a=null,Xt=!1,e!==null&&dr(t,e),t=Fi(t,l),t.flags|=4096;return t}return e=ha(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ii(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function eu(e,t,a,l,n){return pl(t),a=kc(e,t,a,l,void 0,n),l=Rc(),e!==null&&!ct?(Uc(e,t,n),xa(e,t,n)):(qe&&l&&yc(t),t.flags|=1,gt(e,t,a,n),t.child)}function Ef(e,t,a,l,n,i){return pl(t),t.updateQueue=null,a=Ar(t,l,a,n),Cr(e),l=Rc(),e!==null&&!ct?(Uc(e,t,i),xa(e,t,i)):(qe&&l&&yc(t),t.flags|=1,gt(e,t,a,i),t.child)}function Cf(e,t,a,l,n){if(pl(t),t.stateNode===null){var i=ql,o=a.contextType;typeof o=="object"&&o!==null&&(i=yt(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Fc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Dc(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?yt(o):ql,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(Wc(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&Fc.enqueueReplaceState(i,i.state,null),Un(t,l,i,n),Rn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var h=t.memoizedProps,j=Tl(a,h);i.props=j;var H=i.context,X=a.contextType;o=ql,typeof X=="object"&&X!==null&&(o=yt(X));var K=a.getDerivedStateFromProps;X=typeof K=="function"||typeof i.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,X||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(h||H!==o)&&yf(t,i,l,o),Ua=!1;var Y=t.memoizedState;i.state=Y,Un(t,l,i,n),Rn(),H=t.memoizedState,h||Y!==H||Ua?(typeof K=="function"&&(Wc(t,a,K,l),H=t.memoizedState),(j=Ua||mf(t,a,j,l,Y,H,o))?(X||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=H),i.props=l,i.state=H,i.context=o,l=j):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,wc(e,t),o=t.memoizedProps,X=Tl(a,o),i.props=X,K=t.pendingProps,Y=i.context,H=a.contextType,j=ql,typeof H=="object"&&H!==null&&(j=yt(H)),h=a.getDerivedStateFromProps,(H=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==K||Y!==j)&&yf(t,i,l,j),Ua=!1,Y=t.memoizedState,i.state=Y,Un(t,l,i,n),Rn();var B=t.memoizedState;o!==K||Y!==B||Ua||e!==null&&e.dependencies!==null&&_i(e.dependencies)?(typeof h=="function"&&(Wc(t,a,h,l),B=t.memoizedState),(X=Ua||mf(t,a,X,l,Y,B,j)||e!==null&&e.dependencies!==null&&_i(e.dependencies))?(H||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,B,j),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,B,j)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),i.props=l,i.state=B,i.context=j,l=X):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Ii(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Sl(t,e.child,null,n),t.child=Sl(t,null,a,n)):gt(e,t,a,n),t.memoizedState=i.state,e=t.child):e=xa(e,t,n),e}function Af(e,t,a,l){return yl(),t.flags|=256,gt(e,t,a,l),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:vr()}}function lu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Rt),e}function Of(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(n?qa(t):Ba(),(e=Fe)?(e=qd(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=or(e),a.return=t,t.child=a,mt=t,Fe=null)):e=null,e===null)throw ka(t);return qu(e)?t.lanes=32:t.lanes=536870912,null}var h=l.children;return l=l.fallback,n?(Ba(),n=t.mode,h=Pi({mode:"hidden",children:h},n),l=ml(l,n,a,null),h.return=t,l.return=t,h.sibling=l,t.child=h,l=t.child,l.memoizedState=au(a),l.childLanes=lu(e,o,a),t.memoizedState=tu,Gn(null,l)):(qa(t),nu(t,h))}var j=e.memoizedState;if(j!==null&&(h=j.dehydrated,h!==null)){if(i)t.flags&256?(qa(t),t.flags&=-257,t=iu(e,t,a)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),h=l.fallback,n=t.mode,l=Pi({mode:"visible",children:l.children},n),h=ml(h,n,a,null),h.flags|=2,l.return=t,h.return=t,l.sibling=h,t.child=l,Sl(t,e.child,null,a),l=t.child,l.memoizedState=au(a),l.childLanes=lu(e,o,a),t.memoizedState=tu,t=Gn(null,l));else if(qa(t),qu(h)){if(o=h.nextSibling&&h.nextSibling.dataset,o)var H=o.dgst;o=H,l=Error(u(419)),l.stack="",l.digest=o,Cn({value:l,source:null,stack:null}),t=iu(e,t,a)}else if(ct||Xl(e,t,a,!1),o=(a&e.childLanes)!==0,ct||o){if(o=Je,o!==null&&(l=go(o,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,hl(e,l),Ct(o,e,l),Pc;Yu(h)||us(),t=iu(e,t,a)}else Yu(h)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Fe=Zt(h.nextSibling),mt=t,qe=!0,_a=null,Xt=!1,e!==null&&dr(t,e),t=nu(t,l.children),t.flags|=4096);return t}return n?(Ba(),h=l.fallback,n=t.mode,j=e.child,H=j.sibling,l=ha(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,H!==null?h=ha(H,h):(h=ml(h,n,a,null),h.flags|=2),h.return=t,l.return=t,l.sibling=h,t.child=l,Gn(null,l),l=t.child,h=e.child.memoizedState,h===null?h=au(a):(n=h.cachePool,n!==null?(j=it._currentValue,n=n.parent!==j?{parent:j,pool:j}:n):n=vr(),h={baseLanes:h.baseLanes|a,cachePool:n}),l.memoizedState=h,l.childLanes=lu(e,o,a),t.memoizedState=tu,Gn(e.child,l)):(qa(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function nu(e,t){return t=Pi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pi(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function iu(e,t,a){return Sl(t,e.child,null,a),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),bc(e.return,t,a)}function su(e,t,a,l,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=n,o.treeForkCount=i)}function _f(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var o=lt.current,h=(o&2)!==0;if(h?(o=o&1|2,t.flags|=128):o&=1,_(lt,o),gt(e,t,l,a),l=qe?En:0,!h&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,a,t);else if(e.tag===19)zf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Gi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),su(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Gi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}su(t,!0,a,null,i,l);break;case"together":su(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_i(e)))}function Km(e,t,a){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),Ra(t,it,e.memoizedState.cache),yl();break;case 27:case 5:we(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(qa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Of(e,t,a):(qa(t),e=xa(e,t,a),e!==null?e.sibling:null);qa(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Xl(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return _f(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),_(lt,lt.current),l)break;return null;case 22:return t.lanes=0,Mf(e,t,a,t.pendingProps);case 24:Ra(t,it,e.memoizedState.cache)}return xa(e,t,a)}function kf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!cu(e,a)&&(t.flags&128)===0)return ct=!1,Km(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,qe&&(t.flags&1048576)!==0&&fr(t,En,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=xl(t.elementType),t.type=e,typeof e=="function")dc(e)?(l=Tl(e,l),t.tag=1,t=Cf(null,t,e,l,a)):(t.tag=0,t=eu(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===L){t.tag=11,t=jf(null,t,e,l,a);break e}else if(n===Z){t.tag=14,t=Tf(null,t,e,l,a);break e}}throw t=ie(e)||e,Error(u(306,t,""))}}return t;case 0:return eu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Tl(l,t.pendingProps),Cf(e,t,l,n,a);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,wc(e,t),Un(t,l,null,a);var o=t.memoizedState;if(l=o.cache,Ra(t,it,l),l!==i.cache&&Sc(t,[it],a,!0),Rn(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Af(e,t,l,a);break e}else if(l!==n){n=Bt(Error(u(424)),t),Cn(n),t=Af(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=Zt(e.firstChild),mt=t,qe=!0,_a=null,Xt=!0,a=Nr(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===n){t=xa(e,t,a);break e}gt(e,t,l,a)}t=t.child}return t;case 26:return Ii(e,t),e===null?(a=Zd(t.type,null,t.pendingProps,null))?t.memoizedState=a:qe||(a=t.type,e=t.pendingProps,l=ys(he.current).createElement(a),l[ht]=t,l[Tt]=e,pt(l,a,e),rt(l),t.stateNode=l):t.memoizedState=Zd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&qe&&(l=t.stateNode=Ld(t.type,t.pendingProps,he.current),mt=t,Xt=!0,n=Fe,Ka(t.type)?(Bu=n,Fe=Zt(l.firstChild)):Fe=n),gt(e,t,t.pendingProps.children,a),Ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((n=l=Fe)&&(l=Ny(l,t.type,t.pendingProps,Xt),l!==null?(t.stateNode=l,mt=t,Fe=Zt(l.firstChild),Xt=!1,n=!0):n=!1),n||ka(t)),we(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Ru(n,i)?l=null:o!==null&&Ru(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=kc(e,t,qm,null,null,a),ai._currentValue=n),Ii(e,t),gt(e,t,l,a),t.child;case 6:return e===null&&qe&&((e=a=Fe)&&(a=My(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,mt=t,Fe=null,e=!0):e=!1),e||ka(t)),null;case 13:return Of(e,t,a);case 4:return se(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Sl(t,null,l,a):gt(e,t,l,a),t.child;case 11:return jf(e,t,t.type,t.pendingProps,a);case 7:return gt(e,t,t.pendingProps,a),t.child;case 8:return gt(e,t,t.pendingProps.children,a),t.child;case 12:return gt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ra(t,t.type,l.value),gt(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,pl(t),n=yt(n),l=l(n),t.flags|=1,gt(e,t,l,a),t.child;case 14:return Tf(e,t,t.type,t.pendingProps,a);case 15:return Nf(e,t,t.type,t.pendingProps,a);case 19:return _f(e,t,a);case 31:return Vm(e,t,a);case 22:return Mf(e,t,a,t.pendingProps);case 24:return pl(t),l=yt(it),e===null?(n=Nc(),n===null&&(n=Je,i=jc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Dc(t),Ra(t,it,n)):((e.lanes&a)!==0&&(wc(e,t),Un(t,null,null,a),Rn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ra(t,it,l)):(l=i.cache,Ra(t,it,l),l!==n.cache&&Sc(t,[it],a,!0))),gt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ba(e){e.flags|=4}function uu(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(cd())e.flags|=8192;else throw bl=Hi,Mc}else e.flags&=-16777217}function Rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wd(t))if(cd())e.flags|=8192;else throw bl=Hi,Mc}function es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ho():536870912,e.lanes|=t,tn|=t)}function Ln(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Jm(e,t,a){var l=t.pendingProps;switch(gc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ga(it),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?ba(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vc())),Ie(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(ba(t),i!==null?(Ie(t),Rf(t,i)):(Ie(t),uu(t,n,null,l,a))):i?i!==e.memoizedState?(ba(t),Ie(t),Rf(t,i)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ba(t),Ie(t),uu(t,n,e,l,a)),null;case 27:if(Se(t),a=he.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Ie(t),null}e=W.current,Ll(t)?hr(t):(e=Ld(n,l,a),t.stateNode=e,ba(t))}return Ie(t),null;case 5:if(Se(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Ie(t),null}if(i=W.current,Ll(t))hr(t);else{var o=ys(he.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}i[ht]=t,i[Tt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(pt(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ba(t)}}return Ie(t),uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=he.current,Ll(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=mt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[ht]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Od(e.nodeValue,a)),e||ka(t,!0)}else e=ys(e).createTextNode(l),e[ht]=t,t.stateNode=e}return Ie(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ll(t),a!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[ht]=t}else yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else a=vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ie(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ll(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[ht]=t}else yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),n=!1}else n=vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),es(t,t.updateQueue),Ie(t),null);case 4:return me(),e===null&&Au(t.stateNode.containerInfo),Ie(t),null;case 10:return ga(t.type),Ie(t),null;case 19:if(w(lt),l=t.memoizedState,l===null)return Ie(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Ln(l,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Gi(e),i!==null){for(t.flags|=128,Ln(l,!1),e=i.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ur(a,e),a=a.sibling;return _(lt,lt.current&1|2),qe&&ma(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ae()>is&&(t.flags|=128,n=!0,Ln(l,!1),t.lanes=4194304)}else{if(!n)if(e=Gi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),Ln(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!qe)return Ie(t),null}else 2*ae()-l.renderingStartTime>is&&a!==536870912&&(t.flags|=128,n=!0,Ln(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ae(),e.sibling=null,a=lt.current,_(lt,n?a&1|2:a&1),qe&&ma(t,l.treeForkCount),e):(Ie(t),null);case 22:case 23:return _t(t),Oc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),a=t.updateQueue,a!==null&&es(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&w(vl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(it),Ie(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Wm(e,t){switch(gc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(it),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(u(340));yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return w(lt),null;case 4:return me(),null;case 10:return ga(t.type),null;case 22:case 23:return _t(t),Oc(),e!==null&&w(vl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(it),null;case 25:return null;default:return null}}function Uf(e,t){switch(gc(t),t.tag){case 3:ga(it),me();break;case 26:case 27:case 5:Se(t);break;case 4:me();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:w(lt);break;case 10:ga(t.type);break;case 22:case 23:_t(t),Oc(),e!==null&&w(vl);break;case 24:ga(it)}}function Xn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==n)}}catch(h){Qe(t,t.return,h)}}function Ga(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var o=l.inst,h=o.destroy;if(h!==void 0){o.destroy=void 0,n=t;var j=a,H=h;try{H()}catch(X){Qe(n,j,X)}}}l=l.next}while(l!==i)}}catch(X){Qe(t,t.return,X)}}function Hf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Dr(t,a)}catch(l){Qe(e,e.return,l)}}}function Yf(e,t,a){a.props=Tl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(e,t,l)}}function Qn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Qe(e,t,n)}}function na(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Qe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Qe(e,t,n)}else a.current=null}function qf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Qe(e,e.return,n)}}function ou(e,t,a){try{var l=e.stateNode;vy(l,e.type,a,t),l[Tt]=t}catch(n){Qe(e,e.return,n)}}function Bf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fa));else if(l!==4&&(l===27&&Ka(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(fu(e,t,a),e=e.sibling;e!==null;)fu(e,t,a),e=e.sibling}function ts(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ka(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ts(e,t,a),e=e.sibling;e!==null;)ts(e,t,a),e=e.sibling}function Gf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pt(t,l,a),t[ht]=e,t[Tt]=a}catch(i){Qe(e,e.return,i)}}var Sa=!1,ut=!1,du=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Fm(e,t){if(e=e.containerInfo,_u=js,e=Po(e),ic(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,h=-1,j=-1,H=0,X=0,K=e,Y=null;t:for(;;){for(var B;K!==a||n!==0&&K.nodeType!==3||(h=o+n),K!==i||l!==0&&K.nodeType!==3||(j=o+l),K.nodeType===3&&(o+=K.nodeValue.length),(B=K.firstChild)!==null;)Y=K,K=B;for(;;){if(K===e)break t;if(Y===a&&++H===n&&(h=o),Y===i&&++X===l&&(j=o),(B=K.nextSibling)!==null)break;K=Y,Y=K.parentNode}K=B}a=h===-1||j===-1?null:{start:h,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(ku={focusedElem:e,selectionRange:a},js=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ge=Tl(a.type,n);e=l.getSnapshotBeforeUpdate(ge,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){Qe(a,a.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Hu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function Xf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ta(e,a),l&4&&Xn(5,a);break;case 1:if(Ta(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){Qe(a,a.return,o)}else{var n=Tl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Qe(a,a.return,o)}}l&64&&Hf(a),l&512&&Qn(a,a.return);break;case 3:if(Ta(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Dr(e,t)}catch(o){Qe(a,a.return,o)}}break;case 27:t===null&&l&4&&Gf(a);case 26:case 5:Ta(e,a),t===null&&l&4&&qf(a),l&512&&Qn(a,a.return);break;case 12:Ta(e,a);break;case 31:Ta(e,a),l&4&&$f(e,a);break;case 13:Ta(e,a),l&4&&Vf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sy.bind(null,a),Dy(e,a))));break;case 22:if(l=a.memoizedState!==null||Sa,!l){t=t!==null&&t.memoizedState!==null||ut,n=Sa;var i=ut;Sa=l,(ut=t)&&!i?Na(e,a,(a.subtreeFlags&8772)!==0):Ta(e,a),Sa=n,ut=i}break;case 30:break;default:Ta(e,a)}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ls(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Mt=!1;function ja(e,t,a){for(a=a.child;a!==null;)Zf(e,t,a),a=a.sibling}function Zf(e,t,a){if(D&&typeof D.onCommitFiberUnmount=="function")try{D.onCommitFiberUnmount(Kt,a)}catch{}switch(a.tag){case 26:ut||na(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||na(a,t);var l=Pe,n=Mt;Ka(a.type)&&(Pe=a.stateNode,Mt=!1),ja(e,t,a),Pn(a.stateNode),Pe=l,Mt=n;break;case 5:ut||na(a,t);case 6:if(l=Pe,n=Mt,Pe=null,ja(e,t,a),Pe=l,Mt=n,Pe!==null)if(Mt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(i){Qe(a,t,i)}else try{Pe.removeChild(a.stateNode)}catch(i){Qe(a,t,i)}break;case 18:Pe!==null&&(Mt?(e=Pe,Hd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rn(e)):Hd(Pe,a.stateNode));break;case 4:l=Pe,n=Mt,Pe=a.stateNode.containerInfo,Mt=!0,ja(e,t,a),Pe=l,Mt=n;break;case 0:case 11:case 14:case 15:Ga(2,a,t),ut||Ga(4,a,t),ja(e,t,a);break;case 1:ut||(na(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yf(a,t,l)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:ut=(l=ut)||a.memoizedState!==null,ja(e,t,a),ut=l;break;default:ja(e,t,a)}}function $f(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rn(e)}catch(a){Qe(t,t.return,a)}}}function Vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rn(e)}catch(a){Qe(t,t.return,a)}}function Im(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lf),t;default:throw Error(u(435,e.tag))}}function as(e,t){var a=Im(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=cy.bind(null,e,l);l.then(n,n)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,o=t,h=o;e:for(;h!==null;){switch(h.tag){case 27:if(Ka(h.type)){Pe=h.stateNode,Mt=!1;break e}break;case 5:Pe=h.stateNode,Mt=!1;break e;case 3:case 4:Pe=h.stateNode.containerInfo,Mt=!0;break e}h=h.return}if(Pe===null)throw Error(u(160));Zf(i,o,n),Pe=null,Mt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kf(t,e),t=t.sibling}var Wt=null;function Kf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),wt(e),l&4&&(Ga(3,e,e.return),Xn(3,e),Ga(5,e,e.return));break;case 1:Dt(t,e),wt(e),l&512&&(ut||a===null||na(a,a.return)),l&64&&Sa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Wt;if(Dt(t,e),wt(e),l&512&&(ut||a===null||na(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[pn]||i[ht]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),pt(i,l,a),i[ht]=e,rt(i),l=i;break e;case"link":var o=Kd("link","href",n).get(l+(a.href||""));if(o){for(var h=0;h<o.length;h++)if(i=o[h],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(h,1);break t}}i=n.createElement(l),pt(i,l,a),n.head.appendChild(i);break;case"meta":if(o=Kd("meta","content",n).get(l+(a.content||""))){for(h=0;h<o.length;h++)if(i=o[h],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(h,1);break t}}i=n.createElement(l),pt(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[ht]=e,rt(i),l=i}e.stateNode=l}else Jd(n,e.type,e.stateNode);else e.stateNode=Vd(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Jd(n,e.type,e.stateNode):Vd(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),wt(e),l&512&&(ut||a===null||na(a,a.return)),a!==null&&l&4&&ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),wt(e),l&512&&(ut||a===null||na(a,a.return)),e.flags&32){n=e.stateNode;try{zl(n,"")}catch(ge){Qe(e,e.return,ge)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,ou(e,n,a!==null?a.memoizedProps:n)),l&1024&&(du=!0);break;case 6:if(Dt(t,e),wt(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ge){Qe(e,e.return,ge)}}break;case 3:if(vs=null,n=Wt,Wt=gs(t.containerInfo),Dt(t,e),Wt=n,wt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(ge){Qe(e,e.return,ge)}du&&(du=!1,Jf(e));break;case 4:l=Wt,Wt=gs(e.stateNode.containerInfo),Dt(t,e),wt(e),Wt=l;break;case 12:Dt(t,e),wt(e);break;case 31:Dt(t,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,as(e,l)));break;case 13:Dt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ns=ae()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,as(e,l)));break;case 22:n=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,H=Sa,X=ut;if(Sa=H||n,ut=X||j,Dt(t,e),ut=X,Sa=H,wt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||j||Sa||ut||Nl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(i=j.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{h=j.stateNode;var K=j.memoizedProps.style,Y=K!=null&&K.hasOwnProperty("display")?K.display:null;h.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){Qe(j,j.return,ge)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=n?"":j.memoizedProps}catch(ge){Qe(j,j.return,ge)}}}else if(t.tag===18){if(a===null){j=t;try{var B=j.stateNode;n?Yd(B,!0):Yd(j.stateNode,!1)}catch(ge){Qe(j,j.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,as(e,a))));break;case 19:Dt(t,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,as(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Bf(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=ru(e);ts(e,i,n);break;case 5:var o=a.stateNode;a.flags&32&&(zl(o,""),a.flags&=-33);var h=ru(e);ts(e,h,o);break;case 3:case 4:var j=a.stateNode.containerInfo,H=ru(e);fu(e,H,j);break;default:throw Error(u(161))}}catch(X){Qe(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ta(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xf(e,t.alternate,t),t=t.sibling}function Nl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ga(4,t,t.return),Nl(t);break;case 1:na(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yf(t,t.return,a),Nl(t);break;case 27:Pn(t.stateNode);case 26:case 5:na(t,t.return),Nl(t);break;case 22:t.memoizedState===null&&Nl(t);break;case 30:Nl(t);break;default:Nl(t)}e=e.sibling}}function Na(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Na(n,i,a),Xn(4,i);break;case 1:if(Na(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(H){Qe(l,l.return,H)}if(l=i,n=l.updateQueue,n!==null){var h=l.stateNode;try{var j=n.shared.hiddenCallbacks;if(j!==null)for(n.shared.hiddenCallbacks=null,n=0;n<j.length;n++)Mr(j[n],h)}catch(H){Qe(l,l.return,H)}}a&&o&64&&Hf(i),Qn(i,i.return);break;case 27:Gf(i);case 26:case 5:Na(n,i,a),a&&l===null&&o&4&&qf(i),Qn(i,i.return);break;case 12:Na(n,i,a);break;case 31:Na(n,i,a),a&&o&4&&$f(n,i);break;case 13:Na(n,i,a),a&&o&4&&Vf(n,i);break;case 22:i.memoizedState===null&&Na(n,i,a),Qn(i,i.return);break;case 30:break;default:Na(n,i,a)}t=t.sibling}}function hu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&An(a))}function mu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&An(e))}function Ft(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wf(e,t,a,l),t=t.sibling}function Wf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,l),n&2048&&Xn(9,t);break;case 1:Ft(e,t,a,l);break;case 3:Ft(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&An(e)));break;case 12:if(n&2048){Ft(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,h=i.onPostCommit;typeof h=="function"&&h(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Qe(t,t.return,j)}}else Ft(e,t,a,l);break;case 31:Ft(e,t,a,l);break;case 13:Ft(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ft(e,t,a,l):Zn(e,t):i._visibility&2?Ft(e,t,a,l):(i._visibility|=2,Il(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&hu(o,t);break;case 24:Ft(e,t,a,l),n&2048&&mu(t.alternate,t);break;default:Ft(e,t,a,l)}}function Il(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,h=a,j=l,H=o.flags;switch(o.tag){case 0:case 11:case 15:Il(i,o,h,j,n),Xn(8,o);break;case 23:break;case 22:var X=o.stateNode;o.memoizedState!==null?X._visibility&2?Il(i,o,h,j,n):Zn(i,o):(X._visibility|=2,Il(i,o,h,j,n)),n&&H&2048&&hu(o.alternate,o);break;case 24:Il(i,o,h,j,n),n&&H&2048&&mu(o.alternate,o);break;default:Il(i,o,h,j,n)}t=t.sibling}}function Zn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Zn(a,l),n&2048&&hu(l.alternate,l);break;case 24:Zn(a,l),n&2048&&mu(l.alternate,l);break;default:Zn(a,l)}t=t.sibling}}var $n=8192;function Pl(e,t,a){if(e.subtreeFlags&$n)for(e=e.child;e!==null;)Ff(e,t,a),e=e.sibling}function Ff(e,t,a){switch(e.tag){case 26:Pl(e,t,a),e.flags&$n&&e.memoizedState!==null&&Yy(a,Wt,e.memoizedState,e.memoizedProps);break;case 5:Pl(e,t,a);break;case 3:case 4:var l=Wt;Wt=gs(e.stateNode.containerInfo),Pl(e,t,a),Wt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$n,$n=16777216,Pl(e,t,a),$n=l):Pl(e,t,a));break;default:Pl(e,t,a)}}function If(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ft=l,ed(l,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:Vn(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:Vn(e);break;case 12:Vn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ls(e)):Vn(e);break;default:Vn(e)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ft=l,ed(l,e)}If(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ga(8,t,t.return),ls(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ls(t));break;default:ls(t)}e=e.sibling}}function ed(e,t){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Ga(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:An(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ft=l;else e:for(a=e;ft!==null;){l=ft;var n=l.sibling,i=l.return;if(Qf(l),l===a){ft=null;break e}if(n!==null){n.return=i,ft=n;break e}ft=i}}}var Pm={getCacheForType:function(e){var t=yt(it),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return yt(it).controller.signal}},ey=typeof WeakMap=="function"?WeakMap:Map,Le=0,Je=null,Re=null,He=0,Xe=0,kt=null,La=!1,en=!1,yu=!1,Ma=0,tt=0,Xa=0,Ml=0,gu=0,Rt=0,tn=0,Kn=null,Et=null,pu=!1,ns=0,td=0,is=1/0,ss=null,Qa=null,ot=0,Za=null,an=null,Da=0,vu=0,xu=null,ad=null,Jn=0,bu=null;function Ut(){return(Le&2)!==0&&He!==0?He&-He:M.T!==null?Du():po()}function ld(){if(Rt===0)if((He&536870912)===0||qe){var e=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),Rt=e}else Rt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Rt}function Ct(e,t,a){(e===Je&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(ln(e,0),$a(e,He,Rt,!1)),gn(e,a),((Le&2)===0||e!==Je)&&(e===Je&&((Le&2)===0&&(Ml|=a),tt===4&&$a(e,He,Rt,!1)),ia(e))}function nd(e,t,a){if((Le&6)!==0)throw Error(u(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||yn(e,t),n=l?ly(e,t):ju(e,t,!0),i=l;do{if(n===0){en&&!l&&$a(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!ty(a)){n=ju(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var h=e;n=Kn;var j=h.current.memoizedState.isDehydrated;if(j&&(ln(h,o).flags|=256),o=ju(h,o,!1),o!==2){if(yu&&!j){h.errorRecoveryDisabledLanes|=i,Ml|=i,n=4;break e}i=Et,Et=n,i!==null&&(Et===null?Et=i:Et.push.apply(Et,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){ln(e,0),$a(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:$a(l,t,Rt,!La);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=ns+300-ae(),10<n)){if($a(l,t,Rt,!La),gi(l,0,!0)!==0)break e;Da=t,l.timeoutHandle=Rd(id.bind(null,l,a,Et,ss,pu,t,Rt,Ml,tn,La,i,"Throttled",-0,0),n);break e}id(l,a,Et,ss,pu,t,Rt,Ml,tn,La,i,null,-0,0)}}break}while(!0);ia(e)}function id(e,t,a,l,n,i,o,h,j,H,X,K,Y,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},Ff(t,i,K);var ge=(i&62914560)===i?ns-ae():(i&4194048)===i?td-ae():0;if(ge=qy(K,ge),ge!==null){Da=i,e.cancelPendingCommit=ge(hd.bind(null,e,t,i,a,l,n,o,h,j,X,K,null,Y,B)),$a(e,i,o,!H);return}}hd(e,t,i,a,l,n,o,h,j)}function ty(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!At(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $a(e,t,a,l){t&=~gu,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-ye(n),o=1<<i;l[i]=-1,n&=~o}a!==0&&mo(e,a,t)}function cs(){return(Le&6)===0?(Wn(0),!1):!0}function Su(){if(Re!==null){if(Xe===0)var e=Re.return;else e=Re,ya=gl=null,Hc(e),Vl=null,zn=0,e=Re;for(;e!==null;)Uf(e.alternate,e),e=e.return;Re=null}}function ln(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Da=0,Su(),Je=e,Re=a=ha(e.current,null),He=t,Xe=0,kt=null,La=!1,en=yn(e,t),yu=!1,tn=Rt=gu=Ml=Xa=tt=0,Et=Kn=null,pu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-ye(l),i=1<<n;t|=e[n],l&=~i}return Ma=t,Ei(),a}function sd(e,t){ze=null,M.H=Bn,t===$l||t===Ui?(t=Sr(),Xe=3):t===Mc?(t=Sr(),Xe=4):Xe=t===Pc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Re===null&&(tt=1,Wi(e,Bt(t,e.current)))}function cd(){var e=zt.current;return e===null?!0:(He&4194048)===He?Qt===null:(He&62914560)===He||(He&536870912)!==0?e===Qt:!1}function ud(){var e=M.H;return M.H=Bn,e===null?Bn:e}function od(){var e=M.A;return M.A=Pm,e}function us(){tt=4,La||(He&4194048)!==He&&zt.current!==null||(en=!0),(Xa&134217727)===0&&(Ml&134217727)===0||Je===null||$a(Je,He,Rt,!1)}function ju(e,t,a){var l=Le;Le|=2;var n=ud(),i=od();(Je!==e||He!==t)&&(ss=null,ln(e,t)),t=!1;var o=tt;e:do try{if(Xe!==0&&Re!==null){var h=Re,j=kt;switch(Xe){case 8:Su(),o=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var H=Xe;if(Xe=0,kt=null,nn(e,h,j,H),a&&en){o=0;break e}break;default:H=Xe,Xe=0,kt=null,nn(e,h,j,H)}}ay(),o=tt;break}catch(X){sd(e,X)}while(!0);return t&&e.shellSuspendCounter++,ya=gl=null,Le=l,M.H=n,M.A=i,Re===null&&(Je=null,He=0,Ei()),o}function ay(){for(;Re!==null;)rd(Re)}function ly(e,t){var a=Le;Le|=2;var l=ud(),n=od();Je!==e||He!==t?(ss=null,is=ae()+500,ln(e,t)):en=yn(e,t);e:do try{if(Xe!==0&&Re!==null){t=Re;var i=kt;t:switch(Xe){case 1:Xe=0,kt=null,nn(e,t,i,1);break;case 2:case 9:if(xr(i)){Xe=0,kt=null,fd(t);break}t=function(){Xe!==2&&Xe!==9||Je!==e||(Xe=7),ia(e)},i.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xr(i)?(Xe=0,kt=null,fd(t)):(Xe=0,kt=null,nn(e,t,i,7));break;case 5:var o=null;switch(Re.tag){case 26:o=Re.memoizedState;case 5:case 27:var h=Re;if(o?Wd(o):h.stateNode.complete){Xe=0,kt=null;var j=h.sibling;if(j!==null)Re=j;else{var H=h.return;H!==null?(Re=H,os(H)):Re=null}break t}}Xe=0,kt=null,nn(e,t,i,5);break;case 6:Xe=0,kt=null,nn(e,t,i,6);break;case 8:Su(),tt=6;break e;default:throw Error(u(462))}}ny();break}catch(X){sd(e,X)}while(!0);return ya=gl=null,M.H=l,M.A=n,Le=a,Re!==null?0:(Je=null,He=0,Ei(),tt)}function ny(){for(;Re!==null&&!cl();)rd(Re)}function rd(e){var t=kf(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?os(e):Re=t}function fd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ef(a,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Ef(a,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Hc(t);default:Uf(a,t),t=Re=ur(t,Ma),t=kf(a,t,Ma)}e.memoizedProps=e.pendingProps,t===null?os(e):Re=t}function nn(e,t,a,l){ya=gl=null,Hc(t),Vl=null,zn=0;var n=t.return;try{if($m(e,n,t,a,He)){tt=1,Wi(e,Bt(a,e.current)),Re=null;return}}catch(i){if(n!==null)throw Re=n,i;tt=1,Wi(e,Bt(a,e.current)),Re=null;return}t.flags&32768?(qe||l===1?e=!0:en||(He&536870912)!==0?e=!1:(La=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),dd(t,e)):os(t)}function os(e){var t=e;do{if((t.flags&32768)!==0){dd(t,La);return}e=t.return;var a=Jm(t.alternate,t,Ma);if(a!==null){Re=a;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);tt===0&&(tt=5)}function dd(e,t){do{var a=Wm(e.alternate,e);if(a!==null){a.flags&=32767,Re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=a}while(e!==null);tt=6,Re=null}function hd(e,t,a,l,n,i,o,h,j){e.cancelPendingCommit=null;do rs();while(ot!==0);if((Le&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=rc,Hh(e,a,i,o,h,j),e===Je&&(Re=Je=null,He=0),an=t,Za=e,Da=a,vu=i,xu=n,ad=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uy(Ne,function(){return vd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,n=q.p,q.p=2,o=Le,Le|=4;try{Fm(e,t,a)}finally{Le=o,q.p=n,M.T=l}}ot=1,md(),yd(),gd()}}function md(){if(ot===1){ot=0;var e=Za,t=an,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=q.p;q.p=2;var n=Le;Le|=4;try{Kf(t,e);var i=ku,o=Po(e.containerInfo),h=i.focusedElem,j=i.selectionRange;if(o!==h&&h&&h.ownerDocument&&Io(h.ownerDocument.documentElement,h)){if(j!==null&&ic(h)){var H=j.start,X=j.end;if(X===void 0&&(X=H),"selectionStart"in h)h.selectionStart=H,h.selectionEnd=Math.min(X,h.value.length);else{var K=h.ownerDocument||document,Y=K&&K.defaultView||window;if(Y.getSelection){var B=Y.getSelection(),ge=h.textContent.length,Me=Math.min(j.start,ge),Ve=j.end===void 0?Me:Math.min(j.end,ge);!B.extend&&Me>Ve&&(o=Ve,Ve=Me,Me=o);var z=Fo(h,Me),N=Fo(h,Ve);if(z&&N&&(B.rangeCount!==1||B.anchorNode!==z.node||B.anchorOffset!==z.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var R=K.createRange();R.setStart(z.node,z.offset),B.removeAllRanges(),Me>Ve?(B.addRange(R),B.extend(N.node,N.offset)):(R.setEnd(N.node,N.offset),B.addRange(R))}}}}for(K=[],B=h;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<K.length;h++){var $=K[h];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}js=!!_u,ku=_u=null}finally{Le=n,q.p=l,M.T=a}}e.current=t,ot=2}}function yd(){if(ot===2){ot=0;var e=Za,t=an,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=q.p;q.p=2;var n=Le;Le|=4;try{Xf(e,t.alternate,t)}finally{Le=n,q.p=l,M.T=a}}ot=3}}function gd(){if(ot===4||ot===3){ot=0,k();var e=Za,t=an,a=Da,l=ad;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,an=Za=null,pd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Qa=null),Bs(a),t=t.stateNode,D&&typeof D.onCommitFiberRoot=="function")try{D.onCommitFiberRoot(Kt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,n=q.p,q.p=2,M.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var h=l[o];i(h.value,{componentStack:h.stack})}}finally{M.T=t,q.p=n}}(Da&3)!==0&&rs(),ia(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===bu?Jn++:(Jn=0,bu=e):Jn=0,Wn(0)}}function pd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,An(t)))}function rs(){return md(),yd(),gd(),vd()}function vd(){if(ot!==5)return!1;var e=Za,t=vu;vu=0;var a=Bs(Da),l=M.T,n=q.p;try{q.p=32>a?32:a,M.T=null,a=xu,xu=null;var i=Za,o=Da;if(ot=0,an=Za=null,Da=0,(Le&6)!==0)throw Error(u(331));var h=Le;if(Le|=4,Pf(i.current),Wf(i,i.current,o,a),Le=h,Wn(0,!1),D&&typeof D.onPostCommitFiberRoot=="function")try{D.onPostCommitFiberRoot(Kt,i)}catch{}return!0}finally{q.p=n,M.T=l,pd(e,t)}}function xd(e,t,a){t=Bt(a,t),t=Ic(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(gn(e,2),ia(e))}function Qe(e,t,a){if(e.tag===3)xd(e,e,a);else for(;t!==null;){if(t.tag===3){xd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qa===null||!Qa.has(l))){e=Bt(a,e),a=bf(2),l=Ya(t,a,2),l!==null&&(Sf(a,l,t,e),gn(l,2),ia(l));break}}t=t.return}}function Tu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ey;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(yu=!0,n.add(a),e=iy.bind(null,e,t,a),t.then(e,e))}function iy(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Je===e&&(He&a)===a&&(tt===4||tt===3&&(He&62914560)===He&&300>ae()-ns?(Le&2)===0&&ln(e,0):gu|=a,tn===He&&(tn=0)),ia(e)}function bd(e,t){t===0&&(t=ho()),e=hl(e,t),e!==null&&(gn(e,t),ia(e))}function sy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),bd(e,a)}function cy(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),bd(e,a)}function uy(e,t){return sl(e,t)}var fs=null,sn=null,Nu=!1,ds=!1,Mu=!1,Va=0;function ia(e){e!==sn&&e.next===null&&(sn===null?fs=sn=e:sn=sn.next=e),ds=!0,Nu||(Nu=!0,ry())}function Wn(e,t){if(!Mu&&ds){Mu=!0;do for(var a=!1,l=fs;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var o=l.suspendedLanes,h=l.pingedLanes;i=(1<<31-ye(42|e)+1)-1,i&=n&~(o&~h),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Nd(l,i))}else i=He,i=gi(l,l===Je?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||yn(l,i)||(a=!0,Nd(l,i));l=l.next}while(a);Mu=!1}}function oy(){Sd()}function Sd(){ds=Nu=!1;var e=0;Va!==0&&by()&&(e=Va);for(var t=ae(),a=null,l=fs;l!==null;){var n=l.next,i=jd(l,t);i===0?(l.next=null,a===null?fs=n:a.next=n,n===null&&(sn=a)):(a=l,(e!==0||(i&3)!==0)&&(ds=!0)),l=n}ot!==0&&ot!==5||Wn(e),Va!==0&&(Va=0)}function jd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-ye(i),h=1<<o,j=n[o];j===-1?((h&a)===0||(h&l)!==0)&&(n[o]=Uh(h,t)):j<=t&&(e.expiredLanes|=h),i&=~h}if(t=Je,a=He,a=gi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ua(l),Bs(a)){case 2:case 8:a=_e;break;case 32:a=Ne;break;case 268435456:a=Ke;break;default:a=Ne}return l=Td.bind(null,e),a=sl(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ua(l),e.callbackPriority=2,e.callbackNode=null,2}function Td(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rs()&&e.callbackNode!==a)return null;var l=He;return l=gi(e,e===Je?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nd(e,l,t),jd(e,ae()),e.callbackNode!=null&&e.callbackNode===a?Td.bind(null,e):null)}function Nd(e,t){if(rs())return null;nd(e,t,!0)}function ry(){jy(function(){(Le&6)!==0?sl(Oe,oy):Sd()})}function Du(){if(Va===0){var e=Ql;e===0&&(e=Ca,Ca<<=1,(Ca&261888)===0&&(Ca=256)),Va=e}return Va}function Md(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bi(""+e)}function Dd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function fy(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Md((n[Tt]||null).action),o=l.submitter;o&&(t=(t=o[Tt]||null)?Md(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var h=new Ni("action","action",null,l,n);e.push({event:h,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Va!==0){var j=o?Dd(n,o):new FormData(n);$c(a,{pending:!0,data:j,method:n.method,action:i},null,j)}}else typeof i=="function"&&(h.preventDefault(),j=o?Dd(n,o):new FormData(n),$c(a,{pending:!0,data:j,method:n.method,action:i},i,j))},currentTarget:n}]})}}for(var wu=0;wu<oc.length;wu++){var Eu=oc[wu],dy=Eu.toLowerCase(),hy=Eu[0].toUpperCase()+Eu.slice(1);Jt(dy,"on"+hy)}Jt(ar,"onAnimationEnd"),Jt(lr,"onAnimationIteration"),Jt(nr,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Cm,"onTransitionRun"),Jt(Am,"onTransitionStart"),Jt(Om,"onTransitionCancel"),Jt(ir,"onTransitionEnd"),Al("onMouseEnter",["mouseout","mouseover"]),Al("onMouseLeave",["mouseout","mouseover"]),Al("onPointerEnter",["pointerout","pointerover"]),Al("onPointerLeave",["pointerout","pointerover"]),ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ol("onBeforeInput",["compositionend","keypress","textInput","paste"]),ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),my=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fn));function wd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var h=l[o],j=h.instance,H=h.currentTarget;if(h=h.listener,j!==i&&n.isPropagationStopped())break e;i=h,n.currentTarget=H;try{i(n)}catch(X){wi(X)}n.currentTarget=null,i=j}else for(o=0;o<l.length;o++){if(h=l[o],j=h.instance,H=h.currentTarget,h=h.listener,j!==i&&n.isPropagationStopped())break e;i=h,n.currentTarget=H;try{i(n)}catch(X){wi(X)}n.currentTarget=null,i=j}}}}function Ue(e,t){var a=t[Gs];a===void 0&&(a=t[Gs]=new Set);var l=e+"__bubble";a.has(l)||(Ed(t,e,2,!1),a.add(l))}function Cu(e,t,a){var l=0;t&&(l|=4),Ed(a,e,l,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[hs]){e[hs]=!0,bo.forEach(function(a){a!=="selectionchange"&&(my.has(a)||Cu(a,!1,e),Cu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Cu("selectionchange",!1,t))}}function Ed(e,t,a,l){switch(lh(t)){case 2:var n=Ly;break;case 8:n=Xy;break;default:n=Zu}a=n.bind(null,t,a,e),n=void 0,!Ws||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Ou(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var h=l.stateNode.containerInfo;if(h===n)break;if(o===4)for(o=l.return;o!==null;){var j=o.tag;if((j===3||j===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;h!==null;){if(o=wl(h),o===null)return;if(j=o.tag,j===5||j===6||j===26||j===27){l=i=o;continue e}h=h.parentNode}}l=l.return}zo(function(){var H=i,X=Ks(a),K=[];e:{var Y=sr.get(e);if(Y!==void 0){var B=Ni,ge=e;switch(e){case"keypress":if(ji(a)===0)break e;case"keydown":case"keyup":B=cm;break;case"focusin":ge="focus",B=ec;break;case"focusout":ge="blur",B=ec;break;case"beforeblur":case"afterblur":B=ec;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=rm;break;case ar:case lr:case nr:B=Ih;break;case ir:B=dm;break;case"scroll":case"scrollend":B=Vh;break;case"wheel":B=mm;break;case"copy":case"cut":case"paste":B=em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ho;break;case"toggle":case"beforetoggle":B=gm}var Me=(t&4)!==0,Ve=!Me&&(e==="scroll"||e==="scrollend"),z=Me?Y!==null?Y+"Capture":null:Y;Me=[];for(var N=H,R;N!==null;){var $=N;if(R=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||R===null||z===null||($=xn(N,z),$!=null&&Me.push(In(N,$,R))),Ve)break;N=N.return}0<Me.length&&(Y=new B(Y,ge,null,a,X),K.push({event:Y,listeners:Me}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",Y&&a!==Vs&&(ge=a.relatedTarget||a.fromElement)&&(wl(ge)||ge[Dl]))break e;if((B||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,B?(ge=a.relatedTarget||a.toElement,B=H,ge=ge?wl(ge):null,ge!==null&&(Ve=m(ge),Me=ge.tag,ge!==Ve||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(B=null,ge=H),B!==ge)){if(Me=Ro,$="onMouseLeave",z="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Me=Ho,$="onPointerLeave",z="onPointerEnter",N="pointer"),Ve=B==null?Y:vn(B),R=ge==null?Y:vn(ge),Y=new Me($,N+"leave",B,a,X),Y.target=Ve,Y.relatedTarget=R,$=null,wl(X)===H&&(Me=new Me(z,N+"enter",ge,a,X),Me.target=R,Me.relatedTarget=Ve,$=Me),Ve=$,B&&ge)t:{for(Me=yy,z=B,N=ge,R=0,$=z;$;$=Me($))R++;$=0;for(var je=N;je;je=Me(je))$++;for(;0<R-$;)z=Me(z),R--;for(;0<$-R;)N=Me(N),$--;for(;R--;){if(z===N||N!==null&&z===N.alternate){Me=z;break t}z=Me(z),N=Me(N)}Me=null}else Me=null;B!==null&&Cd(K,Y,B,Me,!1),ge!==null&&Ve!==null&&Cd(K,Ve,ge,Me,!0)}}e:{if(Y=H?vn(H):window,B=Y.nodeName&&Y.nodeName.toLowerCase(),B==="select"||B==="input"&&Y.type==="file")var Be=Zo;else if(Xo(Y))if($o)Be=Dm;else{Be=Nm;var pe=Tm}else B=Y.nodeName,!B||B.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&$s(H.elementType)&&(Be=Zo):Be=Mm;if(Be&&(Be=Be(e,H))){Qo(K,Be,a,X);break e}pe&&pe(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&Zs(Y,"number",Y.value)}switch(pe=H?vn(H):window,e){case"focusin":(Xo(pe)||pe.contentEditable==="true")&&(Ul=pe,sc=H,wn=null);break;case"focusout":wn=sc=Ul=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,er(K,a,X);break;case"selectionchange":if(Em)break;case"keydown":case"keyup":er(K,a,X)}var ke;if(ac)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Rl?Go(e,a)&&(Ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(Yo&&a.locale!=="ko"&&(Rl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Rl&&(ke=_o()):(Oa=X,Fs="value"in Oa?Oa.value:Oa.textContent,Rl=!0)),pe=ms(H,Ye),0<pe.length&&(Ye=new Uo(Ye,e,null,a,X),K.push({event:Ye,listeners:pe}),ke?Ye.data=ke:(ke=Lo(a),ke!==null&&(Ye.data=ke)))),(ke=vm?xm(e,a):bm(e,a))&&(Ye=ms(H,"onBeforeInput"),0<Ye.length&&(pe=new Uo("onBeforeInput","beforeinput",null,a,X),K.push({event:pe,listeners:Ye}),pe.data=ke)),fy(K,e,H,a,X)}wd(K,t)})}function In(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ms(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=xn(e,a),n!=null&&l.unshift(In(e,n,i)),n=xn(e,t),n!=null&&l.push(In(e,n,i))),e.tag===3)return l;e=e.return}return[]}function yy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cd(e,t,a,l,n){for(var i=t._reactName,o=[];a!==null&&a!==l;){var h=a,j=h.alternate,H=h.stateNode;if(h=h.tag,j!==null&&j===l)break;h!==5&&h!==26&&h!==27||H===null||(j=H,n?(H=xn(a,i),H!=null&&o.unshift(In(a,H,j))):n||(H=xn(a,i),H!=null&&o.push(In(a,H,j)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var gy=/\r\n?/g,py=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(py,"")}function Od(e,t){return t=Ad(t),Ad(e)===t}function $e(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||zl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&zl(e,""+l);break;case"className":vi(e,"class",l);break;case"tabIndex":vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,a,l);break;case"style":Ao(e,l,i);break;case"data":if(t!=="object"){vi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=bi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",n.name,n,null),$e(e,t,"formEncType",n.formEncType,n,null),$e(e,t,"formMethod",n.formMethod,n,null),$e(e,t,"formTarget",n.formTarget,n,null)):($e(e,t,"encType",n.encType,n,null),$e(e,t,"method",n.method,n,null),$e(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=bi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=fa);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=bi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),pi(e,"popover",l);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zh.get(a)||a,pi(e,a,l))}}function zu(e,t,a,l,n,i){switch(a){case"style":Ao(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?zl(e,l):(typeof l=="number"||typeof l=="bigint")&&zl(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[Tt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):pi(e,a,l)}}}function pt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:$e(e,t,i,o,a,null)}}n&&$e(e,t,"srcSet",a.srcSet,a,null),l&&$e(e,t,"src",a.src,a,null);return;case"input":Ue("invalid",e);var h=i=o=n=null,j=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":n=X;break;case"type":o=X;break;case"checked":j=X;break;case"defaultChecked":H=X;break;case"value":i=X;break;case"defaultValue":h=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(u(137,t));break;default:$e(e,t,l,X,a,null)}}Do(e,i,h,j,H,o,n,!1);return;case"select":Ue("invalid",e),l=o=i=null;for(n in a)if(a.hasOwnProperty(n)&&(h=a[n],h!=null))switch(n){case"value":i=h;break;case"defaultValue":o=h;break;case"multiple":l=h;default:$e(e,t,n,h,a,null)}t=i,a=o,e.multiple=!!l,t!=null?Ol(e,!!l,t,!1):a!=null&&Ol(e,!!l,a,!0);return;case"textarea":Ue("invalid",e),i=n=l=null;for(o in a)if(a.hasOwnProperty(o)&&(h=a[o],h!=null))switch(o){case"value":l=h;break;case"defaultValue":n=h;break;case"children":i=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:$e(e,t,o,h,a,null)}Eo(e,l,n,i);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,t,j,l,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<Fn.length;l++)Ue(Fn[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:$e(e,t,H,l,a,null)}return;default:if($s(t)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zu(e,t,X,l,a,void 0));return}}for(h in a)a.hasOwnProperty(h)&&(l=a[h],l!=null&&$e(e,t,h,l,a,null))}function vy(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,h=null,j=null,H=null,X=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":j=K;default:l.hasOwnProperty(B)||$e(e,t,B,null,l,K)}}for(var Y in l){var B=l[Y];if(K=a[Y],l.hasOwnProperty(Y)&&(B!=null||K!=null))switch(Y){case"type":i=B;break;case"name":n=B;break;case"checked":H=B;break;case"defaultChecked":X=B;break;case"value":o=B;break;case"defaultValue":h=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(u(137,t));break;default:B!==K&&$e(e,t,Y,B,l,K)}}Qs(e,o,h,j,H,X,i,n);return;case"select":B=o=h=Y=null;for(i in a)if(j=a[i],a.hasOwnProperty(i)&&j!=null)switch(i){case"value":break;case"multiple":B=j;default:l.hasOwnProperty(i)||$e(e,t,i,null,l,j)}for(n in l)if(i=l[n],j=a[n],l.hasOwnProperty(n)&&(i!=null||j!=null))switch(n){case"value":Y=i;break;case"defaultValue":h=i;break;case"multiple":o=i;default:i!==j&&$e(e,t,n,i,l,j)}t=h,a=o,l=B,Y!=null?Ol(e,!!a,Y,!1):!!l!=!!a&&(t!=null?Ol(e,!!a,t,!0):Ol(e,!!a,a?[]:"",!1));return;case"textarea":B=Y=null;for(h in a)if(n=a[h],a.hasOwnProperty(h)&&n!=null&&!l.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:$e(e,t,h,null,l,n)}for(o in l)if(n=l[o],i=a[o],l.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":Y=n;break;case"defaultValue":B=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&$e(e,t,o,n,l,i)}wo(e,Y,B);return;case"option":for(var ge in a)if(Y=a[ge],a.hasOwnProperty(ge)&&Y!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:$e(e,t,ge,null,l,Y)}for(j in l)if(Y=l[j],B=a[j],l.hasOwnProperty(j)&&Y!==B&&(Y!=null||B!=null))switch(j){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:$e(e,t,j,Y,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)Y=a[Me],a.hasOwnProperty(Me)&&Y!=null&&!l.hasOwnProperty(Me)&&$e(e,t,Me,null,l,Y);for(H in l)if(Y=l[H],B=a[H],l.hasOwnProperty(H)&&Y!==B&&(Y!=null||B!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:$e(e,t,H,Y,l,B)}return;default:if($s(t)){for(var Ve in a)Y=a[Ve],a.hasOwnProperty(Ve)&&Y!==void 0&&!l.hasOwnProperty(Ve)&&zu(e,t,Ve,void 0,l,Y);for(X in l)Y=l[X],B=a[X],!l.hasOwnProperty(X)||Y===B||Y===void 0&&B===void 0||zu(e,t,X,Y,l,B);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&$e(e,t,z,null,l,Y);for(K in l)Y=l[K],B=a[K],!l.hasOwnProperty(K)||Y===B||Y==null&&B==null||$e(e,t,K,Y,l,B)}function zd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,o=n.initiatorType,h=n.duration;if(i&&h&&zd(o)){for(o=0,h=n.responseEnd,l+=1;l<a.length;l++){var j=a[l],H=j.startTime;if(H>h)break;var X=j.transferSize,K=j.initiatorType;X&&zd(K)&&(j=j.responseEnd,o+=X*(j<h?1:(h-H)/(j-H)))}if(--l,t+=8*(i+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _u=null,ku=null;function ys(e){return e.nodeType===9?e:e.ownerDocument}function _d(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=null;function by(){var e=window.event;return e&&e.type==="popstate"?e===Uu?!1:(Uu=e,!0):(Uu=null,!1)}var Rd=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(Ty)}:Rd;function Ty(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function Hd(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),rn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Pn(a);for(var i=a.firstChild;i;){var o=i.nextSibling,h=i.nodeName;i[pn]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Pn(e.ownerDocument.body);a=n}while(a);rn(t)}function Yd(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hu(a),Ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ny(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function My(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function qd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function Yu(e){return e.data==="$?"||e.data==="$~"}function qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bu=null;function Bd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Zt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Ld(e,t,a){switch(t=ys(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Pn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ls(e)}var $t=new Map,Xd=new Set;function gs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=q.d;q.d={f:wy,r:Ey,D:Cy,C:Ay,L:Oy,m:zy,X:ky,S:_y,M:Ry};function wy(){var e=wa.f(),t=cs();return e||t}function Ey(e){var t=El(e);t!==null&&t.tag===5&&t.type==="form"?sf(t):wa.r(e)}var cn=typeof document>"u"?null:document;function Qd(e,t,a){var l=cn;if(l&&typeof t=="string"&&t){var n=Yt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Xd.has(n)||(Xd.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),pt(t,"link",e),rt(t),l.head.appendChild(t)))}}function Cy(e){wa.D(e),Qd("dns-prefetch",e,null)}function Ay(e,t){wa.C(e,t),Qd("preconnect",e,t)}function Oy(e,t,a){wa.L(e,t,a);var l=cn;if(l&&e&&t){var n='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Yt(a.imageSizes)+'"]')):n+='[href="'+Yt(e)+'"]';var i=n;switch(t){case"style":i=un(e);break;case"script":i=on(e)}$t.has(i)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(ei(i))||t==="script"&&l.querySelector(ti(i))||(t=l.createElement("link"),pt(t,"link",e),rt(t),l.head.appendChild(t)))}}function zy(e,t){wa.m(e,t);var a=cn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=on(e)}if(!$t.has(i)&&(e=v({rel:"modulepreload",href:e},t),$t.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ti(i)))return}l=a.createElement("link"),pt(l,"link",e),rt(l),a.head.appendChild(l)}}}function _y(e,t,a){wa.S(e,t,a);var l=cn;if(l&&e){var n=Cl(l).hoistableStyles,i=un(e);t=t||"default";var o=n.get(i);if(!o){var h={loading:0,preload:null};if(o=l.querySelector(ei(i)))h.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(i))&&Gu(e,a);var j=o=l.createElement("link");rt(j),pt(j,"link",e),j._p=new Promise(function(H,X){j.onload=H,j.onerror=X}),j.addEventListener("load",function(){h.loading|=1}),j.addEventListener("error",function(){h.loading|=2}),h.loading|=4,ps(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:h},n.set(i,o)}}}function ky(e,t){wa.X(e,t);var a=cn;if(a&&e){var l=Cl(a).hoistableScripts,n=on(e),i=l.get(n);i||(i=a.querySelector(ti(n)),i||(e=v({src:e,async:!0},t),(t=$t.get(n))&&Lu(e,t),i=a.createElement("script"),rt(i),pt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Ry(e,t){wa.M(e,t);var a=cn;if(a&&e){var l=Cl(a).hoistableScripts,n=on(e),i=l.get(n);i||(i=a.querySelector(ti(n)),i||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(n))&&Lu(e,t),i=a.createElement("script"),rt(i),pt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Zd(e,t,a,l){var n=(n=he.current)?gs(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=un(a.href),a=Cl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=un(a.href);var i=Cl(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(ei(e)))&&!i._p&&(o.instance=i,o.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),i||Uy(n,e,a,o.state))),t&&l===null)throw Error(u(528,""));return o}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=on(a),a=Cl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function un(e){return'href="'+Yt(e)+'"'}function ei(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Uy(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",a),rt(t),e.head.appendChild(t))}function on(e){return'[src="'+Yt(e)+'"]'}function ti(e){return"script[async]"+e}function Vd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(a.href)+'"]');if(l)return t.instance=l,rt(l),l;var n=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),pt(l,"style",n),ps(l,a.precedence,e),t.instance=l;case"stylesheet":n=un(a.href);var i=e.querySelector(ei(n));if(i)return t.state.loading|=4,t.instance=i,rt(i),i;l=$d(a),(n=$t.get(n))&&Gu(l,n),i=(e.ownerDocument||e).createElement("link"),rt(i);var o=i;return o._p=new Promise(function(h,j){o.onload=h,o.onerror=j}),pt(i,"link",l),t.state.loading|=4,ps(i,a.precedence,e),t.instance=i;case"script":return i=on(a.src),(n=e.querySelector(ti(i)))?(t.instance=n,rt(n),n):(l=a,(n=$t.get(i))&&(l=v({},a),Lu(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),rt(n),pt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ps(l,a.precedence,e));return t.instance}function ps(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,o=0;o<l.length;o++){var h=l[o];if(h.dataset.precedence===t)i=h;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vs=null;function Kd(e,t,a){if(vs===null){var l=new Map,n=vs=new Map;n.set(a,l)}else n=vs,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[pn]||i[ht]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var h=l.get(o);h?h.push(i):l.set(o,[i])}}return l}function Jd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Hy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yy(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=un(l.href),i=t.querySelector(ei(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,rt(i);return}i=t.ownerDocument||t,l=$d(l),(n=$t.get(n))&&Gu(l,n),i=i.createElement("link"),rt(i);var o=i;o._p=new Promise(function(h,j){o.onload=h,o.onerror=j}),pt(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Xu=0;function qy(e,t){return e.stylesheets&&e.count===0&&Ss(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ss(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*xy());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ss(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function xs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ss(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bs=null;function Ss(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bs=new Map,t.forEach(By,e),bs=null,xs.call(e))}function By(e,t){if(!(t.state.loading&4)){var a=bs.get(e);if(a)var l=a.get(null);else{a=new Map,bs.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}n=t.instance,o=n.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,n),a.set(o,n),this.count++,l=xs.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var ai={$$typeof:ee,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Gy(e,t,a,l,n,i,o,h,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Fd(e,t,a,l,n,i,o,h,j,H,X,K){return e=new Gy(e,t,a,o,j,H,X,K,h),t=1,i===!0&&(t|=24),i=Ot(3,null,null,t),e.current=i,i.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Dc(i),e}function Id(e){return e?(e=ql,e):ql}function Pd(e,t,a,l,n,i){n=Id(n),l.context===null?l.context=n:l.pendingContext=n,l=Ha(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Ya(e,l,t),a!==null&&(Ct(a,e,t),kn(a,e,t))}function eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Qu(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function th(e){if(e.tag===13||e.tag===31){var t=hl(e,67108864);t!==null&&Ct(t,e,67108864),Qu(e,67108864)}}function ah(e){if(e.tag===13||e.tag===31){var t=Ut();t=qs(t);var a=hl(e,t);a!==null&&Ct(a,e,t),Qu(e,t)}}var js=!0;function Ly(e,t,a,l){var n=M.T;M.T=null;var i=q.p;try{q.p=2,Zu(e,t,a,l)}finally{q.p=i,M.T=n}}function Xy(e,t,a,l){var n=M.T;M.T=null;var i=q.p;try{q.p=8,Zu(e,t,a,l)}finally{q.p=i,M.T=n}}function Zu(e,t,a,l){if(js){var n=$u(l);if(n===null)Ou(e,t,l,Ts,a),nh(e,l);else if(Zy(n,e,t,a,l))l.stopPropagation();else if(nh(e,l),t&4&&-1<Qy.indexOf(e)){for(;n!==null;){var i=El(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ul(i.pendingLanes);if(o!==0){var h=i;for(h.pendingLanes|=2,h.entangledLanes|=2;o;){var j=1<<31-ye(o);h.entanglements[1]|=j,o&=~j}ia(i),(Le&6)===0&&(is=ae()+500,Wn(0))}}break;case 31:case 13:h=hl(i,2),h!==null&&Ct(h,i,2),cs(),Qu(i,2)}if(i=$u(l),i===null&&Ou(e,t,l,Ts,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Ou(e,t,l,null,a)}}function $u(e){return e=Ks(e),Vu(e)}var Ts=null;function Vu(e){if(Ts=null,e=wl(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=b(t),e!==null)return e;e=null}else if(a===31){if(e=S(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Oe:return 2;case _e:return 8;case Ne:case be:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var Ku=!1,Ja=null,Wa=null,Fa=null,li=new Map,ni=new Map,Ia=[],Qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nh(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function ii(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=El(t),t!==null&&th(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Zy(e,t,a,l,n){switch(t){case"focusin":return Ja=ii(Ja,e,t,a,l,n),!0;case"dragenter":return Wa=ii(Wa,e,t,a,l,n),!0;case"mouseover":return Fa=ii(Fa,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return li.set(i,ii(li.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,ni.set(i,ii(ni.get(i)||null,e,t,a,l,n)),!0}return!1}function ih(e){var t=wl(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=b(a),t!==null){e.blockedOn=t,vo(e.priority,function(){ah(a)});return}}else if(t===31){if(t=S(a),t!==null){e.blockedOn=t,vo(e.priority,function(){ah(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$u(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Vs=l,a.target.dispatchEvent(l),Vs=null}else return t=El(a),t!==null&&th(t),e.blockedOn=a,!1;t.shift()}return!0}function sh(e,t,a){Ns(e)&&a.delete(t)}function $y(){Ku=!1,Ja!==null&&Ns(Ja)&&(Ja=null),Wa!==null&&Ns(Wa)&&(Wa=null),Fa!==null&&Ns(Fa)&&(Fa=null),li.forEach(sh),ni.forEach(sh)}function Ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Ku||(Ku=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,$y)))}var Ds=null;function ch(e){Ds!==e&&(Ds=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ds===e&&(Ds=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Vu(l||a)===null)continue;break}var i=El(a);i!==null&&(e.splice(t,3),t-=3,$c(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function rn(e){function t(j){return Ms(j,e)}Ja!==null&&Ms(Ja,e),Wa!==null&&Ms(Wa,e),Fa!==null&&Ms(Fa,e),li.forEach(t),ni.forEach(t);for(var a=0;a<Ia.length;a++){var l=Ia[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)ih(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],o=n[Tt]||null;if(typeof i=="function")o||ch(a);else if(o){var h=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[Tt]||null)h=o.formAction;else if(Vu(n)!==null)continue}else h=o.action;typeof h=="function"?a[l+1]=h:(a.splice(l,3),l-=3),ch(a)}}}function uh(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Ju(e){this._internalRoot=e}ws.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=Ut();Pd(a,l,e,t,null,null)},ws.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pd(e.current,2,null,e,null,null),cs(),t[Dl]=null}};function ws(e){this._internalRoot=e}ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=po();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ia.length&&t!==0&&t<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&ih(e)}};var oh=r.version;if(oh!=="19.2.1")throw Error(u(527,oh,"19.2.1"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=x(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var Vy={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Kt=Es.inject(Vy),D=Es}catch{}}return ci.createRoot=function(e,t){if(!f(e))throw Error(u(299));var a=!1,l="",n=gf,i=pf,o=vf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Fd(e,1,!1,null,null,a,l,null,n,i,o,uh),e[Dl]=t.current,Au(e),new Ju(t)},ci.hydrateRoot=function(e,t,a){if(!f(e))throw Error(u(299));var l=!1,n="",i=gf,o=pf,h=vf,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(h=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),t=Fd(e,1,!0,t,a??null,l,n,j,i,o,h,uh),t.context=Id(null),a=t.current,l=Ut(),l=qs(l),n=Ha(l),n.callback=null,Ya(a,n,l),a=l,t.current.lanes=a,gn(t,a),ia(t),e[Dl]=t.current,Au(e),new ws(t)},ci.version="19.2.1",ci}var xh;function lg(){if(xh)return Iu.exports;xh=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),Iu.exports=ag(),Iu.exports}var ng=lg();const ig=Mh(ng);let el=null,Cs=null;const sg=async()=>Cs||(Cs=new Promise(async c=>{if(typeof window>"u"){console.warn(" Running in development mode without Miro SDK. Using mock data."),el=As(),c();return}const r=window.miro;if(!r){console.warn(" Miro SDK not found. Using mock data."),el=As(),c();return}try{console.log(" Miro SDK detected, attempting to connect...");const d=new Promise((f,m)=>setTimeout(()=>m(new Error("SDK connection timeout after 10s")),1e4)),u=await Promise.race([r.board.getInfo(),d]);console.log(" Miro SDK connected successfully"),console.log("Board info:",u),el=r,c()}catch(d){console.error(" Miro SDK connection failed:",d),console.error("Error details:",{name:d.name,message:d.message,stack:d.stack}),console.warn(" Falling back to mock mode - app will work with local storage"),console.warn(" Note: In mock mode, calendar will NOT be drawn on the actual Miro board"),el=As(),c()}}),Cs),As=()=>{console.warn(" Running in mock mode. Data will be stored in browser localStorage.");const c="agile-calendar-mock-data",r=()=>{try{const f=localStorage.getItem(c);return f?JSON.parse(f):{}}catch{return{}}},d=f=>{try{localStorage.setItem(c,JSON.stringify(f))}catch(m){console.error("Failed to save mock data:",m)}};let u=r();return{board:{get:async f=>Object.values(u).filter(b=>{if(f?.type&&b.type!==f.type)return!1;if(f?.tags&&Array.isArray(f.tags)){const S=b.tags||[];if(!f.tags.some(x=>S.includes(x)))return!1}return!0}).map(b=>{const S={...b};return Object.defineProperties(S,{setMetadata:{value:async function(g,x){this.metadata=this.metadata||{},this.metadata[g]=x,u[this.id]={...this},d(u)},enumerable:!1,writable:!0},getMetadata:{value:async function(g){return this.metadata?.[g]},enumerable:!1,writable:!0},sync:{value:async function(){return u[this.id]={id:this.id,type:this.type,tags:this.tags,metadata:this.metadata,content:this.content,x:this.x,y:this.y,width:this.width,height:this.height,style:this.style},d(u),this},enumerable:!1,writable:!0},remove:{value:async function(){delete u[this.id],d(u)},enumerable:!1,writable:!0}}),S}),createShape:async f=>{const m="mock-shape-"+Date.now(),b={...f,type:"shape",id:m,tags:f.tags||[],metadata:{}};return Object.defineProperties(b,{setMetadata:{value:async function(S,g){this.metadata[S]=g,u[m]={...this},d(u)},enumerable:!1,writable:!0},getMetadata:{value:async function(S){return this.metadata[S]},enumerable:!1,writable:!0},sync:{value:async function(){return u[m]={...this,id:this.id,type:this.type,tags:this.tags,metadata:this.metadata,x:this.x,y:this.y,width:this.width,height:this.height,style:this.style},d(u),this},enumerable:!1,writable:!0},remove:{value:async function(){delete u[m],d(u)},enumerable:!1,writable:!0}}),u[m]={id:b.id,type:b.type,tags:b.tags,metadata:b.metadata,x:f.x,y:f.y,width:f.width,height:f.height,style:f.style},d(u),b},createStickyNote:async f=>{const m="mock-sticky-"+Date.now(),b={...f,type:"sticky_note",id:m,tags:f.tags||[],metadata:{}};return Object.defineProperties(b,{setMetadata:{value:async function(S,g){this.metadata[S]=g,u[m]={...this},d(u)},enumerable:!1,writable:!0},getMetadata:{value:async function(S){return this.metadata[S]},enumerable:!1,writable:!0},sync:{value:async function(){return u[m]={id:this.id,type:this.type,tags:this.tags,metadata:this.metadata,content:this.content,x:this.x,y:this.y,width:this.width},d(u),this},enumerable:!1,writable:!0},remove:{value:async function(){delete u[m],d(u)},enumerable:!1,writable:!0}}),u[m]={id:m,type:"sticky_note",tags:b.tags,metadata:b.metadata,content:f.content,x:f.x,y:f.y,width:f.width},d(u),b},createFrame:async f=>{const m="mock-frame-"+Date.now(),b={...f,type:"frame",id:m};return Object.defineProperties(b,{setMetadata:{value:async function(S,g){this.metadata=this.metadata||{},this.metadata[S]=g,u[m]={...this},d(u)},enumerable:!1,writable:!0},getMetadata:{value:async function(S){return this.metadata?.[S]},enumerable:!1,writable:!0},sync:{value:async function(){return u[m]={...this},d(u),this},enumerable:!1,writable:!0}}),u[m]={...f,id:m,type:"frame"},d(u),b},createText:async f=>{const m="mock-text-"+Date.now(),b={...f,type:"text",id:m};return Object.defineProperties(b,{setMetadata:{value:async function(S,g){this.metadata=this.metadata||{},this.metadata[S]=g,u[m]={...this},d(u)},enumerable:!1,writable:!0},getMetadata:{value:async function(S){return this.metadata?.[S]},enumerable:!1,writable:!0},sync:{value:async function(){return u[m]={...this},d(u),this},enumerable:!1,writable:!0}}),u[m]={...f,id:m,type:"text"},d(u),b},remove:async f=>{f&&f.id&&(delete u[f.id],d(u))},ui:{on:async()=>{},openPanel:async()=>{}},viewport:{zoomTo:async f=>(console.log("Mock: Viewport zoom to",f.id||f),Promise.resolve()),get:async()=>({x:0,y:0,width:1920,height:1080}),set:async f=>(console.log("Mock: Viewport set to",f),Promise.resolve())}}}},tl=async()=>(el||await sg(),{instance:el}),Ce=new Proxy({},{get:(c,r)=>el?el[r]:(console.warn(" Miro not initialized yet. Call getMiro() first or use mock."),As()[r])});class cg{stats={};currentOperation="Background/Idle";logs=[];maxLogs=100;startOperation(r){this.currentOperation=r,this.log(`Started operation: ${r}`)}endOperation(){this.log(`Ended operation: ${this.currentOperation}`),this.currentOperation="Background/Idle"}trackApiCall(r,d=!1,u=!1){this.stats[this.currentOperation]||(this.stats[this.currentOperation]={}),this.stats[this.currentOperation][r]||(this.stats[this.currentOperation][r]={count:0,rateLimitHits:0,errors:0});const f=this.stats[this.currentOperation][r];f.count++,d&&f.rateLimitHits++,u&&f.errors++}increment(r){this.trackApiCall(r)}log(r){const d=new Date().toISOString().split("T")[1].slice(0,-1);this.logs.unshift(`[${d}] ${r}`),this.logs.length>this.maxLogs&&this.logs.pop()}getStats(){return JSON.parse(JSON.stringify(this.stats))}getLogs(){return[...this.logs]}reset(){this.stats={},this.logs=[],this.currentOperation="Background/Idle"}}const Vt=new cg,Us=c=>new Promise(r=>setTimeout(r,c));async function le(c,r,d="Unknown API"){Vt.trackApiCall(d);let u=0;const f=10;for(;;){if(r?.aborted)throw new Error("Operation cancelled");try{return await c()}catch(m){if(m.message?.includes("rate limit")||m.message?.includes("429")||m.code===429){if(Vt.trackApiCall(d,!0,!1),u<f){u++;const S=1e3*Math.pow(2,u)+Math.random()*1e3;console.warn(`Rate limit hit. Retrying in ${Math.round(S)}ms... (Attempt ${u}/${f})`),await Us(S);continue}}else Vt.trackApiCall(d,!1,!0);throw m}}}const zs="settings",Os=()=>({baseMonth:new Date().toISOString().substring(0,7),viewSpanMonths:3,roles:[{id:"role-pm",name:"PM",color:"#ff9999"},{id:"role-dev",name:"Dev",color:"#99ccff"}],devs:[],tracks:[],externalTeams:[],projectHolidays:[],personalSchedules:{},dailyTrackAssignments:{},dailyAssignmentStatus:{},breakTime:{startTime:"12:30",duration:60},recurringTasks:[]});let fn=null,dn=null,lo=0;const ug=6e4;async function Dh(){try{if(fn)try{const u=await le(()=>Ce.board.get({id:fn}));if(u&&u.length>0)return u[0];console.warn("Cached settings shape not found, searching again..."),fn=null,dn=null}catch(u){console.warn("Error fetching cached settings shape:",u),fn=null,dn=null}console.log("Searching for settings shape...");const r=await le(()=>Ce.board.get({type:"shape"}));console.log(`Found ${r.length} shapes`);let d=null;for(const u of r)try{if(typeof u.getMetadata=="function"&&await le(()=>u.getMetadata("appType"))==="settings"){d=u;break}}catch(f){console.warn("Error checking shape metadata:",f)}if(d)return console.log("Settings shape found"),fn=d.id,d}catch(r){console.warn("Error finding settings shape:",r)}console.log("Creating new settings shape...");const c=await le(()=>Ce.board.createShape({shape:"rectangle",x:-1e4,y:-1e4,width:10,height:10,style:{fillOpacity:0,borderOpacity:0}}));try{await le(()=>c.setMetadata(zs,Os())),await le(()=>c.setMetadata("appType","settings")),await le(()=>c.sync()),console.log("Settings shape created"),fn=c.id}catch(r){console.error("Error initializing settings shape:",r)}return c}async function It(c=!1){if(!c&&dn&&Date.now()-lo<ug)return dn;try{const r=await Dh(),d=r.getMetadata?await le(()=>r.getMetadata(zs)):r.metadata?.[zs];let u;d?u=d:u=Os();const f=Os().roles;if(!u.roles)u.roles=[...f];else{if(!u.roles.some(S=>S.id==="role-pm")){const S=f.find(g=>g.id==="role-pm");S&&u.roles.push(S)}if(!u.roles.some(S=>S.id==="role-dev")){const S=f.find(g=>g.id==="role-dev");S&&u.roles.push(S)}}return dn=u,lo=Date.now(),u}catch(r){return console.error("Error loading settings:",r),Os()}}async function og(c){try{const r=await Dh();await le(()=>r.setMetadata(zs,c)),await le(()=>r.sync()),dn=c,lo=Date.now()}catch(r){throw console.error("Error saving settings:",r),r}}const mn=4200,Hs=4800,oo=600,ro=2024;async function rg(c,r){const d=new Date(c+"-01"),u=mn,f=Hs,m=oo,b=0,S=0,g=c;if((await le(()=>Ce.board.get({type:"frame"}))).some(A=>A.title===`Calendar ${g}`)){console.warn(`Calendar for ${g} already exists.`),await bh(g);return}const p=(d.getFullYear()-ro)*12+d.getMonth(),T=b+p*(u+m),O=S,U=await le(()=>Ce.board.createFrame({title:`Calendar ${g}`,x:T,y:O,width:u,height:f,style:{fillColor:"#ffffff"}}));await fg(U,d),await bh(g);try{await Ce.board.viewport.zoomTo(U)}catch(A){console.error("Failed to zoom to frame:",A)}}async function fg(c,r,d){const u=r.getFullYear(),f=r.getMonth(),m=c.x,b=c.y,S=c.width,g=c.height,x=160,C=80,v=S/6,p=6,T=(g-x-C)/p,O=["1","2","3","4","5","6","7","8","9","10","11","12"],U=await le(()=>Ce.board.createText({content:`${u} ${O[f]}`,x:m,y:b-g/2+x/2,width:S-80,style:{fontSize:48,fontFamily:"arial",color:"#1a1a1a",textAlign:"center",fillColor:"transparent"}}));await le(()=>c.add(U));const A=["","","","","","Weekly"],I=Array.from({length:6},async(Q,de)=>{const ve=m-S/2+v*(de+.5),ce=b-g/2+x+C/2,ne=de===5;return await le(()=>Ce.board.createText({content:A[de],x:ve,y:ce,width:v-20,style:{fontSize:32,fontFamily:"arial",color:"#424242",textAlign:"center",fillColor:ne?"#fff9c4":"transparent"}}))}),V=await Promise.all(I);for(const Q of V)await le(()=>c.add(Q));const ee=b-g/2+x+C,L=[];for(let Q=0;Q<=6;Q++){const ve=m-S/2+v*Q,ce=ee+p*T/2,ne=await le(()=>Ce.board.createShape({shape:"rectangle",x:ve,y:ce,width:8,height:p*T,style:{fillColor:"#e0e0e0",borderWidth:0}}));L.push(ne)}for(let Q=0;Q<=p;Q++){const ve=ee+T*Q,ce=m,ne=await le(()=>Ce.board.createShape({shape:"rectangle",x:ce,y:ve,width:S,height:8,style:{fillColor:"#e0e0e0",borderWidth:0}}));L.push(ne)}for(const Q of L)await le(()=>c.add(Q));const J=(new Date(u,f,1).getDay()+6)%7,Z=new Date(u,f+1,0).getDate();for(let Q=1;Q<=Z;Q++){const de=J+(Q-1),ve=Math.floor(de/7),ce=de%7;if(ce>=5)continue;const ne=m-S/2+v*ce,G=ee+T*ve,ie=`${u}-${(f+1).toString().padStart(2,"0")}-${Q.toString().padStart(2,"0")}`,P=await le(()=>Ce.board.createShape({shape:"round_rectangle",content:`<p><strong>${Q}</strong></p>`,x:ne+50,y:G+40,width:60,height:60,style:{fillColor:"#f5f5f5",borderColor:"#bdbdbd",borderWidth:2,fontSize:24,fontFamily:"arial",color:"#424242",textAlign:"center",textAlignVertical:"middle"}}));await le(()=>P.setMetadata("appType","calendarCell")),await le(()=>P.setMetadata("date",ie)),await le(()=>P.setMetadata("isDayNumber",!0)),await le(()=>c.add(P))}}async function bh(c){const d=(await le(()=>Ce.board.get({type:"frame"}))).find(u=>u.title===`Calendar ${c}`);d&&await le(()=>Ce.board.viewport.zoomTo(d))}async function Pt(c,r){const d=`${c}-${String(r+1).padStart(2,"0")}`;return(await le(()=>Ce.board.get({type:"frame"}))).find(f=>f.title===`Calendar ${d}`)}async function wh(c,r){const[d,u,f]=c.split("-").map(Number),m=d,b=u-1,S=f;let g=await Pt(m,b),x=0,C=0;if(g)x=g.x,C=g.y;else return console.warn(`Frame for ${c} not found.`),new Map;const v=mn,p=Hs,T=160,O=80,U=v/6,I=(p-T-O)/6,ee=(new Date(m,b,1).getDay()+6)%7,L=S-1,E=ee+L,J=Math.floor(E/7),Z=E%7;if(Z>=5)return console.warn(`Task on weekend ${c} cannot be placed in grid.`),new Map;const Q=C-p/2+T+O,de=x-v/2+U*Z,ve=Q+I*J,ce=[...r].sort((y,w)=>{const _=y.time?.startTime||"99:99",W=w.time?.startTime||"99:99";return _.localeCompare(W)}),ne=new Map,G=140,ie=140,P=10,M=de+P+G/2,q=ve+80+P+ie/2,F=U/2,re=Math.floor((F-P)/(G+P)),oe=Math.max(1,re);return ce.forEach((y,w)=>{const _=w%oe,W=Math.floor(w/oe),fe=M+_*(G+P),he=q+W*(ie+P);ne.set(y.id,{x:fe,y:he})}),ne}async function dg(c,r,d=!1){if(!c.date)return{x:0,y:0};const u=new Date(c.date),f=u.getFullYear(),m=u.getMonth(),b=u.getDate();let S=0,g=0,x=mn;const C=await Pt(f,m);if(C)S=C.x,g=C.y,x=C.width;else{const q=(u.getFullYear()-ro)*12+u.getMonth(),F=mn,re=oo,oe=0,y=0;S=oe+q*(F+re),g=y}const v=x,p=Hs,T=new Date(f,m,1),U=Math.round(v/700),A=v/U;let I=0;if(U===8){const M=T.getDay(),q=b-1+M,F=Math.floor(q/7),re=q%7;I=F*8+re}else{const M=(T.getDay()+6)%7;I=b-1+M}const V=Math.floor(I/7),ee=I%7,L=160,E=80,Z=(p-L-E)/6,Q=g-p/2+L+E,de=S-v/2+A*ee,ve=Q+Z*V,ce=140,ne=140,G=10,ie=de+G+ce/2,P=ve+80+G+ne/2;return{x:ie,y:P}}const hn=180;async function Eh(c,r){const d=new Date(c),u=d.getFullYear(),f=d.getMonth(),m=d.getDate();let b=0,S=0;const g=await Pt(u,f);if(g)b=g.x,S=g.y;else{const oe=(d.getFullYear()-ro)*12+d.getMonth(),y=mn,w=oo,_=0,W=0;b=_+oe*(y+w),S=W}const x=mn,C=Hs,p=(new Date(u,f,1).getDay()+6)%7,T=m-1,O=p+T,U=Math.floor(O/7),A=O%7,I=160,V=80,ee=x/6,E=(C-I-V)/6,J=S-C/2+I+V,Z=b-x/2+ee*A,Q=J+E*U,de=Z+ee/2,ve=2,ce=10,ne=110,G=r%ve,ie=Math.floor(r/ve),M=de+ce+hn/2+G*(hn+ce),F=Q+40+ie*(ne+ce)+ne/2;return{x:M,y:F}}async function no(c,r,d,u){let f=u||null;if(!f&&d&&d.parentId)try{const m=await le(()=>Ce.board.get({id:d.parentId}),void 0,"board.get(parentId)");m&&m.length>0&&m[0].type==="frame"&&(console.log(`Found parent frame via parentId: ${m[0].title}`),m[0].title.startsWith("Calendar ")&&(f=m[0]))}catch(m){console.warn("Error fetching parent frame:",m)}if(!f){const m=await le(()=>Ce.board.get({type:"frame"}),void 0,"board.get(frame)");if(console.log(`getDateFromPosition: Checking ${m.length} frames for point (${c}, ${r})`),f=m.find(b=>{const S=b.x-b.width/2,g=b.x+b.width/2,x=b.y-b.height/2,C=b.y+b.height/2,v=50,p=c>=S-v&&c<=g+v&&r>=x-v&&r<=C+v;return p&&console.log(`Found frame match: ${b.title} [${S}, ${g}, ${x}, ${C}]`),p&&b.title.startsWith("Calendar ")}),!f)return console.log("getDateFromPosition: No calendar frame found at",c,r),m.slice(0,3).forEach(b=>{console.log(`Frame: ${b.title}, x:${b.x}, y:${b.y}, w:${b.width}, h:${b.height}`)}),null}try{const m=f.title.match(/Calendar (\d{4})-(\d{2})/);if(m){const b=parseInt(m[1]),S=parseInt(m[2])-1,g=f.width,x=f.height,C=4800,v=x*(160/C),p=x*(80/C),O=Math.round(g/700),U=g/O,A=6,I=(x-v-p)/A,V=f.y-x/2+v+p,ee=c-(f.x-g/2),L=r-V;let E=Math.floor(ee/U),J=Math.floor(L/I);E=Math.max(0,Math.min(E,O-1)),J=Math.max(0,Math.min(J,A-1));const Z=new Date(b,S,1);let Q=-1;if(O===8){const G=Z.getDay();E<7&&(Q=J*7+E-G+1)}else{const G=(Z.getDay()+6)%7;Q=J*7+E-G+1}const de=new Date(b,S,Q),ve=(de.getMonth()+1).toString().padStart(2,"0"),ce=de.getDate().toString().padStart(2,"0");return`${de.getFullYear()}-${ve}-${ce}`}}catch(m){console.warn("Error performing math calculation for date:",m)}return null}const hg=9,mg=18,sa=hg*60,ri=mg*60,al=c=>{const[r,d]=c.split(":").map(Number);return r*60+d},ca=c=>{const r=Math.floor(c/60),d=c%60;return`${r.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},oi=(c,r,d,u)=>{const f=[],m=[],b=u.devs.find(v=>v.id===r),S=b?b.name:"Unknown";return(u.personalSchedules[r]||[]).filter(v=>v.date===c).forEach((v,p)=>{if(v.type==="fullDayOff")f.push({id:`personal-${p}`,title:v.reason||"",description:v.reason,devName:S,start:sa,end:ri,type:"off",color:"#eeeeee"});else if((v.type==="partial"||v.type==="nonAgileTask"||v.type==="personalErrand")&&v.start&&v.end){let T="",O="#f5f5f5";v.type==="nonAgileTask"?T="":v.type==="personalErrand"&&(T=""),f.push({id:`personal-${p}`,title:v.reason||T,description:v.reason,devName:S,start:al(v.start),end:al(v.end),type:"personal",color:O})}}),d.filter(v=>v.date===c&&v.time?.startTime&&v.time?.duration).forEach(v=>{let p=!1;if(v.roles.pmId===r&&(p=!0),v.roles.designerIds?.includes(r)&&(p=!0),!p){if(v.roles.devPlan.mode==="AllDev"){const T=u.roles.find(U=>U.name.toLowerCase()==="designer"||U.name===""),O=T&&b?.roleId===T.id;b&&b.roleId!=="role-pm"&&!O&&(p=!0)}else if(v.roles.devPlan.mode==="Tracks"){const T=u.roles.find(A=>A.name.toLowerCase()==="designer"||A.name===""),O=T&&b?.roleId===T.id;if(b&&b.roleId!=="role-pm"&&!O){const A=v.roles.devPlan.assignedTrackIds||[],I=v.roles.devPlan.requiredTrackCount||0;if(A.length>=I&&I>0){const V=u.dailyTrackAssignments[c]||{};let ee=!1;for(const L of A)if((V[L]||[]).includes(r)){ee=!0;break}ee&&(p=!0)}else p=!0}}}if(p&&v.time?.startTime&&v.time?.duration){const T=al(v.time.startTime),O=T+v.time.duration;let U="#e3f2fd";v.roles.devPlan.mode==="Tracks"&&(U="#e8f5e9"),m.push({id:v.id,title:v.title,description:v.summary,devName:S,start:T,end:O,type:"task",color:U})}}),f.forEach(v=>{v.type==="personal"&&m.some(T=>v.start<T.end&&v.end>T.start)&&(v.color="#ffcdd2")}),[...f,...m]},jt="task",io="personalSchedule",_s=new Map;let fi=null,ao=!1;const di=new Map,Sh=5e3;async function jh(c){Vt.startOperation("handleTaskMove");try{console.log("handleTaskMove called with",c.length,"items");for(const r of c)r.type==="sticky_note"&&di.set(r.id,r);fi&&clearTimeout(fi),console.log(`Queued ${di.size} items for move. Waiting ${Sh}ms...`),fi=setTimeout(async()=>{await Ch()},Sh)}finally{Vt.endOperation()}}async function Ch(){if(ao){console.log("Processing already in progress. Rescheduling check..."),fi=setTimeout(Ch,1e3);return}ao=!0,Vt.startOperation("processPendingMoves");try{console.log("Processing pending moves batch...");const c=Array.from(di.values());di.clear(),fi=null,c.length>0&&await yg(c)}catch(c){console.error("Error in processPendingMoves:",c)}finally{ao=!1,Vt.endOperation()}}async function yg(c){const r=new Set,d=new Map,u=new Set;try{const m=[];for(let b=0;b<c.length;b+=5)m.push(c.slice(b,b+5));for(const b of m)await Promise.all(b.map(async S=>{if(di.has(S.id)){console.log(`Skipping task ${S.id} in current batch because a newer move is pending.`);return}try{const g=await le(()=>Ce.board.get({id:S.id}),void 0,"board.get(id)");if(!g||g.length===0)return;const x=g[0],C=await x.getMetadata(jt);if(!C||!C.id)return;const v=C,T=_s.get(v.id)||v.date;u.add(v.id);const O=typeof S.x=="number"?S.x:x.x,U=typeof S.y=="number"?S.y:x.y;x.parentId&&await ks(x),x.x=O,x.y=U;const A=await no(O,U,void 0);if(A)if(A!==T){console.log(`Task ${v.title} moved from ${T} to ${A}`);const I={...v,date:A};_s.set(v.id,A),await le(()=>x.setMetadata(jt,I),void 0,"note.setMetadata(task)");const V=new Date(A),ee=await Pt(V.getFullYear(),V.getMonth());ee&&await le(()=>ee.add(x),void 0,"frame.add"),d.has(A)||d.set(A,[]),d.get(A).push({note:x,task:I}),T&&r.add(T),r.add(A)}else console.log(`Task ${v.title} moved but stayed on same date ${T}`),d.has(T)||d.set(T,[]),d.get(T).push({note:x,task:v}),r.add(T);else console.warn(`Could not determine date for task ${v.title} at (${O}, ${U})`)}catch(g){console.error("Error processing individual item move:",g)}}));console.log("Reorganizing affected dates:",Array.from(r));for(const b of r)await ll(b,void 0,void 0,d.get(b),u),await Us(200)}catch(f){console.error("Error in processBatch:",f)}}function Ah(c,r){const d=[];if(d.push(c.title),c.time&&c.time.startTime)if(c.time.duration){const m=al(c.time.startTime)+c.time.duration;d.push(`${c.time.startTime}-${ca(m)}`)}else d.push(c.time.startTime);else c.time&&c.time.duration&&d.push(`${c.time.duration}min`);const u=[];if(c.roles.pmId){const f=r.devs.find(m=>m.id===c.roles.pmId);f&&u.push(`${f.name}(PM)`)}if(c.roles.devPlan.mode==="Tracks"){const f=c.roles.devPlan.assignedTrackIds||[];if(f.length>0){const m=f.map(b=>{const S=r.tracks.find(g=>g.id===b);return S?S.name:""}).filter(Boolean);u.push(m.join(", "))}else u.push(`${c.roles.devPlan.requiredTrackCount}Track`)}else c.roles.devPlan.mode==="AllDev"&&u.push("All Dev");if(c.roles.designerIds&&c.roles.designerIds.length>0){const f=c.roles.designerIds.map(m=>{const b=r.devs.find(S=>S.id===m);return b?b.name:""}).filter(Boolean);u.push(...f)}if(u.length>0&&d.push(u.join("")),c.externalParticipants&&c.externalParticipants.length>0){const f=c.externalParticipants.map(m=>{const b=r.externalTeams.find(S=>S.id===m.teamId);return b?b.name:""}).filter(Boolean);f.length>0&&d.push(f.join(""))}return c.externalLink&&d.push(`<a href="${c.externalLink}">Link</a>`),`<p>${d.join("<br>")}</p>`}async function Oh(c){}async function hi(c,r,d,u=!1){c.content=Ah(r,d),c.style={...c.style,fillColor:zh(r)};const f=JSON.parse(JSON.stringify(r));await le(()=>c.setMetadata(jt,f),void 0,"note.setMetadata(task)"),await le(()=>c.setMetadata("appType","task"),void 0,"note.setMetadata(appType)"),await le(()=>c.sync(),void 0,"note.sync(update)"),u||await Oh(r.id)}async function ks(c,r){if(c.parentId)try{const d=await le(()=>Ce.board.get({id:c.parentId}),r,"board.get(parentId)");if(d&&d.length>0){const u=d[0];if(u.remove){await le(()=>u.remove(c),r,"parent.remove");try{c.parentId=null}catch{}}}}catch(d){console.warn("Failed to detach from parent",d)}}async function ll(c,r,d,u,f){Vt.startOperation("reorganizeTasksOnDate");try{let m=[];if(d)m=d;else{const v=new Date(c),p=await Pt(v.getFullYear(),v.getMonth());if(p){const O=(await le(()=>p.getChildren(),void 0,"frame.getChildren")).filter(A=>A.type==="sticky_note");m=(await Promise.all(O.map(async A=>{try{let V=await A.getMetadata(jt);if(V&&V.date===c){if(f&&f.has(V.id))return null;const ee=_s.get(V.id);if(ee&&ee!==c)return null;let L=A.x,E=A.y;if(A.parentId===p.id&&(L=p.x+A.x,E=p.y+A.y),!(L>=p.x-p.width/2&&L<=p.x+p.width/2&&E>=p.y-p.height/2&&E<=p.y+p.height/2)){const Z=await no(L,E,A);if(Z&&Z!==c)return console.log(`Task ${V.title} is physically at ${Z}, excluding from ${c} reorganization`),null}return r&&V.id===r.id&&(V=r),{note:A,task:V}}if(V){if(f&&f.has(V.id))return null;const ee=_s.get(V.id);if(ee&&ee!==c)return null;let L=A.x,E=A.y;if(A.parentId===p.id&&(L=p.x+A.x,E=p.y+A.y),await no(L,E,A,p)===c)return V.date=c,{note:A,task:V}}}catch{}return null}))).filter(A=>A!==null)}else{console.warn(`Frame not found for date ${c}, skipping reorganize`);return}}if(u&&u.length>0){const v=new Set(m.map(p=>p.task.id));for(const p of u)if(!v.has(p.task.id))m.push(p),v.add(p.task.id);else{const T=m.findIndex(O=>O.task.id===p.task.id);T!==-1&&(m[T]=p)}}if(m.length===0)return;m.sort((v,p)=>v.note.y-p.note.y);const b=m.map(v=>v.task),S=await wh(c,b),g=await It(),x=new Date(c),C=await Pt(x.getFullYear(),x.getMonth());for(const{note:v,task:p}of m){const T=S.get(p.id);if(T){if(await hi(v,p,g),Math.abs(v.x-T.x)>1||Math.abs(v.y-T.y)>1)try{v.x=T.x,v.y=T.y,await le(()=>v.sync(),void 0,"note.sync")}catch(O){if(O.message&&O.message.includes("child of another board item"))try{if(await ks(v),C)try{await le(()=>C.remove(v),void 0,"frame.remove(fallback)")}catch{}v.x=T.x,v.y=T.y,await le(()=>v.sync(),void 0,"note.sync(retry)")}catch(U){console.error("Failed to move task even after removing from frame",U)}else throw O}if(C)try{await le(()=>C.add(v),void 0,"frame.add")}catch{}}}if(C){const v=await C.getChildren(),p=[];for(const T of v)if(T.type==="sticky_note")try{await T.getMetadata("appType")===io&&await T.getMetadata("date")===c&&p.push(T)}catch{}if(p.length>0){p.sort((T,O)=>T.y-O.y);for(let T=0;T<p.length;T++){const O=p[T],U=await Eh(c,T);if(Math.abs(O.x-U.x)>1||Math.abs(O.y-U.y)>1||O.width!==hn){O.x=U.x,O.y=U.y,O.width=hn;try{await le(()=>O.sync(),void 0,"personalNote.sync")}catch(A){if(A.message&&A.message.includes("child of another board item"))try{await ks(O),O.x=U.x,O.y=U.y,O.width=hn,await le(()=>O.sync(),void 0,"personalNote.sync(retry)")}catch(I){console.error("Failed to move personal note even after removing from frame",I)}else console.error("Failed to sync personal note",A)}}}}}}catch(m){console.error("Error reorganizing tasks:",m)}finally{Vt.endOperation()}}async function fo(c,r){try{const d=await It(),u=await dg(c,d),f=Ah(c,d),m=await le(()=>Ce.board.createStickyNote({content:f,x:u.x,y:u.y,width:140,style:{fillColor:zh(c),fontSize:14}}),void 0,"board.createStickyNote"),b={...c,id:m.id};if(await hi(m,b,d),b.date){const S=new Date(b.date),g=await Pt(S.getFullYear(),S.getMonth());if(g)try{await le(()=>g.add(m),void 0,"frame.add(new)")}catch(x){console.warn("Failed to add task to frame",x)}}return b.date&&!r?.skipReorganize&&await ll(b.date,b),b}catch(d){throw console.error("Error creating task:",d),d}}function zh(c){switch(c.status){case"Draft":return"light_yellow";case"Planned":return"light_green";case"Done":return"gray";default:return"light_yellow"}}async function _h(){try{const c=await le(()=>Ce.board.get({type:"sticky_note"}),void 0,"board.get(sticky_note)"),r=[];for(const d of c)if(await le(()=>d.getMetadata("appType"),void 0,"note.getMetadata(appType)")==="task"){const f=await le(()=>d.getMetadata(jt),void 0,"note.getMetadata(task)");if(f){const m=f;m.id!==d.id&&(m.id=d.id),r.push(m)}}else{const f=await le(()=>d.getMetadata(jt),void 0,"note.getMetadata(task)");if(f){const m=f;m.id!==d.id&&(m.id=d.id),r.push(m)}}return r}catch(c){return console.error("Error loading tasks:",c),[]}}async function Rs(c,r){try{let d=null,u=null;try{if(!c.id.startsWith("task-")){const f=await le(()=>Ce.board.get({id:c.id}),void 0,"board.get(id)");if(f&&f.length>0){d=f[0];const m=await le(()=>d.getMetadata(jt),void 0,"note.getMetadata(task)");m&&(u=m)}}}catch(f){console.warn(`Failed to get task by ID ${c.id}, falling back to search`,f)}if(!d){console.log(`Task ${c.id} not found by ID, searching all sticky notes...`);const f=await le(()=>Ce.board.get({type:"sticky_note"}),void 0,"board.get(sticky_note)");for(const m of f)try{const b=await m.getMetadata(jt);if(b&&b.id===c.id){d=m,u=b,console.log(`Found task ${c.id} on note ${d.id}`);break}}catch{}}if(d&&u){const f=r||await It();if(await hi(d,c,f),c.date&&u.date!==c.date){const m=new Date(c.date),b=await Pt(m.getFullYear(),m.getMonth());b&&await le(()=>b.add(d),void 0,"frame.add(new)")}c.date&&await ll(c.date,c),u.date&&u.date!==c.date&&await ll(u.date);return}throw new Error(`Task with id ${c.id} not found`)}catch(d){throw console.error("Error updating task:",d),d}}async function kh(c){try{const r=await le(()=>Ce.board.get({type:"sticky_note"}));for(const d of r){const u=await le(()=>d.getMetadata(jt));if(u&&u.id===c){const f=u;await Oh(c),await le(()=>Ce.board.remove(d)),f.date&&await ll(f.date);return}}}catch(r){throw console.error("Error deleting task:",r),r}}async function gg(c){try{if(!c.startsWith("task-"))try{const d=await le(()=>Ce.board.get({id:c}),void 0,"board.get(id)");if(d&&d.length>0){const u=d[0],f=await le(()=>u.getMetadata(jt),void 0,"note.getMetadata(task)");if(f){const m=f;return m.id!==u.id&&(m.id=u.id),m}}}catch(d){console.warn(`Failed to get task by ID ${c}, falling back to search`,d)}const r=await le(()=>Ce.board.get({type:"sticky_note"}),void 0,"board.get(sticky_note)");for(const d of r){const u=await le(()=>d.getMetadata(jt),void 0,"note.getMetadata(task)");if(u&&u.id===c){const f=u;return f.id!==d.id&&(f.id=d.id),f}}return null}catch(r){return console.error("Error getting task:",r),null}}async function pg(c){try{const r=await It(),d=await le(()=>Ce.board.get({type:"sticky_note"})),u=new Set,f=new Map;for(const m of d)try{const b=await le(()=>m.getMetadata(jt));b&&b.id&&f.set(b.id,m)}catch{}for(const m of c){const b=f.get(m.id);if(b){const S=await le(()=>b.getMetadata(jt));S.date&&u.add(S.date),m.date&&u.add(m.date),await hi(b,m,r)}}for(const m of u)await Us(200),await ll(m)}catch(r){throw console.error("Error in bulk update:",r),r}}async function vg(c){try{const r=await le(()=>Ce.board.get({type:"sticky_note"})),d=await le(()=>Ce.board.get({type:"shape"})),u=await le(()=>Ce.board.get({type:"text"})),f=new Set,m=[],b=new Set(c);for(const S of r)try{const g=await le(()=>S.getMetadata(jt));if(g&&g.id&&b.has(g.id)){const x=g;m.push(S),x.date&&f.add(x.date)}}catch{}for(const S of d)try{const g=await le(()=>S.getMetadata("appType")),x=await le(()=>S.getMetadata("taskId"));g==="taskLink"&&x&&typeof x=="string"&&b.has(x)&&m.push(S)}catch{}for(const S of u)try{const g=await le(()=>S.getMetadata("appType")),x=await le(()=>S.getMetadata("taskId"));g==="taskLink"&&x&&typeof x=="string"&&b.has(x)&&m.push(S)}catch{}for(const S of m)await le(()=>Ce.board.remove(S));for(const S of f)await ll(S)}catch(r){throw console.error("Error in bulk delete:",r),r}}async function Rh(c,r){try{const d=await It(),[u,f]=c.split("-"),m=parseInt(u,10),b=parseInt(f,10)-1,S=await le(()=>Ce.board.get({type:"sticky_note"}),r),g=[];for(const v of S)try{if(await le(()=>v.getMetadata("appType"),r)===io){const T=await le(()=>v.getMetadata("date"),r);T&&typeof T=="string"&&T.startsWith(c)&&g.push(v)}}catch{}for(const v of g){if(r?.aborted)throw new Error("Operation cancelled");await le(()=>Ce.board.remove(v),r)}const x=new Map;if(d.personalSchedules){for(const[v,p]of Object.entries(d.personalSchedules))for(const T of p)if(T.date.startsWith(c)){x.has(T.date)||x.set(T.date,new Map);const O=x.get(T.date);O.has(v)||O.set(v,[]),O.get(v).push(T)}}const C=await le(()=>Pt(m,b),r);for(const[v,p]of x.entries()){let T=0;for(const[O,U]of p.entries()){if(r?.aborted)throw new Error("Operation cancelled");const A=d.devs.find(Z=>Z.id===O),I=A?A.name:"Unknown",V=A&&A.roleId?d.roles.find(Z=>Z.id===A.roleId)?.name:"",ee=[`<strong>${I}</strong> ${V?`(${V})`:""}`];U.sort((Z,Q)=>Z.type==="fullDayOff"?-1:Q.type==="fullDayOff"?1:(Z.start||"").localeCompare(Q.start||""));for(const Z of U)if(Z.type==="fullDayOff")ee.push("");else if(Z.type==="partial"||Z.type==="nonAgileTask"||Z.type==="personalErrand"){const Q=Z.start&&Z.end?`${Z.start}-${Z.end}`:"";ee.push(`${Q} ${Z.reason||""}`)}const L=`<p>${ee.join("<br>")}</p>`,E=await Eh(v,T),J=await le(()=>Ce.board.createStickyNote({content:L,x:E.x,y:E.y,shape:"rectangle",width:hn,style:{fillColor:"gray",fontSize:10,textAlign:"left"}}),r);if(await le(()=>J.setMetadata("appType",io),r),await le(()=>J.setMetadata("date",v),r),C)try{await le(()=>C.add(J),r)}catch{}T++}}}catch(d){console.error("Error rendering personal schedules:",d)}}async function xg(c,r){const d=await It(),[u,f]=c.split("-"),m=parseInt(u,10),b=parseInt(f,10)-1,S=await le(()=>Ce.board.get({type:"sticky_note"}),r),g=new Map;for(const C of S){const v=await C.getMetadata(jt);if(v){const p=v;p.date&&p.date.startsWith(c)&&(g.has(p.date)||g.set(p.date,[]),g.get(p.date).push({note:C,task:p}))}}try{const C=await le(()=>Ce.board.get({type:"shape"}),r),v=await le(()=>Ce.board.get({type:"text"}),r),p=[];for(const T of C)await T.getMetadata("appType")==="taskLink"&&p.push(T);for(const T of v)await T.getMetadata("appType")==="taskLink"&&p.push(T);for(const T of p){if(r?.aborted)throw new Error("Operation cancelled");await le(()=>Ce.board.remove(T),r)}}catch(C){console.warn("Failed to cleanup legacy links",C)}const x=await le(()=>Pt(m,b),r);for(const[C,v]of g.entries()){if(r?.aborted)throw new Error("Operation cancelled");await Us(100);const p=v.map(O=>O.task),T=await wh(C,p);for(const{note:O,task:U}of v){if(r?.aborted)throw new Error("Operation cancelled");const A=T.get(U.id);if(A){if(await le(()=>hi(O,U,d,!0),r),Math.abs(O.x-A.x)>1||Math.abs(O.y-A.y)>1)try{O.x=A.x,O.y=A.y,await le(()=>O.sync(),r)}catch(I){if(I.message&&I.message.includes("child of another board item"))try{await ks(O,r),O.x=A.x,O.y=A.y,await le(()=>O.sync(),r),x&&await le(()=>x.add(O),r)}catch(V){console.error("Failed to move task in rearrange",V)}}if(x)try{await le(()=>x.add(O),r)}catch{}}}}await Rh(c,r)}function bg(c,r,d){const u=[],[f,m]=r.split("-").map(Number),b=new Date(f,m-1,1),[S,g]=d.split("-").map(Number),x=new Date(S,g,0),C=new Date(b),v=new Date;v.setHours(0,0,0,0);const p=O=>O.getTime()<v.getTime()?!1:c.validUntil?O<=new Date(c.validUntil):!0,T=O=>{const U=O.getFullYear(),A=String(O.getMonth()+1).padStart(2,"0"),I=String(O.getDate()).padStart(2,"0");return`${U}-${A}-${I}`};if(c.frequency==="weekly"){if(!c.weekDays||c.weekDays.length===0)return[];for(;C<=x;)p(C)&&c.weekDays.includes(C.getDay())&&u.push(T(C)),C.setDate(C.getDate()+1)}else if(c.frequency==="monthly")for(C.setDate(1);C<=x;){const O=(C.getFullYear()-b.getFullYear())*12+(C.getMonth()-b.getMonth()),U=c.intervalMonths||1;if(O%U===0){const A=C.getFullYear(),I=C.getMonth();let V=null;if(c.monthDayType==="startOfMonth")V=new Date(A,I,1);else if(c.monthDayType==="endOfMonth")V=new Date(A,I+1,0);else if(c.monthDayType==="specificDay"&&c.weekNumber!==void 0&&c.dayOfWeek!==void 0){let ee=1;for(;new Date(A,I,ee).getDay()!==c.dayOfWeek;)ee++;ee+=(c.weekNumber-1)*7,ee<=new Date(A,I+1,0).getDate()&&(V=new Date(A,I,ee))}V&&V>=b&&V<=x&&p(V)&&u.push(T(V))}C.setMonth(C.getMonth()+1)}return u}async function so(c,r,d){if(!c.recurringTasks||c.recurringTasks.length===0)return;console.log("Applying recurring tasks for months:",r),d&&d("...");const u=[...r].sort(),f=u[0],m=u[u.length-1],b=await le(()=>Ce.board.get({type:"sticky_note"})),S=new Map;for(const v of b)try{const p=await v.getMetadata("task");p&&p.date&&(S.has(p.date)||S.set(p.date,[]),S.get(p.date)?.push({note:v,metadata:p}))}catch{}const g=new Set;let x=0;const C=c.recurringTasks.length;for(const v of c.recurringTasks){x++;const p=Math.round(x/C*100),T=bg(v.rule,f,m);for(const O of T){d&&d(`${p}% [${x}/${C}] ${v.template.title} (${O}) ...`);const U=new Date(O);if(await Pt(U.getFullYear(),U.getMonth())){const I=S.get(O)||[];let V=!1;for(const{metadata:ee}of I){if(ee.recurringTaskId===v.id){V=!0;break}if(ee.title===v.template.title){V=!0;break}}if(!V){const ee={...v.template,id:"",date:O,recurringTaskId:v.id};try{d&&d(`${p}% [${x}/${C}] ${v.template.title} (${O}) ...`),await fo(ee,{skipReorganize:!0}),g.add(O)}catch(L){console.error(`Failed to create recurring task for ${O}`,L)}}}}}if(g.size>0){console.log("Reorganizing affected dates:",Array.from(g)),d&&d("...");const v=await le(()=>Ce.board.get({type:"sticky_note"})),p=new Map,T=10;for(let O=0;O<v.length;O+=T){const U=v.slice(O,O+T);await Promise.all(U.map(async A=>{try{const I=await A.getMetadata("task");if(I&&I.date){const V=I,ee=V.date;ee&&(p.has(ee)||p.set(ee,[]),p.get(ee).push({note:A,task:V}))}}catch{}}))}for(const O of g){const U=p.get(O)||[];await ll(O,void 0,U)}}}const Sg=({onCreateTask:c,onEditTask:r})=>{const[d,u]=te.useState([]),[f,m]=te.useState(null),[b,S]=te.useState(!0),[g,x]=te.useState(new Set),[C,v]=te.useState("");te.useEffect(()=>{p()},[]);const p=async()=>{S(!0);const[E,J]=await Promise.all([_h(),It()]);E.sort((Z,Q)=>Z.date!==Q.date?(Z.date||"").localeCompare(Q.date||""):(Z.time?.startTime||"").localeCompare(Q.time?.startTime||"")),u(E),m(J),S(!1)},T=async()=>{c?c():(await Ce.board.ui.openModal({url:"/agile-calendar/?mode=create",width:500,height:600}),await p())},O=async E=>{r?r(E):(await Ce.board.ui.openModal({url:`/agile-calendar/?mode=edit&taskId=${E.id}`,width:500,height:600}),await p())},U=E=>{const J=new Set(g);J.has(E)?J.delete(E):J.add(E),x(J)},A=()=>{g.size===d.length?x(new Set):x(new Set(d.map(E=>E.id)))},I=async()=>{if(confirm(`${g.size}`)){S(!0);try{await vg(Array.from(g)),u(E=>E.filter(J=>!g.has(J.id))),x(new Set)}catch(E){console.error(E),alert(""),await p()}finally{S(!1)}}},V=async(E,J)=>{J.stopPropagation();let Z=E.status;if(E.status==="Draft")Z="Planned";else if(E.status==="Planned")Z="Draft";else return;const Q={...E,status:Z};u(de=>de.map(ve=>ve.id===E.id?Q:ve));try{await Rs(Q)}catch(de){console.error("Failed to update status",de),u(ve=>ve.map(ce=>ce.id===E.id?E:ce))}},ee=async()=>{if(C&&confirm(`${g.size} ${C} `)){S(!0);try{const E=[];for(const J of g){const Z=d.find(Q=>Q.id===J);Z&&E.push({...Z,date:C})}E.length>0&&(await pg(E),u(J=>J.map(Q=>{const de=E.find(ve=>ve.id===Q.id);return de||Q}).sort((Q,de)=>Q.date!==de.date?(de.date||"").localeCompare(Q.date||""):(Q.time?.startTime||"").localeCompare(de.time?.startTime||"")))),x(new Set),v("")}catch(E){console.error(E),alert(""),await p()}finally{S(!1)}}},L=E=>{if(!f)return"";const J=[];if(E.roles.pmId){const Z=f.devs.find(Q=>Q.id===E.roles.pmId);Z&&J.push(`${Z.name}(PM)`)}return E.roles.devPlan.mode==="Tracks"?J.push(`${E.roles.devPlan.assignedTrackIds?.length||0} Tracks`):E.roles.devPlan.mode==="AllDev"&&J.push("All Dev"),E.roles.designerIds?.length>0&&J.push(`${E.roles.designerIds.length} Des`),J.join(", ")};return b?s.jsx("div",{children:"Loading tasks..."}):s.jsx("div",{className:"tasks-tab",children:s.jsxs("div",{className:"tasks-list",children:[s.jsxs("div",{className:"tasks-header",children:[s.jsx("h2",{children:""}),s.jsx("button",{className:"btn btn-primary",onClick:T,children:"+ "})]}),s.jsx("div",{className:"tasks-filter-bar",children:s.jsxs("label",{className:"select-all-label",children:[s.jsx("input",{type:"checkbox",checked:d.length>0&&g.size===d.length,onChange:A}),""]})}),s.jsx("div",{className:"task-items",children:d.length===0?s.jsx("p",{className:"no-tasks",children:""}):d.map(E=>s.jsxs("div",{className:`task-item ${g.has(E.id)?"selected":""}`,onClick:()=>O(E),children:[s.jsx("div",{className:"task-checkbox",onClick:J=>J.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:g.has(E.id),onChange:()=>U(E.id)})}),s.jsxs("div",{className:"task-content-wrapper",children:[s.jsxs("div",{className:"task-main-info",children:[s.jsxs("div",{className:"task-title-row",children:[s.jsx("span",{className:"task-title",children:E.title}),E.externalLink&&s.jsx("span",{className:"task-link-icon",title:"",children:""})]}),s.jsxs("div",{className:"task-meta-row",children:[s.jsx("span",{className:`status-badge status-${E.status.toLowerCase()} clickable`,onClick:J=>V(E,J),title:" ()",children:{Draft:"",Planned:"",Done:""}[E.status]||E.status}),E.date&&s.jsx("span",{className:"task-date",children:E.date}),E.time?.startTime&&s.jsxs("span",{className:"task-time",children:[E.time.startTime,E.time.duration?` (${E.time.duration})`:""]})]})]}),s.jsx("div",{className:"task-sub-info",children:s.jsx("span",{className:"task-participants",children:L(E)})})]})]},E.id))}),s.jsxs("div",{className:"tasks-footer-actions",children:[s.jsxs("div",{className:"bulk-reschedule-group",children:[s.jsx("button",{className:"btn btn-secondary",onClick:ee,disabled:g.size===0||!C,children:""}),s.jsx("input",{type:"date",value:C,onChange:E=>v(E.target.value),className:"bulk-date-input"})]}),g.size>0&&s.jsx("button",{className:"btn btn-danger btn-sm",onClick:I,style:{marginLeft:"auto"},children:""})]})]})})},jg=({settings:c})=>{const[r,d]=te.useState(c.baseMonth),[u,f]=te.useState(!1),[m,b]=te.useState(!1),S=te.useRef(null),g=()=>{const p=[],[T,O]=r.split("-").map(Number);for(let U=0;U<c.viewSpanMonths;U++){const A=new Date(T,O-1+U,1),I=String(A.getMonth()+1).padStart(2,"0");p.push(`${A.getFullYear()}-${I}`)}return p},x=async()=>{if(r){f(!0);try{await rg(r,c),await so(c,g()),alert(`${r}`)}catch(p){console.error(p),alert("")}finally{f(!1),f(!1)}}},C=async()=>{S.current&&S.current.abort();const p=new AbortController;S.current=p,b(!0);try{await xg(r,p.signal),alert(`${r}`)}catch(T){T.message==="Operation cancelled"?(console.log("Rearrange cancelled"),alert("")):(console.error(T),alert(": "+T.message))}finally{b(!1),S.current=null}},v=()=>{S.current&&S.current.abort()};return s.jsxs("div",{className:"calendar-tab",children:[s.jsx("h2",{children:""}),s.jsx("div",{className:"section",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"15px"},children:s.jsx("input",{type:"month",value:r,onChange:p=>d(p.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px"}})}),s.jsxs("div",{className:"action-buttons",style:{display:"flex",gap:"15px",flexDirection:"column"},children:[s.jsxs("div",{className:"action-item",children:[s.jsx("button",{className:"btn btn-primary",onClick:x,disabled:u,style:{width:"100%",marginBottom:"5px"},children:u?"...":""}),s.jsxs("p",{className:"help-text",style:{margin:"0",fontSize:"0.9em",color:"#666"},children:["Miro",s.jsx("br",{}),""]})]}),s.jsxs("div",{className:"action-item",children:[m?s.jsx("button",{className:"btn btn-danger",onClick:v,style:{width:"100%",marginBottom:"5px",backgroundColor:"#dc3545",color:"white"},children:""}):s.jsx("button",{className:"btn btn-secondary",onClick:C,disabled:u,style:{width:"100%",marginBottom:"5px"},children:""}),s.jsx("p",{className:"help-text",style:{margin:"0",fontSize:"0.9em",color:"#666"},children:""})]})]})]})})]})},Tg=c=>{const r=new Map;return c.devs.forEach(d=>{r.set(d.id,new Map),c.devs.forEach(u=>{d.id!==u.id&&r.get(d.id).set(u.id,0)})}),Object.values(c.dailyTrackAssignments).forEach(d=>{Object.values(d).forEach(u=>{for(let f=0;f<u.length;f++)for(let m=f+1;m<u.length;m++){const b=u[f],S=u[m];if(r.has(b)){const g=r.get(b);g.set(S,(g.get(S)||0)+1)}if(r.has(S)){const g=r.get(S);g.set(b,(g.get(b)||0)+1)}}})}),r},Ng=(c,r,d)=>{const u=Tg(r),f=JSON.parse(JSON.stringify(d)),m=new Set;Object.entries(f).forEach(([C,v])=>{C!=="absent"&&v.forEach(p=>m.add(p))});const b=new Set(f.absent||[]),S=r.devs.filter(C=>{if(m.has(C.id)||b.has(C.id))return!1;const v=r.roles.find(O=>O.id===C.roleId);return!v||v.name!=="Dev"&&v.id!=="role-dev"?!1:!(r.personalSchedules[C.id]||[]).some(O=>O.date===c&&O.type==="fullDayOff")}),g=r.tracks.filter(C=>C.active);let x=[...S];for(const C of g){if(x.length===0)break;f[C.id]||(f[C.id]=[]);const v=f[C.id];let T=C.capacity-v.length;if(!(T<=0))for(;T>0&&x.length>0;){let O=-1;if(v.length>0){let U=1/0;const A=Array.from({length:x.length},(I,V)=>V).sort(()=>Math.random()-.5);for(const I of A){const V=x[I];let ee=0;for(const L of v)ee+=u.get(V.id)?.get(L)||0;ee<U&&(U=ee,O=I)}}else O=Math.floor(Math.random()*x.length);if(O!==-1){const U=x[O];f[C.id].push(U.id),x.splice(O,1)}T--}}return f},Mg=(c,r)=>{const d=Object.keys(r.dailyTrackAssignments).sort(),u=d.indexOf(c);let f=null;if(u>0)f=d[u-1];else{const m=d.filter(b=>b<c);m.length>0&&(f=m[m.length-1])}return f?JSON.parse(JSON.stringify(r.dailyTrackAssignments[f])):null},Dg=()=>{const c=[];for(let r=9;r<=18;r++)for(let d=0;d<60&&!(r===18&&d>0);d+=5){const u=`${r.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`;c.push(u)}return c},wg=()=>{const c=[];for(let r=5;r<=480;r+=5){const d=Math.floor(r/60),u=r%60;let f="";d>0&&(f+=`${d}`),u>0&&(f+=`${u}`),c.push({value:r,label:f})}return c},Eg=({settings:c,onSettingsUpdate:r})=>{const[d,u]=te.useState("assignment"),[f,m]=te.useState("members"),[b,S]=te.useState(new Date().toISOString().split("T")[0]),[g,x]=te.useState(null),[C,v]=te.useState(""),[p,T]=te.useState({date:new Date().toISOString().split("T")[0],type:"fullDayOff",reason:"",start:"09:00",end:"18:00"}),[O,U]=te.useState(60),[A,I]=te.useState(null),[V,ee]=te.useState(""),[L,E]=te.useState(""),[J,Z]=te.useState(null),[Q,de]=te.useState(""),[ve,ce]=te.useState(null),[ne,G]=te.useState(""),[ie,P]=te.useState("#cccccc"),M=()=>c.dailyTrackAssignments[b]||{},q=()=>c.dailyAssignmentStatus?.[b]||"unconfirmed",F=()=>{const ue=q()==="confirmed"?"unconfirmed":"confirmed";r({...c,dailyAssignmentStatus:{...c.dailyAssignmentStatus,[b]:ue}})},re=()=>{const D=M(),ue=new Set;return Object.values(D).forEach(ye=>ye.forEach(Ee=>ue.add(Ee))),ue},oe=D=>{r({...c,dailyTrackAssignments:{...c.dailyTrackAssignments,[b]:D}})},y=D=>{S(D.target.value),x(null)},w=D=>{x(g===D?null:D)},_=D=>{if(!g)return;const ue=M(),ye=JSON.parse(JSON.stringify(ue));Object.keys(ye).forEach(Ee=>{ye[Ee]=ye[Ee].filter(We=>We!==g)}),D!=="unassigned"&&(ye[D]||(ye[D]=[]),ye[D].push(g)),Object.keys(ye).forEach(Ee=>{ye[Ee].length===0&&delete ye[Ee]}),oe(ye),x(null)},W=()=>{const D=Ng(b,c,M());oe(D)},fe=()=>{confirm("")&&oe({})},he=()=>{const D=Mg(b,c);D?oe(D):alert("")},Te=(D,ue)=>{const[ye,Ee]=D.split(":").map(Number),We=ye*60+Ee+ue,ta=Math.floor(We/60),Ca=We%60;return`${ta.toString().padStart(2,"0")}:${Ca.toString().padStart(2,"0")}`},se=D=>{const ue=D.target.value,ye=Te(ue,O);T({...p,start:ue,end:ye})},me=D=>{const ue=parseInt(D.target.value,10);if(U(ue),p.start){const ye=Te(p.start,ue);T({...p,end:ye})}},we=()=>{if(!C){alert("");return}if(!p.date){alert("");return}const ue=[...c.personalSchedules[C]||[],{...p}];ue.sort((ye,Ee)=>ye.date.localeCompare(Ee.date)),r({...c,personalSchedules:{...c.personalSchedules,[C]:ue}}),T({...p,reason:""})},Se=(D,ue)=>{if(!confirm(""))return;const Ee=[...c.personalSchedules[D]||[]];Ee.splice(ue,1),r({...c,personalSchedules:{...c.personalSchedules,[D]:Ee}})},Ae=()=>{if(!ne.trim())return;const D={id:`r${Date.now()}`,name:ne,color:ie};r({...c,roles:[...c.roles||[],D]}),G(""),P("#cccccc")},at=(D,ue)=>{const ye=(c.roles||[]).map(Ee=>Ee.id===D?{...Ee,...ue}:Ee);r({...c,roles:ye}),ce(null)},dt=D=>{if(confirm("")){const ue=(c.roles||[]).filter(ye=>ye.id!==D);r({...c,roles:ue})}},xt=()=>{if(!V.trim())return;const D={id:`d${Date.now()}`,name:V,roleId:L||void 0};r({...c,devs:[...c.devs,D]}),ee("")},ea=(D,ue)=>{const ye=c.devs.map(Ee=>Ee.id===D?{...Ee,...ue}:Ee);r({...c,devs:ye}),I(null)},Ea=D=>{if(confirm("")){const ue={...c,devs:c.devs.filter(ye=>ye.id!==D)};r(ue)}},nl=()=>{if(!Q.trim())return;const D={id:`t${Date.now()}`,name:Q,role:"Dev",capacity:2,active:!0};r({...c,tracks:[...c.tracks,D]}),de("")},il=(D,ue)=>{const ye=c.tracks.map(Ee=>Ee.id===D?{...Ee,...ue}:Ee);r({...c,tracks:ye}),Z(null)},sl=D=>{const ue=c.tracks.map(ye=>ye.id===D?{...ye,active:!ye.active}:ye);r({...c,tracks:ue})},ua=(D,ue)=>{D.dataTransfer.setData("devId",ue),D.dataTransfer.effectAllowed="move"},cl=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},k=(D,ue)=>{D.preventDefault();const ye=D.dataTransfer.getData("devId");if(!ye)return;const Ee=M(),We=JSON.parse(JSON.stringify(Ee));Object.keys(We).forEach(ta=>{We[ta]=We[ta].filter(Ca=>Ca!==ye)}),ue!=="unassigned"&&(We[ue]||(We[ue]=[]),We[ue].push(ye)),Object.keys(We).forEach(ta=>{We[ta].length===0&&delete We[ta]}),oe(We),x(null)},ae=M(),xe=re(),Oe=new Set(ae.absent||[]),_e=c.devs.filter(D=>{const ue=c.roles.find(ye=>ye.id===D.roleId);return ue&&(ue.name==="Dev"||ue.id==="role-dev")}),Ne=_e.filter(D=>!xe.has(D.id)&&!Oe.has(D.id)),be=_e.filter(D=>Oe.has(D.id)),Ke=D=>{if(!D)return"";const ue=(c.roles||[]).find(ye=>ye.id===D);return ue?ue.name:""},bt=D=>{if(!D)return"transparent";const ue=(c.roles||[]).find(ye=>ye.id===D);return ue?ue.color:"transparent"},oa=Dg(),Kt=wg();return s.jsxs("div",{className:"tracks-tab",children:[s.jsxs("div",{className:"tab-navigation",children:[s.jsx("button",{className:`tab-btn ${d==="assignment"?"active":""}`,onClick:()=>u("assignment"),children:""}),s.jsx("button",{className:`tab-btn ${d==="schedule"?"active":""}`,onClick:()=>u("schedule"),children:""}),s.jsx("button",{className:`tab-btn ${d==="master"?"active":""}`,onClick:()=>u("master"),children:""})]}),s.jsxs("div",{className:"tab-content-area",children:[d==="assignment"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"assignment-header",children:[s.jsxs("div",{className:"date-selector",children:[s.jsx("label",{children:": "}),s.jsx("input",{type:"date",value:b,onChange:y})]}),s.jsxs("div",{className:"assignment-actions",children:[s.jsx("button",{className:`btn ${q()==="confirmed"?"btn-success":"btn-outline-secondary"}`,onClick:F,children:q()==="confirmed"?"":""}),s.jsx("button",{className:"btn btn-secondary",onClick:he,children:""}),s.jsx("button",{className:"btn btn-primary",onClick:W,children:""}),s.jsx("button",{className:"btn btn-danger",onClick:fe,children:""})]})]}),s.jsxs("div",{className:"assignment-container",children:[s.jsxs("div",{className:"left-column",children:[s.jsxs("div",{className:`unassigned-area drop-zone ${g&&!xe.has(g)&&!Oe.has(g)?"active-target":""}`,onClick:()=>_("unassigned"),onDragOver:cl,onDrop:D=>k(D,"unassigned"),children:[s.jsxs("h3",{children:[" (",Ne.length,")"]}),s.jsx("div",{className:"dev-list",children:Ne.map(D=>s.jsxs("div",{className:`dev-card ${g===D.id?"selected":""}`,onClick:ue=>{ue.stopPropagation(),w(D.id)},draggable:!0,onDragStart:ue=>ua(ue,D.id),style:{borderLeft:`4px solid ${bt(D.roleId)}`},children:[D.name," ",s.jsx("span",{className:"role-badge",children:Ke(D.roleId)})]},D.id))})]}),s.jsxs("div",{className:`absent-area drop-zone ${g&&Oe.has(g)?"active-target":""}`,onClick:()=>_("absent"),onDragOver:cl,onDrop:D=>k(D,"absent"),children:[s.jsxs("h3",{children:[" (",be.length,")"]}),s.jsx("div",{className:"dev-list",children:be.map(D=>s.jsx("div",{className:`dev-card absent ${g===D.id?"selected":""}`,onClick:ue=>{ue.stopPropagation(),w(D.id)},draggable:!0,onDragStart:ue=>ua(ue,D.id),children:D.name},D.id))})]})]}),s.jsx("div",{className:"right-column",children:s.jsx("div",{className:"tracks-grid",children:c.tracks.filter(D=>D.active).map(D=>{const ye=(ae[D.id]||[]).map(Ee=>c.devs.find(We=>We.id===Ee)).filter(Boolean);return s.jsxs("div",{className:`track-card drop-zone ${g?"active-target":""}`,onClick:()=>_(D.id),onDragOver:cl,onDrop:Ee=>k(Ee,D.id),children:[s.jsxs("div",{className:"track-header",children:[s.jsx("span",{className:"track-name",children:D.name}),s.jsxs("span",{className:"track-capacity",children:[ye.length," / ",D.capacity]})]}),s.jsx("div",{className:"track-members",children:ye.map(Ee=>s.jsx("div",{className:`dev-card ${g===Ee.id?"selected":""}`,onClick:We=>{We.stopPropagation(),w(Ee.id)},draggable:!0,onDragStart:We=>ua(We,Ee.id),style:{borderLeft:`4px solid ${bt(Ee.roleId)}`},children:Ee.name},Ee.id))})]},D.id)})})})]})]}),d==="schedule"&&s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"schedule-controls",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:C,onChange:D=>v(D.target.value),children:[s.jsx("option",{value:"",children:""}),c.devs.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})]}),C&&s.jsxs("div",{className:"schedule-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:":"}),s.jsx("input",{type:"date",value:p.date,onChange:D=>T({...p,date:D.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:p.type,onChange:D=>T({...p,type:D.target.value}),children:[s.jsx("option",{value:"fullDayOff",children:""}),s.jsx("option",{value:"partial",children:"/"}),s.jsx("option",{value:"nonAgileTask",children:""}),s.jsx("option",{value:"personalErrand",children:""})]})]})]}),p.type!=="fullDayOff"&&s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:":"}),s.jsx("select",{value:p.start,onChange:se,children:oa.map(D=>s.jsx("option",{value:D,children:D},D))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:":"}),s.jsx("select",{value:O,onChange:me,children:Kt.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"/:"}),s.jsx("input",{type:"text",value:p.reason,onChange:D=>T({...p,reason:D.target.value}),placeholder:": "})]}),s.jsx("button",{className:"btn btn-primary",onClick:we,children:""})]})]}),C&&s.jsxs("div",{className:"schedule-list",children:[s.jsxs("h3",{children:[c.devs.find(D=>D.id===C)?.name,""]}),(c.personalSchedules[C]||[]).length===0?s.jsx("p",{className:"no-items",children:""}):s.jsxs("table",{className:"schedule-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:(c.personalSchedules[C]||[]).map((D,ue)=>s.jsxs("tr",{children:[s.jsx("td",{children:D.date}),s.jsx("td",{children:s.jsx("span",{className:`badge ${D.type==="fullDayOff"?"badge-danger":D.type==="nonAgileTask"?"badge-info":D.type==="personalErrand"?"badge-secondary":"badge-warning"}`,children:D.type==="fullDayOff"?"":D.type==="nonAgileTask"?"":D.type==="personalErrand"?"":""})}),s.jsx("td",{children:D.type!=="fullDayOff"?`${D.start} - ${D.end}`:"-"}),s.jsx("td",{children:D.reason}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>Se(C,ue),children:""})})]},ue))})]})]})]}),d==="master"&&s.jsxs("div",{className:"master-settings",children:[s.jsxs("div",{className:"sub-tabs",children:[s.jsx("button",{className:`sub-tab-btn ${f==="members"?"active":""}`,onClick:()=>m("members"),children:""}),s.jsx("button",{className:`sub-tab-btn ${f==="roles"?"active":""}`,onClick:()=>m("roles"),children:""}),s.jsx("button",{className:`sub-tab-btn ${f==="tracks"?"active":""}`,onClick:()=>m("tracks"),children:""})]}),f==="members"&&s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"add-item",children:[s.jsx("input",{type:"text",value:V,onChange:D=>ee(D.target.value),placeholder:""}),s.jsxs("select",{value:L,onChange:D=>E(D.target.value),children:[s.jsx("option",{value:"",children:"..."}),(c.roles||[]).map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]}),s.jsx("button",{className:"btn btn-primary",onClick:xt,children:""})]}),s.jsx("div",{className:"items-list",children:c.devs.map(D=>s.jsx("div",{className:"item",children:A?.id===D.id?s.jsxs("div",{className:"edit-item",children:[s.jsx("input",{type:"text",value:A.name,onChange:ue=>I({...A,name:ue.target.value})}),s.jsxs("select",{value:A.roleId||"",onChange:ue=>I({...A,roleId:ue.target.value}),children:[s.jsx("option",{value:"",children:""}),(c.roles||[]).map(ue=>s.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ea(D.id,{name:A.name,roleId:A.roleId}),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>I(null),children:""})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"item-name",children:[D.name,s.jsx("span",{className:"role-badge",style:{backgroundColor:bt(D.roleId)},children:Ke(D.roleId)})]}),s.jsxs("div",{className:"item-actions",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>I(D),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>Ea(D.id),children:""})]})]})},D.id))})]}),f==="roles"&&s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"add-item",children:[s.jsx("input",{type:"text",value:ne,onChange:D=>G(D.target.value),placeholder:" (: PM, Designer)"}),s.jsx("input",{type:"color",value:ie,onChange:D=>P(D.target.value)}),s.jsx("button",{className:"btn btn-primary",onClick:Ae,children:""})]}),s.jsx("div",{className:"items-list",children:(c.roles||[]).map(D=>s.jsx("div",{className:"item",children:ve?.id===D.id?s.jsxs("div",{className:"edit-item",children:[s.jsx("input",{type:"text",value:ve.name,onChange:ue=>ce({...ve,name:ue.target.value})}),s.jsx("input",{type:"color",value:ve.color,onChange:ue=>ce({...ve,color:ue.target.value})}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>at(D.id,{name:ve.name,color:ve.color}),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>ce(null),children:""})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"item-name",children:[s.jsx("span",{className:"color-dot",style:{backgroundColor:D.color}}),D.name]}),s.jsxs("div",{className:"item-actions",children:[D.id!=="role-pm"&&D.id!=="role-dev"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>ce(D),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>dt(D.id),children:""})]}),(D.id==="role-pm"||D.id==="role-dev")&&s.jsx("span",{className:"fixed-role-label",children:""})]})]})},D.id))})]}),f==="tracks"&&s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"add-item",children:[s.jsx("input",{type:"text",value:Q,onChange:D=>de(D.target.value),placeholder:""}),s.jsx("button",{className:"btn btn-primary",onClick:nl,children:""})]}),s.jsx("div",{className:"items-list",children:c.tracks.map(D=>s.jsx("div",{className:`item ${D.active?"":"inactive"}`,children:J?.id===D.id?s.jsxs("div",{className:"edit-item",children:[s.jsx("input",{type:"text",value:J.name,onChange:ue=>Z({...J,name:ue.target.value})}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>il(D.id,{name:J.name}),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>Z(null),children:""})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"track-info",children:[s.jsx("span",{className:"item-name",children:D.name}),s.jsx("span",{className:"track-meta",children:D.active?"":""})]}),s.jsxs("div",{className:"item-actions",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>Z(D),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>sl(D.id),children:D.active?"":""})]})]})},D.id))})]})]})]})]})},Cg=({settings:c,onSettingsUpdate:r})=>{const[d,u]=te.useState(""),[f,m]=te.useState(null),b=()=>{if(!d.trim())return;const p={id:`team${Date.now()}`,name:d},T={...c,externalTeams:[...c.externalTeams,p]};r(T),u("")},S=(p,T)=>{const O=c.externalTeams.map(U=>U.id===p?{...U,name:T}:U);r({...c,externalTeams:O}),m(null)},g=p=>{if(confirm("")){const T={...c,externalTeams:c.externalTeams.filter(O=>O.id!==p)};r(T)}},x=p=>{r({...c,baseMonth:p})},C=()=>{const p=document.getElementById("new-holiday-date"),T=document.getElementById("new-holiday-reason");if(!p.value)return;const O={date:p.value,reason:T.value||""};r({...c,projectHolidays:[...c.projectHolidays||[],O].sort((U,A)=>U.date.localeCompare(A.date))})},v=p=>{const T=[...c.projectHolidays||[]];T.splice(p,1),r({...c,projectHolidays:T})};return s.jsxs("div",{className:"settings-tab",children:[s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"month",value:c.baseMonth,onChange:p=>x(p.target.value)}),s.jsx("p",{className:"help-text",children:"3"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:c.viewSpanMonths,readOnly:!0,disabled:!0}),s.jsx("p",{className:"help-text",children:"3-1+1"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("div",{className:"holiday-input-group",children:[s.jsx("input",{type:"date",id:"new-holiday-date"}),s.jsx("input",{type:"text",id:"new-holiday-reason",placeholder:" (: )"}),s.jsx("button",{className:"btn btn-sm btn-primary",onClick:C,children:""})]}),s.jsx("div",{className:"holiday-list",children:(c.projectHolidays||[]).length===0?s.jsx("p",{className:"no-data",children:""}):s.jsx("ul",{children:c.projectHolidays.map((p,T)=>s.jsxs("li",{children:[s.jsx("span",{className:"holiday-date",children:p.date}),s.jsx("span",{className:"holiday-reason",children:p.reason}),s.jsx("button",{className:"btn-icon-sm",onClick:()=>v(T),children:""})]},T))})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("div",{className:"time-range-inputs",children:[s.jsx("input",{type:"time",value:c.breakTime?.startTime||"12:30",onChange:p=>r({...c,breakTime:{startTime:p.target.value,duration:c.breakTime?.duration||60}})}),s.jsx("span",{children:""}),s.jsx("input",{type:"number",min:"0",step:"5",value:c.breakTime?.duration||60,onChange:p=>r({...c,breakTime:{startTime:c.breakTime?.startTime||"12:30",duration:parseInt(p.target.value)||0}}),style:{width:"60px"}}),s.jsx("span",{children:""})]})]})]}),s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"add-item",children:[s.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),placeholder:"A",onKeyPress:p=>p.key==="Enter"&&b()}),s.jsx("button",{className:"btn btn-primary",onClick:b,children:""})]}),s.jsx("div",{className:"items-list",children:c.externalTeams.length===0?s.jsx("p",{className:"no-items",children:""}):c.externalTeams.map(p=>s.jsx("div",{className:"item",children:f?.id===p.id?s.jsxs("div",{className:"edit-item",children:[s.jsx("input",{type:"text",value:f.name,onChange:T=>m({...f,name:T.target.value}),autoFocus:!0}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>S(p.id,f.name),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>m(null),children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"item-name",children:p.name}),s.jsxs("div",{className:"item-actions",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>m(p),children:""}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(p.id),children:""})]})]})},p.id))})]}),s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:" LLMAI"}),s.jsx("p",{className:"help-text",children:" LLM "}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"LLM "}),s.jsxs("select",{value:c.llmConfig?.provider||"ollama",onChange:p=>{const T=p.target.value;r({...c,llmConfig:{...c.llmConfig||{endpoint:"http://localhost:11434/api/generate",model:"llama3",temperature:.7,maxTokens:2e3},provider:T}})},children:[s.jsx("option",{value:"ollama",children:"Ollama"}),s.jsx("option",{value:"openai",disabled:!0,children:"OpenAI"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"URL"}),s.jsx("input",{type:"text",value:c.llmConfig?.endpoint||"http://localhost:11434/api/generate",onChange:p=>{r({...c,llmConfig:{...c.llmConfig||{provider:"ollama",model:"llama3",temperature:.7,maxTokens:2e3},endpoint:p.target.value}})},placeholder:"http://localhost:11434/api/generate"}),s.jsx("p",{className:"help-text",children:"Ollama : http://localhost:11434/api/generate"}),c.llmConfig?.endpoint?.includes("localhost")&&window.location.protocol==="https:"&&s.jsxs("div",{className:"warning-box",style:{marginTop:"8px",padding:"8px",backgroundColor:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px",color:"#856404",fontSize:"0.9em"},children:[s.jsx("strong",{children:" :"})," HTTPS  localhost ",s.jsx("br",{}),s.jsx("a",{href:"https://github.com/ollama/ollama/blob/main/docs/faq.md#how-do-i-configure-ollama-server",target:"_blank",rel:"noopener noreferrer",style:{color:"#856404",textDecoration:"underline"},children:"Ollama  CORS "}),""]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:c.llmConfig?.model||"llama3",onChange:p=>{r({...c,llmConfig:{...c.llmConfig||{provider:"ollama",endpoint:"http://localhost:11434/api/generate",temperature:.7,maxTokens:2e3},model:p.target.value}})},placeholder:"llama3, qwen2.5, deepseek-r1 "}),s.jsx("p",{className:"help-text",children:": llama3, qwen2.5, deepseek-r1 "})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Temperature"}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:c.llmConfig?.temperature||.7,onChange:p=>{r({...c,llmConfig:{...c.llmConfig||{provider:"ollama",endpoint:"http://localhost:11434/api/generate",model:"llama3",maxTokens:2e3},temperature:parseFloat(p.target.value)}})}}),s.jsx("p",{className:"help-text",children:"0.0  2.0"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",step:"100",min:"500",max:"32000",value:c.llmConfig?.maxTokens||2e3,onChange:p=>{r({...c,llmConfig:{...c.llmConfig||{provider:"ollama",endpoint:"http://localhost:11434/api/generate",model:"llama3",temperature:.7},maxTokens:parseInt(p.target.value)}})}}),s.jsx("p",{className:"help-text",children:"500  32000"})]})]}),s.jsxs("div",{className:"section",children:[s.jsx("h2",{children:""}),s.jsxs("ul",{className:"info-list",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"Miro"}),s.jsx("li",{children:""}),s.jsx("li",{children:"LLMAI"})]})]}),s.jsxs("div",{className:"section stats",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-value",children:c.devs.length}),s.jsx("div",{className:"stat-label",children:""})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-value",children:c.tracks.filter(p=>p.active).length}),s.jsx("div",{className:"stat-label",children:""})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("div",{className:"stat-value",children:c.externalTeams.length}),s.jsx("div",{className:"stat-label",children:""})]})]})]})]})},Ag=({date:c,tasks:r,settings:d,selectedTaskId:u,onSlotClick:f,onEventClick:m,onHeaderClick:b,columnGroups:S})=>{const g=ri-sa,[x,C]=ui.useState(null),[v,p]=ui.useState(null),[T,O]=ui.useState(null);let U=[];const A=d.devs.filter(y=>y.roleId==="role-pm"),I=d.roles.find(y=>y.name.toLowerCase()==="designer"||y.name===""),V=I?d.devs.filter(y=>y.roleId===I.id):[],ee=d.devs.filter(y=>!A.includes(y)&&!V.includes(y));S?S.forEach(y=>{y.devIds.forEach(w=>{U.push({devId:w,groupId:y.id})})}):[...A,...V,...ee].forEach(y=>{U.push({devId:y.id})});const L=U.map(y=>d.devs.find(w=>w.id===y.devId)).filter(Boolean),E=u?r.find(y=>y.id===u):null,J=new Set,Z=new Set;if(E){if(E.roles.pmId&&J.add(E.roles.pmId),E.roles.designerIds?.forEach(y=>J.add(y)),E.roles.devPlan.mode==="AllDev")ee.forEach(y=>J.add(y.id));else if(E.roles.devPlan.mode==="Tracks"){const y=E.roles.devPlan.assignedTrackIds||[],w=E.roles.devPlan.requiredTrackCount||0;if(y.length>=w&&w>0){const _=d.dailyTrackAssignments[c]||{};y.forEach(W=>{(_[W]||[]).forEach(he=>J.add(he))})}else ee.forEach(_=>J.add(_.id))}}const Q=[];for(let y=sa;y<=ri;y+=60)Q.push(ca(y));const ve=L.flatMap(y=>oi(c,y.id,r,d)).map(y=>({start:y.start,end:y.end})).sort((y,w)=>y.start-w.start),ce=[];if(ve.length>0){let y=ve[0];for(let w=1;w<ve.length;w++){const _=ve[w];_.start<y.end?y.end=Math.max(y.end,_.end):(ce.push(y),y=_)}ce.push(y)}const ne=d.breakTime?al(d.breakTime.startTime):al("12:30"),G=d.breakTime?d.breakTime.duration:60,ie=ne+G,P=Math.max(0,ne-sa),M=Math.min(G,g-P),q=ui.useMemo(()=>{if(!E||x===null||!v)return"valid";const y=x+sa,w=E.time?.duration||30,_=y+w;for(const W of J)if(oi(c,W,r,d).some(Te=>Te.id===E.id?!1:Te.start<_&&Te.end>y))return"invalid";return y<ie&&_>ne?"warning":"valid"},[E,x,v,J,r,d,c,ne,ie]),F=y=>{if(!u){C(null);return}if(E&&(E.constraints?.timeLocked||E.externalParticipants?.some(he=>he.timeFixed))){C(null);return}const w=y.currentTarget.getBoundingClientRect(),_=y.clientY-w.top,W=Math.floor(_/5)*5,fe=W+sa;fe>=sa&&fe<=ri&&(C(W),p(ca(fe)))},re=()=>{C(null),p(null)},oe=()=>{if(u&&f&&v&&E){if(E.constraints?.timeLocked||E.externalParticipants?.some(Te=>Te.timeFixed))return;const[y,w]=v.split(":").map(Number),_=y*60+w,W=E.time?.duration||30,fe=_+W;let he=!1;for(const Te of J){const se=oi(c,Te,r,d);for(const me of se)if(me.id!==u&&_<me.end&&fe>me.start){he=!0;break}if(he)break}if(he)return;f(v)}};return s.jsxs("div",{className:"timetable-container",children:[s.jsxs("div",{className:"timetable-header-wrapper",children:[S&&s.jsxs("div",{className:"timetable-group-header",children:[s.jsx("div",{className:"time-column-header"}),s.jsx("div",{className:"summary-column-header"}),S.map(y=>s.jsx("div",{className:"group-header-cell",style:{width:`${y.devIds.length*70}px`,flex:"none",backgroundColor:y.backgroundColor},onClick:y.onHeaderClick,children:y.title},y.id))]}),s.jsxs("div",{className:"timetable-header",children:[s.jsx("div",{className:"time-column-header"}),s.jsx("div",{className:"summary-column-header"}),U.map((y,w)=>{const _=d.devs.find(fe=>fe.id===y.devId);if(!_)return null;let W="dev-column-header";return J.has(_.id)?W+=" header-highlight-confirmed":Z.has(_.id)&&(W+=" header-highlight-candidate"),s.jsxs("div",{className:W,onClick:()=>b&&b(_.id),style:{cursor:b?"pointer":"default"},children:[s.jsx("div",{className:"dev-name",children:_.name}),s.jsx("div",{className:"dev-role",children:d.roles.find(fe=>fe.id===_.roleId)?.name||"Dev"})]},`${_.id}-${w}`)})]})]}),s.jsxs("div",{className:"timetable-body",onMouseMove:F,onMouseLeave:re,onClick:oe,style:{cursor:u?"pointer":"default"},children:[u&&x!==null&&E&&s.jsx("div",{className:`hover-guide ${q}`,style:{top:`${x}px`,height:`${E.time?.duration||30}px`},children:s.jsx("div",{className:"hover-time-label",children:v})}),s.jsx("div",{className:"break-time-layer",style:{top:`${P}px`,height:`${M}px`}}),s.jsx("div",{className:"time-column",children:Q.map(y=>s.jsx("div",{className:"time-label",style:{height:"60px"},children:s.jsx("span",{children:y})},y))}),s.jsxs("div",{className:"summary-column",children:[Q.map((y,w)=>s.jsx("div",{className:"grid-cell",style:{height:"60px"}},w)),ce.map((y,w)=>{const _=Math.max(0,y.start-sa),W=Math.min(y.end-y.start,g-_);return s.jsx("div",{className:"summary-block",style:{top:`${_}px`,height:`${W}px`}},w)})]}),L.map(y=>{const w=oi(c,y.id,r,d);return s.jsxs("div",{className:"dev-column",children:[Q.map((_,W)=>s.jsx("div",{className:"grid-cell",style:{height:"60px"}},W)),w.map(_=>{const W=Math.max(0,_.start-sa),fe=Math.min(_.end-_.start,g-W),he=W,Te=fe;return s.jsx("div",{className:`event-block type-${_.type} ${_.id===u?"selected-event":""}`,style:{top:`${he}px`,height:`${Te}px`,backgroundColor:_.color},title:u?`${_.title} (${ca(_.start)} - ${ca(_.end)})`:"",onClick:se=>{se.stopPropagation(),_.type==="task"&&m&&m(_.id)},onMouseEnter:se=>{if(u)return;const me=se.currentTarget.getBoundingClientRect(),we=me.right+10,Se=me.top;if(_.type==="task"){const Ae=r.find(at=>at.id===_.id);Ae&&O({x:we,y:Se,content:s.jsxs("div",{className:"task-tooltip-content",children:[s.jsx("div",{className:"tooltip-title",children:Ae.title}),s.jsx("div",{className:"tooltip-summary",children:Ae.summary}),s.jsxs("div",{className:"tooltip-time",children:[ca(_.start)," - ",ca(_.end)]}),s.jsxs("div",{className:"tooltip-status",children:[": ",{Draft:"",Planned:"",Scheduled:"",Done:"",Canceled:""}[Ae.status]||Ae.status]})]})})}else(_.type==="personal"||_.type==="off")&&O({x:we,y:Se,content:s.jsxs("div",{className:"task-tooltip-content",children:[s.jsx("div",{className:"tooltip-title",children:_.devName}),_.description&&s.jsx("div",{className:"tooltip-summary",children:_.description}),s.jsxs("div",{className:"tooltip-time",children:[ca(_.start)," - ",ca(_.end)]})]})})},onMouseLeave:()=>O(null),children:s.jsx("div",{className:"event-title",children:_.title})},_.id)})]},y.id)})]}),T&&!u&&s.jsx("div",{className:"task-tooltip",style:{position:"fixed",left:T.x,top:T.y,zIndex:1e3},children:T.content}),u&&v&&s.jsxs("div",{className:"timetable-status-bar",children:[": ",v]})]})},Og=()=>{const c=[];for(let r=9;r<=18;r++)for(let d=0;d<60&&!(r===18&&d>0);d+=5){const u=`${r.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`;c.push(u)}return c},zg=()=>{const c=[];for(let r=5;r<=480;r+=5){const d=Math.floor(r/60),u=r%60;let f="";d>0&&(f+=`${d}`),u>0&&(f+=`${u}`),c.push({value:r,label:f})}return c},_g=({settings:c,onSettingsUpdate:r,onEditTask:d,currentDate:u,onDateChange:f})=>{const[m,b]=te.useState([]),[S,g]=te.useState(!0),[x,C]=te.useState("..."),[v,p]=te.useState(new Date().toISOString().split("T")[0]),T=u||v,O=k=>{f?f(k):p(k)},[U]=te.useState("day"),[A,I]=te.useState(null),V=te.useRef(null),ee=te.useRef(new Map),[L,E]=te.useState(!1),[J,Z]=te.useState(""),[Q,de]=te.useState({date:"",type:"partial",reason:"",start:"09:00",end:"10:00"}),[ve,ce]=te.useState(!1),[ne,G]=te.useState({title:"",pmId:"",devMode:"NoDev",requiredTrackCount:0,externalTeamId:"",startTime:"",duration:30}),ie=te.useRef(null);te.useEffect(()=>{ve&&ie.current&&ie.current.focus()},[ve]),te.useEffect(()=>{P()},[]),te.useEffect(()=>{const k=ae=>{if(ae.key==="Escape"){I(null);return}if(!A)return;if(ae.key==="Delete"){const Ke=m.find(bt=>bt.id===A);Ke&&confirm(`${Ke.title}`)&&w(A);return}const xe=m.find(Ke=>Ke.id===A);if(!xe||!xe.time?.startTime||xe.externalParticipants?.some(Ke=>Ke.timeFixed)||xe.constraints?.timeLocked)return;const Oe=al(xe.time.startTime),_e=xe.time.duration||30,Ne=ae.key==="ArrowUp"?-5:ae.key==="ArrowDown"?5:0;if(Ne===0)return;ae.preventDefault();const be=Oe+Ne;be>=sa&&be<=ri-_e&&y(A,{startTime:ca(be)})};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[A,m,c,T]);const P=async(k=!1)=>{k||(C("..."),g(!0));const ae=await _h();b(ae),k||g(!1)},M=()=>T?m.filter(ae=>ae.date?ae.date===T:!1).sort((ae,xe)=>{const Oe=ae.time?.startTime,_e=xe.time?.startTime;return Oe&&_e?Oe.localeCompare(_e):Oe?-1:_e?1:0}):m,q=k=>{const ae=new Date(T);ae.setDate(ae.getDate()+k),O(ae.toISOString().split("T")[0])},F=async(k,ae)=>{const xe=m.find(_e=>_e.id===k);if(!xe)return;const Oe={...xe,...ae};b(_e=>_e.map(Ne=>Ne.id===k?Oe:Ne)),ee.current.set(k,Oe),V.current&&clearTimeout(V.current),V.current=setTimeout(async()=>{const _e=Array.from(ee.current.values());ee.current.clear();for(const Ne of _e)try{await Rs(Ne,c)}catch(be){console.error("Failed to update task",be),P()}},500)},re=async(k,ae)=>{const xe=m.find(_e=>_e.id===k);if(!xe)return;const Oe={...xe,roles:{...xe.roles,...ae}};F(k,{roles:Oe.roles})},oe=async(k,ae)=>{const xe=m.find(_e=>_e.id===k);if(!xe)return;const Oe={...xe,roles:{...xe.roles,devPlan:{...xe.roles.devPlan,...ae}}};F(k,{roles:Oe.roles})},y=async(k,ae)=>{const xe=m.find(_e=>_e.id===k);if(!xe)return;const Oe={...xe,time:{...xe.time,...ae}};F(k,{time:Oe.time})},w=async k=>{b(m.filter(ae=>ae.id!==k)),I(null);try{await kh(k)}catch(ae){console.error("Failed to delete task",ae),P()}},_=k=>{if(!A)return;const ae=m.find(xe=>xe.id===A);ae?.externalParticipants?.some(xe=>xe.timeFixed)||ae?.constraints?.timeLocked||y(A,{startTime:k})},W=k=>{if(!k.date||!k.time?.startTime||!k.time?.duration)return!1;const ae=al(k.time.startTime),xe=ae+k.time.duration;for(const Oe of c.devs){const _e=oi(k.date,Oe.id,m,c);if(_e.some(be=>be.id===k.id)){for(const be of _e)if(be.id!==k.id&&ae<be.end&&xe>be.start)return!0}}return!1},fe=k=>{if(!A)return;const ae=m.find(be=>be.id===A);if(!ae)return;const xe=c.devs.find(be=>be.id===k);if(!xe)return;const Oe=c.roles.find(be=>be.id===xe.roleId);if(!Oe)return;const _e=Oe.id==="role-pm",Ne=Oe.name.toLowerCase()==="designer"||Oe.name==="";if(_e){const be=ae.roles.pmId===k?void 0:k;re(ae.id,{pmId:be})}else if(Ne){const be=ae.roles.designerIds||[];let Ke;be.includes(k)?Ke=be.filter(bt=>bt!==k):Ke=[...be,k],re(ae.id,{designerIds:Ke})}},he=k=>{if(!A)return;const ae=m.find(Ne=>Ne.id===A);if(!ae||ae.roles.devPlan.mode!=="Tracks")return;const xe=ae.roles.devPlan.assignedTrackIds||[],Oe=ae.roles.devPlan.requiredTrackCount||0;let _e;if(xe.includes(k))_e=xe.filter(Ne=>Ne!==k);else if(xe.length<Oe)_e=[...xe,k];else return;oe(ae.id,{assignedTrackIds:_e})},Te=()=>{ce(!ve),E(!1),ve||G({title:"",pmId:"",devMode:"NoDev",requiredTrackCount:0,externalTeamId:"",startTime:"",duration:30})},se=async()=>{if(!ne.title){alert("");return}const k={id:`task-${Date.now()}`,title:ne.title,summary:"",status:"Draft",date:T,roles:{pmId:ne.pmId||void 0,designerIds:[],devPlan:{phase:"Draft",mode:ne.devMode,requiredTrackCount:ne.requiredTrackCount,assignedTrackIds:[]}},externalParticipants:ne.externalTeamId?[{teamId:ne.externalTeamId,required:!0,timeFixed:!1}]:[],constraints:{timeLocked:!1,rolesLocked:!1,externalFixed:!1},time:{startTime:ne.startTime||void 0,duration:ne.duration}};b([...m,k]);const ae=await fo(k);await P(!0),ce(!1),I(ae.id)},me=async()=>{if(!J)return;const ae=[...c.personalSchedules[J]||[],{...Q,date:T}],xe={...c,personalSchedules:{...c.personalSchedules,[J]:ae}};r(xe),E(!1),de({...Q,reason:""});try{const Oe=T.substring(0,7);await Rh(Oe)}catch(Oe){console.error("Failed to update calendar personal schedules",Oe)}},we=M(),Se=Og(),Ae=zg(),at=c.dailyAssignmentStatus?.[T]==="confirmed";let dt;if(at){const k=c.dailyTrackAssignments[T]||{},ae=c.tracks.filter(be=>be.active),xe=c.devs.filter(be=>be.roleId==="role-pm"),Oe=c.roles.find(be=>be.name.toLowerCase()==="designer"||be.name===""),_e=Oe?c.devs.filter(be=>be.roleId===Oe.id):[];dt=[],xe.length>0&&dt.push({id:"pm",title:"",devIds:xe.map(be=>be.id)}),_e.length>0&&dt.push({id:"designer",title:"",devIds:_e.map(be=>be.id)});const Ne=A?m.find(be=>be.id===A):null;ae.forEach(be=>{const Ke=k[be.id]||[];if(Ke.length>0){let bt;if(Ne&&Ne.roles.devPlan.mode==="Tracks"){const oa=Ne.roles.devPlan.assignedTrackIds||[],Kt=Ne.roles.devPlan.requiredTrackCount||0;oa.includes(be.id)?bt="#ffb74d":oa.length<Kt?bt="#fff59d":bt="#ffffff"}dt.push({id:be.id,title:be.name,devIds:Ke,onHeaderClick:()=>he(be.id),backgroundColor:bt})}})}const[xt,ea]=te.useState(new Set),[Ea,nl]=te.useState(""),il=k=>{const ae=new Set(xt);ae.has(k)?ae.delete(k):ae.add(k),ea(ae)},sl=()=>{xt.size===we.length?ea(new Set):ea(new Set(we.map(k=>k.id)))},ua=async()=>{if(xt.size!==0){if(!Ea){alert("");return}if(confirm(`${xt.size} ${Ea} `)){C("..."),g(!0);try{const k=m.filter(ae=>xt.has(ae.id));for(const ae of k)await Rs({...ae,date:Ea});await P(),ea(new Set),nl(""),alert("")}catch(k){console.error(k),alert("")}finally{g(!1)}}}},cl=async k=>{let ae=k.status;if(k.status==="Draft")ae="Planned";else if(k.status==="Planned")ae="Draft";else return;await F(k.id,{status:ae})};return S?s.jsx("div",{style:{padding:"20px",textAlign:"center"},children:x}):s.jsxs("div",{className:"standup-tab",children:[s.jsxs("div",{className:"standup-header",children:[s.jsx("h2",{children:""}),s.jsxs("div",{className:"filters",children:[s.jsx("button",{className:"btn-icon",onClick:()=>q(-1),children:""}),s.jsx("input",{type:"date",value:T,onChange:k=>O(k.target.value)}),s.jsx("button",{className:"btn-icon",onClick:()=>q(1),children:""})]}),s.jsx("div",{className:"header-actions",children:!A&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-primary",onClick:Te,children:""}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>{de({...Q,date:T}),E(!L),ce(!1)},children:""})]})})]}),xt.size>0&&s.jsxs("div",{className:"bulk-actions",style:{padding:"10px",background:"#f0f0f0",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},children:[s.jsxs("span",{children:[xt.size,""]}),s.jsx("input",{type:"date",value:Ea,onChange:k=>nl(k.target.value)}),s.jsx("button",{onClick:ua,children:""})]}),ve&&s.jsx("div",{className:"schedule-quick-form",children:s.jsxs("div",{className:"form-row",children:[s.jsx("input",{ref:ie,type:"text",placeholder:"",value:ne.title,onChange:k=>G({...ne,title:k.target.value}),className:"compact-input",style:{width:"200px"}}),s.jsxs("select",{value:ne.pmId,onChange:k=>G({...ne,pmId:k.target.value}),className:"compact-select",children:[s.jsx("option",{value:"",children:"PM..."}),c.devs.filter(k=>k.roleId==="role-pm").map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]}),s.jsxs("select",{value:`${ne.devMode}:${ne.devMode==="Tracks"?ne.requiredTrackCount:0}`,onChange:k=>{const[ae,xe]=k.target.value.split(":");G({...ne,devMode:ae,requiredTrackCount:parseInt(xe)})},className:"compact-select",children:[s.jsx("option",{value:"NoDev:0",children:"Dev"}),c.tracks.slice(0,-1).map((k,ae)=>{const xe=ae+1;return s.jsxs("option",{value:`Tracks:${xe}`,children:[xe," Track",xe>1?"s":""]},xe)}),s.jsx("option",{value:"AllDev:0",children:""})]}),s.jsxs("select",{value:ne.externalTeamId,onChange:k=>G({...ne,externalTeamId:k.target.value}),className:"compact-select",children:[s.jsx("option",{value:"",children:"..."}),c.externalTeams.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]}),s.jsxs("select",{value:ne.startTime,onChange:k=>G({...ne,startTime:k.target.value}),className:"compact-select",children:[s.jsx("option",{value:"",children:"..."}),Se.map(k=>s.jsx("option",{value:k,children:k},k))]}),s.jsx("select",{value:ne.duration,onChange:k=>G({...ne,duration:parseInt(k.target.value)}),className:"compact-select",children:Ae.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsx("button",{className:"btn btn-sm btn-primary",onClick:se,children:""})]})}),L&&s.jsx("div",{className:"schedule-quick-form",children:s.jsxs("div",{className:"form-row",children:[s.jsxs("select",{value:J,onChange:k=>Z(k.target.value),className:"compact-select",children:[s.jsx("option",{value:"",children:"..."}),c.devs.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]}),s.jsxs("select",{value:Q.type,onChange:k=>de({...Q,type:k.target.value}),className:"compact-select",children:[s.jsx("option",{value:"fullDayOff",children:""}),s.jsx("option",{value:"partial",children:"/"}),s.jsx("option",{value:"nonAgileTask",children:""}),s.jsx("option",{value:"personalErrand",children:""})]}),Q.type!=="fullDayOff"&&s.jsxs(s.Fragment,{children:[s.jsx("select",{value:Q.start,onChange:k=>{const ae=k.target.value;let xe=Q.end;if(Q.start&&Q.end){const[Oe,_e]=Q.start.split(":").map(Number),[Ne,be]=Q.end.split(":").map(Number),Ke=Oe*60+_e,oa=Ne*60+be-Ke;if(oa>0){const[Kt,D]=ae.split(":").map(Number),ye=Kt*60+D+oa,Ee=Math.floor(ye/60),We=ye%60;xe=`${String(Ee).padStart(2,"0")}:${String(We).padStart(2,"0")}`}}de({...Q,start:ae,end:xe})},className:"compact-select",children:Se.map(k=>s.jsx("option",{value:k,children:k},k))}),s.jsx("span",{children:"~"}),s.jsx("select",{value:Q.end,onChange:k=>de({...Q,end:k.target.value}),className:"compact-select",children:Se.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsx("input",{type:"text",placeholder:"",value:Q.reason,onChange:k=>de({...Q,reason:k.target.value}),className:"compact-input"}),s.jsx("button",{className:"btn btn-sm btn-primary",onClick:me,disabled:!J,children:""})]})}),s.jsxs("div",{className:"standup-content",children:[s.jsxs("div",{className:"left-panel",style:{display:"flex",flexDirection:"column",flex:1,minWidth:0},children:[s.jsx("div",{className:"tasks-table-container",style:{flex:1,overflowY:"auto"},children:s.jsxs("table",{className:"standup-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:{width:"30px"},children:s.jsx("input",{type:"checkbox",checked:xt.size===we.length&&we.length>0,onChange:sl})}),s.jsx("th",{children:""}),s.jsx("th",{children:"PM"}),s.jsx("th",{children:"Dev"}),s.jsx("th",{children:""}),s.jsx("th",{children:""}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:we.map(k=>{const ae=A===k.id,xe=W(k),Oe=xt.has(k.id),_e=k.constraints?.timeLocked||k.externalParticipants?.some(Ne=>Ne.timeFixed);return s.jsxs("tr",{className:`task-row ${ae?"selected":""} ${xe?"has-conflict":""}`,onClick:()=>I(ae?null:k.id),children:[s.jsx("td",{onClick:Ne=>Ne.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:Oe,onChange:()=>il(k.id)})}),s.jsx("td",{children:s.jsxs("span",{style:{padding:"5px",display:"flex",alignItems:"center",gap:"5px"},children:[_e&&s.jsx("span",{title:"",children:""}),k.title]})}),s.jsx("td",{children:s.jsx("input",{type:"checkbox",checked:!!k.roles.pmId,onChange:Ne=>{const be=c.devs.find(Ke=>Ke.roleId==="role-pm");re(k.id,{pmId:Ne.target.checked?be?.id:void 0})}})}),s.jsx("td",{children:s.jsx("div",{className:"dev-cell",children:s.jsxs("select",{value:`${k.roles.devPlan.mode}:${k.roles.devPlan.mode==="Tracks"?k.roles.devPlan.requiredTrackCount:0}`,onChange:Ne=>{const[be,Ke]=Ne.target.value.split(":");oe(k.id,{mode:be,requiredTrackCount:parseInt(Ke)})},children:[s.jsx("option",{value:"NoDev:0",children:""}),s.jsx("option",{value:"Tracks:1",children:"1 Track"}),s.jsx("option",{value:"Tracks:2",children:"2 Tracks"}),s.jsx("option",{value:"AllDev:0",children:""})]})})}),s.jsx("td",{children:s.jsx("span",{style:{fontSize:"0.9em"},children:k.externalParticipants?.map(Ne=>{const be=c.externalTeams.find(Ke=>Ke.id===Ne.teamId);return be?be.name:""}).filter(Boolean).join(", ")||"-"})}),s.jsx("td",{children:s.jsxs("div",{className:"time-cell",children:[s.jsxs("select",{value:k.time?.startTime||"",onChange:Ne=>y(k.id,{startTime:Ne.target.value}),disabled:_e,children:[s.jsx("option",{value:"",children:""}),Se.map(Ne=>s.jsx("option",{value:Ne,children:Ne},Ne))]}),s.jsx("select",{value:k.time?.duration||30,onChange:Ne=>y(k.id,{duration:parseInt(Ne.target.value)}),disabled:_e,children:Ae.map(Ne=>s.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]})}),s.jsx("td",{children:s.jsx("div",{className:"action-buttons",children:s.jsx("button",{className:`status-btn ${k.status.toLowerCase()}`,onClick:Ne=>{Ne.stopPropagation(),cl(k)},style:{width:"100%"},children:k.status==="Planned"?"":""})})})]},k.id)})})]})}),A&&s.jsxs("div",{className:"task-actions-footer",style:{padding:"10px",borderTop:"1px solid #ddd",display:"flex",gap:"10px",justifyContent:"flex-end",backgroundColor:"#f9f9f9"},children:[s.jsx("button",{className:"btn",onClick:()=>{const k=m.find(ae=>ae.id===A);k&&d&&d(k)},children:""}),s.jsx("button",{className:"btn btn-danger",onClick:()=>w(A),children:""}),s.jsx("button",{className:"btn",onClick:()=>I(null),children:""})]})]}),s.jsx("div",{className:"timetable-container",children:s.jsx(Ag,{settings:c,tasks:we,date:T,onSlotClick:_,onHeaderClick:fe,onEventClick:I,columnGroups:dt,selectedTaskId:A})})]})]})};async function co(c,r,d){if(r.has(c))return r;r.add(c);try{const u=await d.board.get({id:c});if(u.length===0)return r;const f=u[0];if(typeof f.getConnectors=="function"){const m=await f.getConnectors();for(const b of m){const S=b.start?.item,g=b.end?.item;S&&!r.has(S)&&await co(S,r,d),g&&!r.has(g)&&await co(g,r,d)}}}catch(u){console.warn(`Could not traverse item ${c}:`,u)}return r}function Th(c,r,d,u,f){const m=d-c,b=u-r;let S;Math.abs(m)>Math.abs(b)?S=m>0?"right":"left":S=b>0?"bottom":"top";const g={top:0,right:0,bottom:0,left:0};for(const x of f)g[x.snapTo]++;if(g[S]>=1){const x=Math.abs(m)>Math.abs(b)?["top","bottom"]:["left","right"],C=x[0],v=x[1];(g[C]<g[S]||g[v]<g[S])&&(g[C]<=g[v]?S=C:S=v)}return S}function kg(c,r,d){let u=100,f=100;c.length>0&&(u=c.reduce((G,ie)=>G+ie.width,0)/c.length,f=c.reduce((G,ie)=>G+ie.height,0)/c.length);const m=u*d.spacingFactor,b=f*d.spacingFactor,S=c.map(G=>({id:G.id,gx:Math.round(G.x/m),gy:Math.round(G.y/b),origX:G.x,origY:G.y})),g=new Map;S.forEach(G=>{if(!g.has(`${G.gx},${G.gy}`)){g.set(`${G.gx},${G.gy}`,G);return}let ie=1,P=!1;for(;!P;){for(let M=-ie;M<=ie;M++){for(let q=-ie;q<=ie;q++){if(Math.abs(M)!==ie&&Math.abs(q)!==ie)continue;const F=G.gx+M,re=G.gy+q,oe=`${F},${re}`;if(!g.has(oe)){G.gx=F,G.gy=re,g.set(oe,G),P=!0;break}}if(P)break}ie++,ie>20&&(g.set(`${G.gx},${G.gy}`,G),P=!0)}});const x=new Map(S.map(G=>[G.id,G])),C=G=>{const ie=[];return r.forEach(P=>{P.source===G&&ie.push(x.get(P.target)),P.target===G&&ie.push(x.get(P.source))}),ie},v=()=>{let G=0;const ie=new Map;return S.forEach(P=>{const M=`${P.gx},${P.gy}`;ie.set(M,(ie.get(M)||0)+1)}),ie.forEach(P=>{P>1&&(G+=(P-1)*1e5)}),r.forEach(P=>{const M=x.get(P.source),q=x.get(P.target);if(!M||!q)return;const F=Math.min(M.gx,q.gx),re=Math.max(M.gx,q.gx),oe=Math.min(M.gy,q.gy),y=Math.max(M.gy,q.gy);S.forEach(w=>{w.id===M.id||w.id===q.id||(w.gx>F&&w.gx<re&&w.gy===M.gy&&M.gy===q.gy&&(G+=1e3),w.gy>oe&&w.gy<y&&w.gx===M.gx&&M.gx===q.gx&&(G+=1e3))})}),S.forEach(P=>{const M=C(P.id),q={top:0,bottom:0,left:0,right:0};M.forEach(F=>{if(!F)return;const re=F.gx-P.gx,oe=F.gy-P.gy;Math.abs(re)>Math.abs(oe)?re>0?q.right++:q.left++:oe>0?q.bottom++:q.top++}),Object.values(q).forEach(F=>{F>1&&(G+=(F-1)*500)})}),G},p=()=>{let G=v();return r.forEach(ie=>{const P=x.get(ie.source),M=x.get(ie.target);P&&M&&(G+=(Math.abs(P.gx-M.gx)+Math.abs(P.gy-M.gy))*10)}),G};let T=p(),O=100;const U=.95,A=2e3;for(let G=0;G<A;G++){if(Math.random()<.5){const P=Math.floor(Math.random()*S.length),M=Math.floor(Math.random()*S.length);if(P===M)continue;const q=S[P],F=S[M];g.delete(`${q.gx},${q.gy}`),g.delete(`${F.gx},${F.gy}`);const re=q.gx,oe=q.gy;q.gx=F.gx,q.gy=F.gy,F.gx=re,F.gy=oe,g.set(`${q.gx},${q.gy}`,q),g.set(`${F.gx},${F.gy}`,F);const y=p(),w=y-T;w<0||Math.random()<Math.exp(-w/O)?T=y:(g.delete(`${q.gx},${q.gy}`),g.delete(`${F.gx},${F.gy}`),F.gx=q.gx,F.gy=q.gy,q.gx=re,q.gy=oe,g.set(`${q.gx},${q.gy}`,q),g.set(`${F.gx},${F.gy}`,F))}else{const P=Math.floor(Math.random()*S.length),M=S[P],q=Math.floor(Math.random()*3)-1,F=Math.floor(Math.random()*3)-1;if(q===0&&F===0)continue;const re=M.gx+q,oe=M.gy+F;if(!g.has(`${re},${oe}`)){const y=M.gx,w=M.gy;g.delete(`${y},${w}`),M.gx=re,M.gy=oe,g.set(`${re},${oe}`,M);const _=p(),W=_-T;W<0||Math.random()<Math.exp(-W/O)?T=_:(g.delete(`${re},${oe}`),M.gx=y,M.gy=w,g.set(`${y},${w}`,M))}}O*=U}let I=v(),V=0;const ee=500;for(;I>0&&V<ee;){V++;let G=!1;const ie=[...S].sort(()=>Math.random()-.5);for(const P of ie){const M=v(),q=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let F=null,re=M;for(const oe of q){const y=P.gx+oe.dx,w=P.gy+oe.dy;if(!g.has(`${y},${w}`)){const _=P.gx,W=P.gy;g.delete(`${_},${W}`),P.gx=y,P.gy=w,g.set(`${y},${w}`,P);const fe=v();fe<re&&(re=fe,F={gx:y,gy:w}),g.delete(`${y},${w}`),P.gx=_,P.gy=W,g.set(`${_},${W}`,P)}}F&&(g.delete(`${P.gx},${P.gy}`),P.gx=F.gx,P.gy=F.gy,g.set(`${P.gx},${P.gy}`,P),G=!0)}if(I=v(),!G)break}const L=Array.from(new Set(S.map(G=>G.gx))).sort((G,ie)=>G-ie),E=new Map;L.forEach((G,ie)=>E.set(G,ie));const J=Array.from(new Set(S.map(G=>G.gy))).sort((G,ie)=>G-ie),Z=new Map;J.forEach((G,ie)=>Z.set(G,ie)),S.forEach(G=>{G.gx=E.get(G.gx),G.gy=Z.get(G.gy)});const Q=new Map;let de=0,ve=0;S.length>0&&(S.forEach(G=>{de+=G.gx,ve+=G.gy}),de/=S.length,ve/=S.length);let ce=0,ne=0;return c.length>0&&(c.forEach(G=>{ce+=G.x,ne+=G.y}),ce/=c.length,ne/=c.length),S.forEach(G=>{const ie=G.gx-de,P=G.gy-ve;Q.set(G.id,{x:ce+ie*m,y:ne+P*b})}),Q}async function Rg(c={allowMovement:!0,spacingFactor:1.5,priority:50}){try{const{instance:r}=await tl();if(!r||!r.board)return{success:!1,message:"Miro SDK",objectsProcessed:0,connectorsOptimized:0};const d=await r.board.getSelection();if(d.length===0)return{success:!1,message:"",objectsProcessed:0,connectorsOptimized:0};console.log(`Starting connector optimization for ${d.length} selected objects...`);const u=new Set;for(const p of d)await co(p.id,u,r);console.log(`Found ${u.size} connected objects`);const m=(await Promise.all(Array.from(u).map(async p=>(await r.board.get({id:p}))[0]))).filter(p=>p!=null&&p.type!=="connector"),b=[];for(const p of m)if(typeof p.getConnectors=="function"){const T=await p.getConnectors();b.push(...T)}const S=new Map;if(b.forEach(p=>S.set(p.id,p)),c.allowMovement){const p=m.map(U=>({id:U.id,x:U.x,y:U.y,width:U.width||100,height:U.height||100})),T=[];for(const U of S.values())U.start?.item&&U.end?.item&&u.has(U.start.item)&&u.has(U.end.item)&&T.push({source:U.start.item,target:U.end.item});const O=kg(p,T,c);for(const U of m){const A=O.get(U.id);if(A){U.x=A.x,U.y=A.y;try{await U.sync()}catch(I){console.warn(`Failed to sync item ${U.id}`,I)}}}}const g=new Map;for(const p of m)g.set(p.id,{x:p.x,y:p.y});let x=0,C=0;const v=new Map;x=S.size;for(const p of S.values()){const T=p.start?.item,O=p.end?.item;if(!T||!O||!u.has(T)||!u.has(O))continue;const U=g.get(T),A=g.get(O);if(!U||!A)continue;const I=v.get(T)||[],V=v.get(O)||[],ee=Th(U.x,U.y,A.x,A.y,I),L=Th(A.x,A.y,U.x,U.y,V),E=A.x-U.x,J=A.y-U.y,Z=Math.atan2(J,E)*(180/Math.PI);I.push({angle:Z,snapTo:ee}),V.push({angle:Z+180,snapTo:L}),v.set(T,I),v.set(O,V);let Q=!1;p.start&&p.start.snapTo!==ee&&(p.start.snapTo=ee,Q=!0),p.end&&p.end.snapTo!==L&&(p.end.snapTo=L,Q=!0),p.shape!=="elbowed"&&(p.shape="elbowed",Q=!0),Q&&(await p.sync(),C++)}return console.log(`Optimized ${C} out of ${x} connectors`),{success:!0,message:`${u.size}${C}`,objectsProcessed:u.size,connectorsOptimized:C}}catch(r){return console.error("Error optimizing connectors:",r),{success:!1,message:`: ${r.message}`,objectsProcessed:0,connectorsOptimized:0}}}async function Ug(){try{const{instance:c}=await tl();if(!c||!c.board)return{success:!1,message:"Miro SDK",objectsProcessed:0};const d=(await c.board.getSelection()).filter(C=>C.type!=="connector");if(d.length<2)return{success:!1,message:"2",objectsProcessed:0};let u=1/0,f=-1/0,m=1/0,b=-1/0;for(const C of d)u=Math.min(u,C.x),f=Math.max(f,C.x),m=Math.min(m,C.y),b=Math.max(b,C.y);const S=f-u,g=b-m;if(S>g){const C=(m+b)/2;for(const v of d)v.y=C,await v.sync();return{success:!0,message:`${d.length}`,objectsProcessed:d.length}}else{const C=(u+f)/2;for(const v of d)v.x=C,await v.sync();return{success:!0,message:`${d.length}`,objectsProcessed:d.length}}}catch(c){return console.error("Error aligning objects:",c),{success:!1,message:`: ${c.message}`,objectsProcessed:0}}}async function Hg(c=1.5){try{const{instance:r}=await tl();if(!r||!r.board)return{success:!1,message:"Miro SDK",objectsProcessed:0};const u=(await r.board.getSelection()).filter(v=>v.type!=="connector");if(u.length<3)return{success:!1,message:"3",objectsProcessed:0};let f=1/0,m=-1/0,b=1/0,S=-1/0;for(const v of u)f=Math.min(f,v.x),m=Math.max(m,v.x),b=Math.min(b,v.y),S=Math.max(S,v.y);const g=m-f,x=S-b;if(g>x){const v=[...u].sort((U,A)=>U.x-A.x),T=v.reduce((U,A)=>U+A.width,0)/v.length*c,O=v[0].x;for(let U=0;U<v.length;U++)v[U].x=O+U*T,await v[U].sync();return{success:!0,message:`${u.length}: ${c}`,objectsProcessed:u.length}}else{const v=[...u].sort((U,A)=>U.y-A.y),T=v.reduce((U,A)=>U+A.height,0)/v.length*c,O=v[0].y;for(let U=0;U<v.length;U++)v[U].y=O+U*T,await v[U].sync();return{success:!0,message:`${u.length}: ${c}`,objectsProcessed:u.length}}}catch(r){return console.error("Error distributing objects:",r),{success:!1,message:`: ${r.message}`,objectsProcessed:0}}}class Yg{constructor(r){this.config=r}async generateDiagram(r){try{console.log(" Calling Ollama:",this.config.endpoint);const d=await fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,prompt:r,stream:!1,options:{temperature:this.config.temperature,num_predict:this.config.maxTokens}})});if(!d.ok){const g=await d.text();throw new Error(`Ollama API error: ${d.status} - ${g}`)}const f=(await d.json()).response||"";console.log(" Raw LLM response:",f.substring(0,200));const m=f.match(/```json\s*([\s\S]*?)\s*```/)||f.match(/```\s*([\s\S]*?)\s*```/);let b=m?m[1]:f;b=b.trim();let S;try{S=JSON.parse(b)}catch(g){console.error("JSON Parse Error:",g),console.log("Failed JSON text:",b);try{console.log(" Attempting to repair JSON...");let x=b.replace(new RegExp("(?<=[\\{\\,]\\s*)([a-zA-Z_][a-zA-Z0-9_]*)(?=\\s*:)","g"),'"$1"');x=x.replace(/,(\s*[}\]])/g,"$1"),S=JSON.parse(x),console.log(" JSON repaired successfully")}catch{throw g.message.includes("End of data")||g.message.includes("Unexpected end")||g.message.includes("Expected")?new Error(`JSON (: 4000)
`+g.message):new Error(`AIJSON
`+g.message)}}return{success:!0,data:S,rawResponse:f}}catch(d){console.error(" LLM generation error:",d);let u=d.message||"Unknown error occurred";return u.includes("Failed to fetch")&&this.config.endpoint.includes("localhost")&&(u+=` (CORS/Mixed Content Error). 
(HTTPS)(HTTP)
:
1.  (npm run dev)
2. Ollama  OLLAMA_ORIGINS  ("*")
3. Chrome  chrome://flags/#block-insecure-private-network-requests  Disabled `),{success:!1,error:u,rawResponse:d.toString()}}}}class qg{constructor(r){}async generateDiagram(r){return{success:!1,error:"OpenAI provider is not yet implemented"}}}function Bg(c){switch(c.provider){case"ollama":return new Yg(c);case"openai":return new qg(c);default:throw new Error(`Unsupported LLM provider: ${c.provider}`)}}function Gg(c){const r=[];if(!c||typeof c!="object")return r.push({type:"schema",message:"Invalid data: not an object"}),{valid:!1,errors:r};if(c.meta?((!c.meta.title||typeof c.meta.title!="string")&&r.push({type:"field",message:"meta.title is required and must be a string"}),(!c.meta.diagramType||!["ER","FLOW","GENERIC"].includes(c.meta.diagramType))&&r.push({type:"field",message:"meta.diagramType must be one of: ER, FLOW, GENERIC"}),(!c.meta.version||typeof c.meta.version!="string")&&r.push({type:"field",message:"meta.version is required and must be a string"})):r.push({type:"field",message:"Missing required field: meta"}),!Array.isArray(c.nodes))return r.push({type:"field",message:"nodes must be an array"}),{valid:!1,errors:r};const d=new Set;for(let u=0;u<c.nodes.length;u++){const f=c.nodes[u];!f.id||typeof f.id!="string"?r.push({type:"field",message:`nodes[${u}]: id is required and must be a string`,details:{index:u,node:f}}):(d.has(f.id)&&r.push({type:"field",message:`Duplicate node ID: ${f.id}`,details:{id:f.id}}),d.add(f.id)),(!f.type||!["shape","text"].includes(f.type))&&r.push({type:"field",message:`nodes[${u}]: type must be 'shape' or 'text'`,details:{index:u,type:f.type}}),(typeof f.x!="number"||typeof f.y!="number")&&r.push({type:"field",message:`nodes[${u}]: x and y must be numbers`,details:{index:u,x:f.x,y:f.y}}),(typeof f.w!="number"||typeof f.h!="number")&&r.push({type:"field",message:`nodes[${u}]: w and h must be numbers`,details:{index:u,w:f.w,h:f.h}}),(f.w<260||f.h<120)&&r.push({type:"field",message:`nodes[${u}]: minimum size is w >= 260, h >= 120`,details:{index:u,w:f.w,h:f.h}}),(!f.text||typeof f.text!="string")&&r.push({type:"field",message:`nodes[${u}]: text is required and must be a string`,details:{index:u}}),!f.style||typeof f.style!="object"?r.push({type:"field",message:`nodes[${u}]: style is required and must be an object`,details:{index:u}}):(["rectangle","round_rectangle","note"].includes(f.style.shape)||r.push({type:"field",message:`nodes[${u}]: style.shape must be 'rectangle', 'round_rectangle', or 'note'`,details:{index:u,shape:f.style.shape}}),typeof f.style.fontSize!="number"&&r.push({type:"field",message:`nodes[${u}]: style.fontSize must be a number`,details:{index:u,fontSize:f.style.fontSize}}))}if(!Array.isArray(c.edges))r.push({type:"field",message:"edges must be an array"});else{const u=new Set;for(let f=0;f<c.edges.length;f++){const m=c.edges[f];!m.id||typeof m.id!="string"?r.push({type:"field",message:`edges[${f}]: id is required and must be a string`,details:{index:f,edge:m}}):(u.has(m.id)&&r.push({type:"field",message:`Duplicate edge ID: ${m.id}`,details:{id:m.id}}),u.add(m.id)),!m.from||typeof m.from!="string"?r.push({type:"field",message:`edges[${f}]: from is required and must be a string`,details:{index:f}}):d.has(m.from)||r.push({type:"reference",message:`edges[${f}]: from references non-existent node '${m.from}'`,details:{index:f,from:m.from}}),!m.to||typeof m.to!="string"?r.push({type:"field",message:`edges[${f}]: to is required and must be a string`,details:{index:f}}):d.has(m.to)||r.push({type:"reference",message:`edges[${f}]: to references non-existent node '${m.to}'`,details:{index:f,to:m.to}}),typeof m.label!="string"&&r.push({type:"field",message:`edges[${f}]: label must be a string`,details:{index:f}}),!m.style||typeof m.style!="object"?r.push({type:"field",message:`edges[${f}]: style is required and must be an object`,details:{index:f}}):(["solid","dashed"].includes(m.style.line)||r.push({type:"field",message:`edges[${f}]: style.line must be 'solid' or 'dashed'`,details:{index:f,line:m.style.line}}),["none","end"].includes(m.style.arrow)||r.push({type:"field",message:`edges[${f}]: style.arrow must be 'none' or 'end'`,details:{index:f,arrow:m.style.arrow}}))}}if(c.nodes&&Array.isArray(c.nodes))for(let u=0;u<c.nodes.length;u++)for(let f=u+1;f<c.nodes.length;f++){const m=c.nodes[u],b=c.nodes[f];Lg(m,b)&&r.push({type:"overlap",message:`Nodes overlap: ${m.id} and ${b.id}`,details:{node1:m.id,node2:b.id}})}return{valid:r.length===0,errors:r}}function Lg(c,r){const u=c.x-40,f=c.y-40,m=c.w+80,b=c.h+80,S=r.x-40,g=r.y-40,x=r.w+80,C=r.h+80;return!(u+m<=S||S+x<=u||f+b<=g||g+C<=f)}async function Xg(c){try{const{instance:r}=await tl();if(!r||!r.board)throw new Error("Miro SDK not initialized");console.log(" Rendering diagram to Miro:",c.meta.title);const d=new Map,u=[];let f=0;console.log(`Processing ${c.nodes.length} nodes...`);for(const m of c.nodes){console.log(`- Rendering node: ${m.id} (${m.type})`);const b=await Qg(r,m);b&&(d.set(m.id,b.id),u.push(b),f++)}console.log(`Processing ${c.edges.length} edges...`);for(const m of c.edges){const b=d.get(m.from),S=d.get(m.to);if(b&&S){console.log(`- Rendering edge: ${m.id} (${m.from} -> ${m.to})`);const g=await Zg(r,m,b,S);g&&(u.push(g),f++)}else console.warn(` Skipping edge ${m.id}: node reference not found`)}if(u.length>0){console.log(" Zooming to created items...");try{await r.board.viewport.zoomTo(u)}catch(m){console.warn(" Failed to zoom to items:",m)}}return{success:!0,message:` : ${c.meta.title} (${f})`,itemsCreated:f}}catch(r){return console.error(" Render error:",r),{success:!1,message:`: ${r.message}`,itemsCreated:0}}}async function Qg(c,r){try{if(r.type==="shape"){let d="rectangle";return r.style.shape==="round_rectangle"&&(d="round_rectangle"),await c.board.createShape({shape:d,x:r.x,y:r.y,width:r.w,height:r.h,content:r.text,style:{fontSize:r.style.fontSize,textAlign:"center",textAlignVertical:"middle",fillColor:"#ffffff",borderColor:"#1a1a1a",borderWidth:2}})}else if(r.type==="text")return await c.board.createText({content:r.text,x:r.x,y:r.y,width:r.w,style:{fontSize:r.style.fontSize,textAlign:"center"}})}catch(d){throw console.error(`Error rendering node ${r.id}:`,d),d}}async function Zg(c,r,d,u){try{const f=r.style.line==="dashed"?"dashed":"normal",m=r.style.arrow==="end"?"arrow":"none";return await c.board.createConnector({start:{item:d},end:{item:u},style:{strokeStyle:f,endStrokeCap:m,strokeColor:"#1a1a1a",strokeWidth:2},captions:r.label?[{content:r.label,position:.5}]:[]})}catch(f){throw console.error(`Error rendering edge ${r.id}:`,f),f}}const $g=`Miro Diagram JSON GeneratorMiroJSON

:
- JSON
- JSON**: "x": 100, "id": "N1"**
- 
- nodesidedgesnode id
- **title, text, label**
  - 
  - : "User Input"  "", "Validate"  ""
- ****

:
{
  "meta": {
    "title": string,
    "diagramType": "ER" | "FLOW" | "GENERIC",
    "version": "1.0"
  },
  "nodes": [
    {
      "id": "N1",
      "type": "shape" | "text",
      "x": number,
      "y": number,
      "w": number,
      "h": number,
      "text": string,
      "style": {
        "shape": "rectangle" | "round_rectangle" | "note",
        "fontSize": number
      }
    }
  ],
  "edges": [
    {
      "id": "E1",
      "from": "N1",
      "to": "N2",
      "label": string,
      "style": {
        "line": "solid" | "dashed",
        "arrow": "none" | "end"
      }
    }
  ]
}

:
- : (0,0)
- :
  - (x):  400px (260px + 140px)
  - (y):  300px (120px + 180px)
- ****: 
- : 
- : 
- 

ERdiagramType="ER" :
- EC:
  User, Product, Order, OrderItem, Address, Payment
-  text 
-  "PK:" "FK:" 
-  edges label : "1..N"

diagramType="FLOW" :
- 
- 

:
:
- JSON
- nodes
- edgesfrom/to
- ****
- ****`,Vg=`
JSON:
{
  "meta": { "title": "", "diagramType": "FLOW", "version": "1.0" },
  "nodes": [
    { "id":"N1","type":"shape","x":0,"y":0,"w":260,"h":120,"text":"","style":{"shape":"round_rectangle","fontSize":16} },
    { "id":"N2","type":"shape","x":400,"y":0,"w":260,"h":120,"text":"","style":{"shape":"rectangle","fontSize":16} },
    { "id":"N3","type":"shape","x":800,"y":0,"w":260,"h":120,"text":"","style":{"shape":"round_rectangle","fontSize":16} }
  ],
  "edges": [
    { "id":"E1","from":"N1","to":"N2","label":"","style":{"line":"solid","arrow":"end"} },
    { "id":"E2","from":"N2","to":"N3","label":"","style":{"line":"solid","arrow":"end"} }
  ]
}`;function Kg(c){return`:
${c}

:
- diagramType ER "ER"
- title 
- nodes/edges 
- ****
- **(x,y)**`}function Nh(c){return`${$g}

${Vg}

${Kg(c)}`}const Jg=({llmConfig:c})=>{const[r,d]=te.useState(""),[u,f]=te.useState(!1),[m,b]=te.useState(""),[S,g]=te.useState(""),[x,C]=te.useState(0),[v,p]=te.useState(null),T=2,O=async()=>{if(!r.trim()){g("");return}if(!c){g("LLM LLM ");return}f(!0),g(""),b("LLM..."),p(null),C(0),await U(r,c,0)},U=async(A,I,V)=>{try{const ee=Bg(I),L=Nh(A);b(`LLM... ( ${V+1}/${T+1})`);const E=await ee.generateDiagram(L);if(!E.success||!E.data)throw new Error(E.error||"LLM ");b("JSON ...");const J=Gg(E.data);if(!J.valid){const Q=J.errors.map(de=>de.message).join(`
`);if(console.error("Validation errors:",J.errors),V<T){C(V+1),b(`... (${V+1}/${T})`);const de=Nh(`${A}

:
${Q}`);return await new Promise(ve=>setTimeout(ve,1e3)),await U(A,I,V+1)}else throw new Error(`:
${Q}`)}b("Miro...");const Z=await Xg(E.data);if(!Z.success)throw new Error(Z.message);b(Z.message),g(""),p(JSON.stringify(E.data,null,2)),d("")}catch(ee){console.error("Generation error:",ee),g(ee.message||""),b("")}finally{f(!1)}};return s.jsxs("div",{className:"ai-generation-panel",children:[s.jsx("h3",{children:" AI"}),s.jsx("p",{className:"panel-description",children:"LLMJSONMiro"}),!c&&s.jsx("div",{className:"warning-box",children:" LLM Ollama  LLM "}),s.jsxs("div",{className:"input-section",children:[s.jsx("label",{htmlFor:"user-input",children:""}),s.jsx("textarea",{id:"user-input",value:r,onChange:A=>d(A.target.value),placeholder:": ECER",rows:4,disabled:u||!c})]}),s.jsx("button",{className:"btn btn-generate",onClick:O,disabled:u||!c||!r.trim(),children:u?"...":" "}),u&&s.jsxs("div",{className:"loading-indicator",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:m}),x>0&&s.jsxs("p",{className:"retry-info",children:[": ",x,"/",T]})]}),m&&!u&&!S&&s.jsx("div",{className:"success-message",children:s.jsxs("p",{children:[" ",m]})}),S&&s.jsxs("div",{className:"error-message",children:[s.jsx("h4",{children:" "}),s.jsx("pre",{children:S})]}),v&&s.jsxs("div",{className:"json-output-section",children:[s.jsx("h4",{children:" JSON"}),s.jsx("textarea",{className:"json-output",value:v,readOnly:!0,rows:10})]}),s.jsxs("div",{className:"usage-examples",children:[s.jsx("h4",{children:""}),s.jsxs("ul",{children:[s.jsx("li",{children:"ECER"}),s.jsx("li",{children:""}),s.jsx("li",{children:"UserProductOrderER"})]})]})]})},Wg=()=>{const[c,r]=te.useState(!1),[d,u]=te.useState(!1),[f,m]=te.useState(!1),[b,S]=te.useState(""),[g,x]=te.useState(null),[C,v]=te.useState(!0),[p,T]=te.useState(1.5),[O,U]=te.useState(50),[A,I]=te.useState(1.5);te.useEffect(()=>{It().then(x)},[]);const V=async()=>{r(!0),S("...");try{const E=await Rg({allowMovement:C,spacingFactor:p,priority:O});S(E.message),alert(E.message)}catch(E){console.error("Connector optimization error:",E),S(`: ${E.message}`),alert(`: ${E.message}`)}finally{r(!1)}},ee=async()=>{u(!0),S("...");try{const E=await Ug();S(E.message),alert(E.message)}catch(E){console.error("Auto-align error:",E),S(`: ${E.message}`),alert(`: ${E.message}`)}finally{u(!1)}},L=async()=>{m(!0),S("...");try{const E=await Hg(A);S(E.message),alert(E.message)}catch(E){console.error("Distribute evenly error:",E),S(`: ${E.message}`),alert(`: ${E.message}`)}finally{m(!1)}};return s.jsxs("div",{className:"tools-tab",children:[s.jsx("h2",{children:" "}),s.jsx("p",{className:"tools-description",children:"Miro"}),s.jsx("div",{className:"section",children:s.jsx(Jg,{llmConfig:g?.llmConfig})}),s.jsxs("div",{className:"section",children:[s.jsx("h3",{children:""}),s.jsx("p",{className:"tool-description",children:"  ER"}),s.jsxs("div",{className:"tool-settings",children:[s.jsx("div",{className:"setting-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:C,onChange:E=>v(E.target.checked)}),""]})}),C&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"setting-row",children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:p,onChange:E=>T(parseFloat(E.target.value)),children:[s.jsx("option",{value:1,children:"1.0"}),s.jsx("option",{value:1.5,children:"1.5"}),s.jsx("option",{value:2,children:"2.0"}),s.jsx("option",{value:2.5,children:"2.5"}),s.jsx("option",{value:3,children:"3.0"})]})]}),s.jsxs("div",{className:"setting-row",children:[s.jsx("label",{children:":"}),s.jsxs("div",{className:"slider-container",children:[s.jsx("span",{children:""}),s.jsx("input",{type:"range",min:"0",max:"100",value:O,onChange:E=>U(parseInt(E.target.value))}),s.jsx("span",{children:""})]})]})]})]}),s.jsx("button",{className:"btn btn-primary",onClick:V,disabled:c,children:c?"...":""})]}),s.jsxs("div",{className:"section",children:[s.jsx("h3",{children:""}),s.jsx("p",{className:"tool-description",children:" "}),s.jsx("button",{className:"btn btn-secondary",onClick:ee,disabled:d,children:d?"...":""})]}),s.jsxs("div",{className:"section",children:[s.jsx("h3",{children:""}),s.jsx("p",{className:"tool-description",children:" "}),s.jsx("div",{className:"tool-settings",children:s.jsxs("div",{className:"setting-row",children:[s.jsx("label",{children:":"}),s.jsxs("select",{value:A,onChange:E=>I(parseFloat(E.target.value)),children:[s.jsx("option",{value:1,children:"1.0"}),s.jsx("option",{value:1.5,children:"1.5"}),s.jsx("option",{value:2,children:"2.0"}),s.jsx("option",{value:2.5,children:"2.5"}),s.jsx("option",{value:3,children:"3.0"})]})]})}),s.jsx("button",{className:"btn btn-secondary",onClick:L,disabled:f,children:f?"...":""})]}),b&&s.jsx("div",{className:"status-message",children:s.jsx("p",{children:b})}),s.jsxs("div",{className:"section usage-tips",children:[s.jsx("h3",{children:""}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:":"})," 1"]}),s.jsxs("li",{children:[s.jsx("strong",{children:":"})," 2"]}),s.jsxs("li",{children:[s.jsx("strong",{children:":"})," 3"]})]})]})]})},Fg=()=>{const c=[];for(let r=9;r<=18;r++)for(let d=0;d<60&&!(r===18&&d>0);d+=5){const u=`${r.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`;c.push(u)}return c},Ig=()=>{const c=[];for(let r=5;r<=480;r+=5){const d=Math.floor(r/60),u=r%60;let f="";d>0&&(f+=`${d}`),u>0&&(f+=`${u}`),c.push({value:r,label:f})}return c},Pg=({taskId:c,mode:r,onClose:d})=>{const[u,f]=te.useState(null),[m,b]=te.useState(null),[S,g]=te.useState(!0),[x,C]=te.useState(!1);te.useEffect(()=>{(async()=>{const E=await It();b(E);const J=new URLSearchParams(window.location.search),Z=c||J.get("taskId");if((r||J.get("mode"))==="create")C(!0),f({id:`task-${Date.now()}`,status:"Draft",title:"",summary:"",roles:{pmId:void 0,designerIds:[],devPlan:{phase:"Draft",mode:"NoDev",requiredTrackCount:0,assignedTrackIds:[]}},externalParticipants:[],constraints:{timeLocked:!1,rolesLocked:!1,externalFixed:!1},time:{startTime:void 0,duration:void 0}});else if(Z){const de=await gg(Z);de?f(de):(alert("Task not found"),v())}g(!1)})()},[c,r]);const v=async()=>{d?d():await Ce.board.ui.closeModal()},p=async()=>{if(u)try{x?await fo(u):await Rs(u),await v()}catch(L){console.error("Error saving task:",L),alert("Failed to save task")}},T=async()=>{await v()},O=async()=>{if(!(!u||x)&&confirm(""))try{await kh(u.id),await v()}catch(L){console.error("Error deleting task:",L),alert("Failed to delete task")}},U=(L,E)=>{if(!u)return;if(L.roleId==="role-pm")f({...u,roles:{...u.roles,pmId:E?L.id:u.roles.pmId===L.id?void 0:u.roles.pmId}});else{const Z=u.roles.designerIds||[];let Q;E?Q=[...Z,L.id]:Q=Z.filter(de=>de!==L.id),f({...u,roles:{...u.roles,designerIds:Q}})}};if(S)return s.jsx("div",{children:"Loading..."});if(!u||!m)return s.jsx("div",{children:"Error loading task"});const A=m.devs.filter(L=>L.roleId!=="role-dev"),I=L=>{if(!L)return"Unknown";const E=m.roles.find(J=>J.id===L);return E?E.name:"Unknown"},V=Fg(),ee=Ig();return s.jsxs("div",{className:"task-form",children:[s.jsxs("div",{className:"task-form-header",children:[s.jsx("h2",{children:x?"":""}),s.jsx("button",{className:"close-btn",onClick:v,title:"",children:""})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:u.title,onChange:L=>f({...u,title:L.target.value}),placeholder:""})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:u.summary,onChange:L=>f({...u,summary:L.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:" (URL)"}),s.jsx("input",{type:"url",value:u.externalLink||"",onChange:L=>f({...u,externalLink:L.target.value||void 0}),placeholder:"https://..."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:u.status,onChange:L=>f({...u,status:L.target.value}),children:[s.jsx("option",{value:"Draft",children:""}),s.jsx("option",{value:"Planned",children:""}),s.jsx("option",{value:"Done",children:""})]})]}),s.jsxs("div",{className:"time-settings-grid",children:[s.jsxs("div",{className:"grid-item date-item",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"date",value:u.date||"",onChange:L=>f({...u,date:L.target.value})})]}),s.jsxs("div",{className:"grid-item time-item",children:[s.jsxs("div",{className:"label-row",children:[s.jsx("label",{children:""}),u.time?.startTime&&s.jsxs("label",{className:"lock-toggle",title:"",children:[s.jsx("input",{type:"checkbox",checked:u.constraints.timeLocked,onChange:L=>f({...u,constraints:{...u.constraints,timeLocked:L.target.checked}})}),s.jsx("span",{children:""})]})]}),s.jsxs("select",{value:u.time?.startTime||"",onChange:L=>f({...u,time:{...u.time,startTime:L.target.value}}),className:u.constraints.timeLocked?"locked-input":"",children:[s.jsx("option",{value:"",children:""}),V.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("div",{className:"grid-item duration-item",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:u.time?.duration||"",onChange:L=>f({...u,time:{...u.time,duration:parseInt(L.target.value)||void 0}}),children:[s.jsx("option",{value:"",children:""}),ee.map(L=>s.jsx("option",{value:L.value,children:L.label},L.value))]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:""}),s.jsx("div",{className:"form-group",children:s.jsx("div",{className:"compact-role-list",children:A.length>0?A.map(L=>{const J=L.roleId==="role-pm"?u.roles.pmId===L.id:(u.roles.designerIds||[]).includes(L.id);return s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:J,onChange:Z=>U(L,Z.target.checked)}),L.name," ",s.jsxs("span",{className:"role-badge-small",children:["(",I(L.roleId),")"]})]},L.id)}):s.jsx("p",{className:"no-data",children:""})})})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:""}),s.jsx("div",{className:"form-group",children:s.jsx("div",{className:"checkbox-group",children:m.externalTeams.length>0?m.externalTeams.map(L=>{const E=u.externalParticipants.find(Z=>Z.teamId===L.id),J=!!E;return s.jsxs("div",{className:"external-team-row",children:[s.jsxs("label",{className:"checkbox-label team-name-label",children:[s.jsx("input",{type:"checkbox",checked:J,onChange:Z=>{Z.target.checked?f({...u,externalParticipants:[...u.externalParticipants,{teamId:L.id,required:!1,timeFixed:!1}]}):f({...u,externalParticipants:u.externalParticipants.filter(Q=>Q.teamId!==L.id)})}}),s.jsx("span",{children:L.name})]}),J&&s.jsxs("label",{className:"option-label required-label",children:[s.jsx("input",{type:"checkbox",checked:E?.required||!1,onChange:Z=>{const Q=u.externalParticipants.map(de=>de.teamId===L.id?{...de,required:Z.target.checked}:de);f({...u,externalParticipants:Q})}}),s.jsx("span",{className:"small-text",children:""})]})]},L.id)}):s.jsx("p",{className:"no-data",children:""})})})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:""}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:`${u.roles.devPlan.mode}:${u.roles.devPlan.mode==="Tracks"?u.roles.devPlan.requiredTrackCount:0}`,onChange:L=>{const[E,J]=L.target.value.split(":");f({...u,roles:{...u.roles,devPlan:{...u.roles.devPlan,mode:E,requiredTrackCount:parseInt(J)}}})},children:[s.jsx("option",{value:"NoDev:0",children:""}),m.tracks.slice(0,-1).map((L,E)=>{const J=E+1;return s.jsxs("option",{value:`Tracks:${J}`,children:[J," Track",J>1?"s":""]},J)}),s.jsx("option",{value:"AllDev:0",children:""})]})]})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"btn btn-primary",onClick:p,children:""}),!x&&s.jsx("button",{className:"btn btn-danger",onClick:O,children:""}),s.jsx("button",{className:"btn btn-secondary",onClick:T,children:""})]})]})},ep=({initialData:c,settings:r,onSave:d,onCancel:u})=>{const[f,m]=te.useState(c?.template.title||""),[b,S]=te.useState(c?.template.summary||""),[g,x]=te.useState(c?.template.externalLink||""),[C,v]=te.useState(c?.template.time?.startTime||""),[p,T]=te.useState(c?.template.time?.duration||60),[O,U]=te.useState(c?.template.status||"Planned"),[A,I]=te.useState(c?.template.roles||{pmId:void 0,designerIds:[],devPlan:{phase:"Draft",mode:"NoDev",requiredTrackCount:0,assignedTrackIds:[]}}),[V,ee]=te.useState(c?.template.externalParticipants||[]),[L,E]=te.useState(c?.rule.frequency||"weekly"),[J,Z]=te.useState(c?.rule.weekDays||[]),[Q,de]=te.useState(c?.rule.monthDayType||"startOfMonth"),[ve,ce]=te.useState(c?.rule.weekNumber||1),[ne,G]=te.useState(c?.rule.dayOfWeek||1),[ie,P]=te.useState(c?.rule.intervalMonths||1),[M,q]=te.useState(c?.rule.validUntil||""),[F,re]=te.useState(!!c?.rule.validUntil),[oe,y]=te.useState(!1),w=()=>{const se=[];se.push(s.jsx("option",{value:"",children:""},"unspecified"));for(let me=0;me<24;me++)for(let we=0;we<60;we+=15){const Se=`${me.toString().padStart(2,"0")}:${we.toString().padStart(2,"0")}`;se.push(s.jsx("option",{value:Se,children:Se},Se))}return se},_=se=>{J.includes(se)?Z(J.filter(me=>me!==se)):Z([...J,se])},W=(se,me)=>{if(se.roleId==="role-pm")I({...A,pmId:me?se.id:A.pmId===se.id?void 0:A.pmId});else{const Se=A.designerIds||[];let Ae;me?Ae=[...Se,se.id]:Ae=Se.filter(at=>at!==se.id),I({...A,designerIds:Ae})}},fe=se=>{if(!se)return"Unknown";const me=r.roles.find(we=>we.id===se);return me?me.name:"Unknown"},he=r.devs.filter(se=>se.roleId!=="role-dev"),Te=se=>{if(se.preventDefault(),!f){alert("");return}if(L==="weekly"&&J.length===0){alert("");return}const me={frequency:L,intervalMonths:ie,validUntil:F?M:null};L==="weekly"?me.weekDays=J:(me.monthDayType=Q,Q==="specificDay"&&(me.weekNumber=ve,me.dayOfWeek=ne));const we={id:c?.id||crypto.randomUUID(),template:{title:f,summary:b,externalLink:g,status:O,time:{...C?{startTime:C}:{},duration:p},roles:A,externalParticipants:V,constraints:c?.template.constraints||{timeLocked:!1,rolesLocked:!1,externalFixed:!1}},rule:me};y(!0),d(we)};return s.jsxs("div",{className:"recurring-task-form",style:{padding:"20px",background:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd"},children:[s.jsx("h3",{children:c?"":""}),s.jsx("form",{onSubmit:Te,children:s.jsxs("fieldset",{disabled:oe,style:{border:"none",padding:0,margin:0},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:" *"}),s.jsx("input",{type:"text",value:f,onChange:se=>m(se.target.value),required:!0,style:{width:"100%",padding:"8px"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:b,onChange:se=>S(se.target.value),style:{width:"100%",padding:"8px"}})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"URL"}),s.jsx("input",{type:"url",value:g,onChange:se=>x(se.target.value),style:{width:"100%",padding:"8px"}})]}),s.jsxs("div",{className:"form-row",style:{display:"flex",gap:"10px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("select",{value:C,onChange:se=>v(se.target.value),children:w()})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"()"}),s.jsx("input",{type:"number",value:p,onChange:se=>T(Number(se.target.value)),step:"5",min:"5"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:O,onChange:se=>U(se.target.value),children:[s.jsx("option",{value:"Draft",children:""}),s.jsx("option",{value:"Planned",children:""}),s.jsx("option",{value:"Done",children:""})]})]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"form-section",style:{marginTop:"15px"},children:[s.jsx("h4",{children:""}),s.jsx("div",{className:"form-group",children:s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:he.length>0?he.map(se=>{const we=se.roleId==="role-pm"?A.pmId===se.id:(A.designerIds||[]).includes(se.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",background:"#eee",padding:"5px 10px",borderRadius:"4px"},children:[s.jsx("input",{type:"checkbox",checked:we,onChange:Se=>W(se,Se.target.checked)}),se.name," ",s.jsxs("span",{style:{fontSize:"0.8em",color:"#666"},children:["(",fe(se.roleId),")"]})]},se.id)}):s.jsx("p",{className:"no-data",children:""})})})]}),s.jsxs("div",{className:"form-section",style:{marginTop:"15px"},children:[s.jsx("h4",{children:""}),s.jsx("div",{className:"form-group",children:s.jsx("div",{className:"checkbox-group",children:r.externalTeams.length>0?r.externalTeams.map(se=>{const me=V.find(Se=>Se.teamId===se.id),we=!!me;return s.jsxs("div",{className:"external-team-row",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[s.jsxs("label",{className:"checkbox-label team-name-label",style:{display:"flex",alignItems:"center",gap:"5px"},children:[s.jsx("input",{type:"checkbox",checked:we,onChange:Se=>{Se.target.checked?ee([...V,{teamId:se.id,required:!1,timeFixed:!1}]):ee(V.filter(Ae=>Ae.teamId!==se.id))}}),s.jsx("span",{children:se.name})]}),we&&s.jsxs("label",{className:"option-label required-label",style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"0.9em"},children:[s.jsx("input",{type:"checkbox",checked:me?.required||!1,onChange:Se=>{const Ae=V.map(at=>at.teamId===se.id?{...at,required:Se.target.checked}:at);ee(Ae)}}),s.jsx("span",{className:"small-text",children:""})]})]},se.id)}):s.jsx("p",{className:"no-data",children:""})})})]}),s.jsxs("div",{className:"form-section",style:{marginTop:"15px"},children:[s.jsx("h4",{children:""}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:`${A.devPlan.mode}:${A.devPlan.mode==="Tracks"?A.devPlan.requiredTrackCount:0}`,onChange:se=>{const[me,we]=se.target.value.split(":");I({...A,devPlan:{...A.devPlan,mode:me,requiredTrackCount:parseInt(we)}})},style:{marginLeft:"10px",padding:"5px"},children:[s.jsx("option",{value:"NoDev:0",children:""}),r.tracks.slice(0,-1).map((se,me)=>{const we=me+1;return s.jsxs("option",{value:`Tracks:${we}`,children:[we," Track",we>1?"s":""]},we)}),s.jsx("option",{value:"AllDev:0",children:""})]})]})]}),s.jsx("hr",{}),s.jsx("h4",{children:""}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("div",{style:{display:"flex",gap:"20px"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:L==="weekly",onChange:()=>E("weekly")})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:L==="monthly",onChange:()=>E("monthly")})," "]})]})]}),L==="weekly"&&s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:["","","","","","",""].map((se,me)=>s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:J.includes(me),onChange:()=>_(me)})," ",se]},me))})]}),L==="monthly"&&s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:""}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:Q==="startOfMonth",onChange:()=>de("startOfMonth")}),"  (1)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:Q==="endOfMonth",onChange:()=>de("endOfMonth")})," "]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:Q==="specificDay",onChange:()=>de("specificDay")})," :",s.jsxs("select",{disabled:Q!=="specificDay",value:ve,onChange:se=>ce(Number(se.target.value)),style:{marginLeft:"5px",marginRight:"5px"},children:[s.jsx("option",{value:1,children:"1"}),s.jsx("option",{value:2,children:"2"}),s.jsx("option",{value:3,children:"3"}),s.jsx("option",{value:4,children:"4"}),s.jsx("option",{value:5,children:"5"})]}),s.jsxs("select",{disabled:Q!=="specificDay",value:ne,onChange:se=>G(Number(se.target.value)),children:[s.jsx("option",{value:0,children:""}),s.jsx("option",{value:1,children:""}),s.jsx("option",{value:2,children:""}),s.jsx("option",{value:3,children:""}),s.jsx("option",{value:4,children:""}),s.jsx("option",{value:5,children:""}),s.jsx("option",{value:6,children:""})]})]})]}),s.jsxs("div",{style:{marginTop:"10px"},children:[s.jsx("label",{children:": "}),s.jsx("input",{type:"number",value:ie,onChange:se=>P(Number(se.target.value)),min:"1",style:{width:"50px"}})," "]})]}),s.jsxs("div",{className:"form-group",style:{marginTop:"15px"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:F,onChange:se=>re(se.target.checked)})," "]}),F&&s.jsx("input",{type:"date",value:M,onChange:se=>q(se.target.value),style:{marginLeft:"10px"}})]}),s.jsxs("div",{className:"actions",style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:u,className:"btn",disabled:oe,children:""}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:oe,children:oe?"...":""})]})]})})]})},tp=({settings:c,onSave:r,onDelete:d,onReapply:u,onCancel:f})=>{const[m,b]=te.useState("list"),[S,g]=te.useState(void 0),[x,C]=te.useState(!1),[v,p]=te.useState(""),T=()=>{g(void 0),b("form")},O=V=>{g(V),b("form")},U=V=>{confirm("")&&d(V)},A=async()=>{if(!x){C(!0),p("...");try{await u(V=>p(V))}finally{C(!1),p("")}}},I=V=>{r(V),b("list")};return m==="form"?s.jsx(ep,{initialData:S,settings:c,onSave:I,onCancel:()=>b("list")}):s.jsxs("div",{className:"recurring-task-manager",style:{padding:"20px",background:"#fff",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h3",{children:""}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[x&&s.jsx("span",{style:{fontSize:"0.8em",color:"#666"},children:v}),s.jsx("button",{className:"btn",onClick:A,disabled:x,title:"",children:x?"...":""}),s.jsx("button",{className:"btn btn-primary",onClick:T,disabled:x,children:" "})]})]}),s.jsx("div",{className:"task-list",children:!c.recurringTasks||c.recurringTasks.length===0?s.jsx("p",{children:""}):s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"2px solid #ddd",textAlign:"left"},children:[s.jsx("th",{style:{padding:"10px"},children:""}),s.jsx("th",{style:{padding:"10px"},children:""}),s.jsx("th",{style:{padding:"10px"},children:""})]})}),s.jsx("tbody",{children:c.recurringTasks.map(V=>s.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[s.jsx("td",{style:{padding:"10px"},children:V.template.title}),s.jsx("td",{style:{padding:"10px"},children:V.rule.frequency==="weekly"?"":""}),s.jsxs("td",{style:{padding:"10px"},children:[s.jsx("button",{className:"btn small",onClick:()=>O(V),style:{marginRight:"5px"},children:""}),s.jsx("button",{className:"btn small danger",onClick:()=>U(V.id),children:""})]})]},V.id))})]})}),s.jsx("div",{style:{marginTop:"20px",textAlign:"right"},children:s.jsx("button",{className:"btn",onClick:f,children:""})})]})},ap=340,lp={buildNumber:ap},np=()=>{const[c,r]=te.useState("menu"),[d,u]=te.useState(null),[f,m]=te.useState(!0),[b,S]=te.useState(!1),g=te.useRef(new Map),[x,C]=te.useState(void 0),[v,p]=te.useState("create"),[T,O]=te.useState(null),[U,A]=te.useState(new Date().toISOString().split("T")[0]),[I,V]=te.useState(!1);te.useEffect(()=>{let ce=null;return(async()=>{const G=new URLSearchParams(window.location.search),ie=G.get("mode"),P=G.get("date");P&&A(P),ie==="create"||ie==="edit"?(r("task-form"),ie==="edit"?(p("edit"),C(G.get("taskId")||void 0)):p("create")):ie&&["tasks","calendar","tracks","settings","task-form","standup","recurring-tasks","tools"].includes(ie)?r(ie):r("menu");try{const{instance:M}=await tl(),q=M&&typeof M.board?.getInfo=="function";if(S(q),q){console.log(" Connected to Miro board");try{const oe=await M.board.getSelection();if(oe.length===1){const y=oe[0];if(y.type==="sticky_note"&&await y.getMetadata("appType")==="task"){const _=await y.getMetadata("task");if(_&&_.id){console.log("Plugin opened with task selected:",_.id),await L("task-form"),await M.board.ui.openModal({url:`/agile-calendar/?mode=edit&taskId=${_.id}`,width:400,height:600,fullscreen:!1});return}}}}catch(oe){console.warn("Error checking initial selection:",oe)}const re=async oe=>{let y=[];if(oe&&oe.items?y=oe.items:y=await M.board.getSelection(),y.length===0)for(let w=0;w<3&&(await new Promise(_=>setTimeout(_,100*(w+1))),y=await M.board.getSelection(),!(y.length>0));w++);if(y.length>0&&console.log(`Selection update: ${y.length} items selected`),y.length===1){const w=y[0];try{if((w.type==="shape"||w.type==="text")&&await w.getMetadata("appType")==="calendarCell"){const W=await w.getMetadata("date"),fe=await w.getMetadata("isDayNumber");if(W&&fe){console.log("Calendar day number clicked:",W),await M.board.ui.openModal({url:`/agile-calendar/?mode=standup&date=${W}`,width:1200,height:768,fullscreen:!1});return}}}catch(_){console.error("Error checking metadata:",_)}}if(y.length>0&&!ce){console.log("Selection detected. Starting polling loop...");for(const he of y)g.current.has(he.id)||g.current.set(he.id,{x:he.x,y:he.y,stableCount:0,type:he.type});let w=0,_=!1,W=0;const fe=async()=>{if(_)return;_=!0;let he=1e3;try{const Te=await le(()=>M.board.getSelection(),void 0,"board.getSelection(poll)");if(Te.length===0){if(w++,w<2){ce=setTimeout(fe,1e3);return}console.log("No items selected for 2s. Processing drops and stopping loop.");const Se=[];for(const[Ae,at]of g.current.entries())at.type==="sticky_note"&&Se.push({id:Ae,type:at.type,x:at.x,y:at.y});Se.length>0&&(console.log("Triggering move for dropped items:",Se.length),await jh(Se)),ce=null,g.current.clear();return}w=0;const se=new Set(Te.map(Se=>Se.id)),me=[];let we=!1;for(const Se of Te){let Ae=g.current.get(Se.id);if(!Ae)console.log("Tracking new item:",Se.id),Ae={x:Se.x,y:Se.y,stableCount:0,type:Se.type},g.current.set(Se.id,Ae),we=!0;else{const at=Math.abs(Ae.x-Se.x),dt=Math.abs(Ae.y-Se.y);at<5&&dt<5?(Ae.stableCount++,Ae.x=Se.x,Ae.y=Se.y):(Ae.x=Se.x,Ae.y=Se.y,Ae.stableCount=0,we=!0,Se.type==="sticky_note"&&me.push(Se))}}for(const Se of g.current.keys())if(!se.has(Se)){const Ae=g.current.get(Se);Ae&&Ae.type==="sticky_note"&&(console.log("Item deselected (dropped), triggering move:",Se),me.push({id:Se,type:Ae.type,x:Ae.x,y:Ae.y})),g.current.delete(Se),we=!0}we?(W=0,he=1e3):(W++,W>1&&(he=2500)),me.length>0&&(console.log("Calling handleTaskMove with",me.length,"items"),await jh(me)),ce=setTimeout(fe,he)}catch(Te){console.error("Error in polling loop:",Te),ce&&(clearTimeout(ce),ce=null),g.current.clear()}finally{_=!1}};fe()}};await M.board.ui.on("selection:update",re),re()}else console.log(" Using mock mode - data stored in browser");const F=await It();u(F)}catch(M){console.error(" Initialization error:",M);const q=await It();u(q)}finally{m(!1)}})(),()=>{ce&&clearTimeout(ce)}},[]);const ee=async ce=>{await og(ce),u(ce)},L=async ce=>{const{instance:ne}=await tl();let G=1024,ie=768;ce==="task-form"?(G=400,ie=600):ce==="recurring-tasks"?(G=600,ie=800):ce==="settings"?(G=800,ie=600):ce==="standup"?(G=1320,ie=920):ce==="tools"&&(G=900,ie=700),ne&&ne.board&&ne.board.ui?await ne.board.ui.openModal({url:`/agile-calendar/?mode=${ce}`,width:G,height:ie,fullscreen:!1}):window.open(`/agile-calendar/?mode=${ce}`,"_blank")},E=()=>{O(c),p("create"),C(void 0),r("task-form")},J=ce=>{O(c),p("edit"),C(ce.id),r("task-form")},Z=async()=>{const ne=new URLSearchParams(window.location.search).get("mode");if(ne==="create"||ne==="edit"||ne==="task-form"){const{instance:G}=await tl();G&&G.board&&G.board.ui?await G.board.ui.closeModal():window.close()}else r(T&&T!=="task-form"?T:"tasks"),C(void 0),O(null)},Q=async ce=>{if(!d)return;const ne=(d.recurringTasks||[]).findIndex(P=>P.id===ce.id);let G=[...d.recurringTasks||[]];ne>=0?G[ne]=ce:G.push(ce);const ie={...d,recurringTasks:G};try{await ee(ie);const P=new Date(d.baseMonth+"-01"),M=[];for(let re=0;re<d.viewSpanMonths;re++){const oe=new Date(P.getFullYear(),P.getMonth()+re,1);M.push(`${oe.getFullYear()}-${String(oe.getMonth()+1).padStart(2,"0")}`)}if(await so(ie,M),alert(""),new URLSearchParams(window.location.search).get("mode")==="recurring-tasks"){const{instance:re}=await tl();re&&re.board&&re.board.ui?await re.board.ui.closeModal():window.close()}}catch(P){console.error(P),alert("")}},de=async ce=>{if(d)try{const ne=new Date(d.baseMonth+"-01"),G=[];for(let ie=0;ie<d.viewSpanMonths;ie++){const P=new Date(ne.getFullYear(),ne.getMonth()+ie,1);G.push(`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`)}await so(d,G,ce),alert("")}catch(ne){console.error(ne),alert("")}},ve=async ce=>{if(!d)return;const ne={...d,recurringTasks:(d.recurringTasks||[]).filter(G=>G.id!==ce)};try{await ee(ne),alert("")}catch(G){console.error(G),alert("")}};return f||!d?s.jsx("div",{className:"loading",children:"Miro SDK..."}):c==="menu"?s.jsxs("div",{className:"app menu-mode",children:[!b&&s.jsx("div",{className:"mock-banner",children:" "}),s.jsxs("div",{className:"menu-container",children:[s.jsx("h1",{className:"menu-title",children:"Agile Calendar"}),s.jsxs("div",{style:{textAlign:"right",fontSize:"0.8em",color:"#666",marginTop:"-20px",marginBottom:"10px"},children:["Build: ",lp.buildNumber]}),s.jsx("button",{className:"menu-button",onClick:()=>L("tasks"),children:" "}),s.jsx("button",{className:"menu-button",onClick:()=>L("standup"),children:" "}),s.jsx("button",{className:"menu-button",onClick:()=>L("tracks"),children:" "}),s.jsx("button",{className:"menu-button",onClick:()=>L("recurring-tasks"),children:" "}),s.jsx("button",{className:"menu-button",onClick:()=>L("calendar"),children:" "}),s.jsx("button",{className:"menu-button",onClick:()=>L("tools"),children:" "}),s.jsx("button",{className:"menu-button secondary",onClick:()=>L("settings"),children:" "}),s.jsx("button",{className:"menu-button secondary",onClick:()=>V(!0),children:" "})]}),I&&s.jsx("div",{className:"debug-overlay",onClick:()=>V(!1),children:s.jsxs("div",{className:"debug-content",onClick:ce=>ce.stopPropagation(),children:[s.jsx("h2",{children:"API Statistics"}),s.jsx("pre",{children:JSON.stringify(Vt.getStats(),null,2)}),s.jsxs("div",{className:"debug-actions",children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(Vt.getStats(),null,2)),alert("Copied to clipboard!")},children:"Copy"}),s.jsx("button",{onClick:()=>V(!1),children:"Close"}),s.jsx("button",{onClick:()=>{Vt.reset(),V(!1)},children:"Reset"})]})]})})]}):s.jsxs("div",{className:"app modal-mode",children:[c==="task-form"&&s.jsx(Pg,{taskId:x,mode:v,onClose:Z}),c==="recurring-tasks"&&s.jsx(tp,{settings:d,onSave:Q,onDelete:ve,onReapply:de,onCancel:()=>r("menu")}),c==="tasks"&&s.jsx(Sg,{onCreateTask:E,onEditTask:J}),c==="standup"&&s.jsx(_g,{settings:d,onSettingsUpdate:ee,onEditTask:J,currentDate:U,onDateChange:A}),c==="tracks"&&s.jsx(Eg,{settings:d,onSettingsUpdate:ee}),c==="calendar"&&s.jsx(jg,{settings:d,onSettingsUpdate:ee}),c==="tools"&&s.jsx(Wg,{}),c==="settings"&&s.jsx(Cg,{settings:d,onSettingsUpdate:ee})]})},ip=async()=>{if(typeof window<"u"&&window.miro){const c=window.miro;try{await c.board.ui.on("icon:click",async()=>{await c.board.ui.openPanel({url:""})})}catch(r){console.error("Miro initialization error:",r)}}};ip();ig.createRoot(document.getElementById("root")).render(s.jsx(ui.StrictMode,{children:s.jsx(np,{})}));
